{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\dashboard\\DashboardMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\dashboard\\DashboardMain.vue","mtime":1639556685346},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1620898435163},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport _slicedToArray from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _defineProperty from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as TYPE from '@/actionTypes.js';\nimport PermissionsMixin from '@/components/common/PermissionsMixin';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { mapActions, mapGetters } from 'vuex';\nimport { DashboardFilterSourceType } from '@/constants/Report';\nimport { DashboardAllSellerTitle, DashboardViolatorTitle, DashboardViolatorTitleNoTrueMap, DashboardWidgetId } from '@/constants/Dashboard';\nimport configDailyViolator from '@/store/modules/page/dashboard/configs/daily-violator';\nimport dailyViolatorWithInventory from '@/store/modules/page/dashboard/configs/daily-violator-with-inventory';\nexport default {\n  props: ['selected'],\n  mixins: [PermissionsMixin],\n  data: function data() {\n    return {\n      dashboardFilterSourceType: _.cloneDeep(DashboardFilterSourceType),\n      dashboardAllSellerTitle: _.cloneDeep(DashboardAllSellerTitle),\n      dashboardViolatorTitle: _.cloneDeep(DashboardViolatorTitle),\n      dashboardViolatorTitleNoTrueMap: _.cloneDeep(DashboardViolatorTitleNoTrueMap),\n      dashboardWidgetId: _.cloneDeep(DashboardWidgetId),\n      dates: [],\n      selectedDate: null,\n      sdkConfigInitialized: false,\n      sdkConfigForceReload: 0,\n      violationDataSourceConnection: {\n        client_id: null,\n        type: 'vio',\n        // violation\n        ds_external_id: null\n      },\n      violationInvDataSourceConnection: {\n        client_id: null,\n        type: 'vio_inv',\n        // violation with inventory\n        ds_external_id: null\n      }\n    };\n  },\n  computed: _objectSpread({}, mapGetters({\n    getPermissions: \"mw/\".concat(TYPE.GET_PERMISSIONS),\n    dataViolator: \"mw/dashboard/\".concat(TYPE.GET_DATA_VIOLATOR),\n    dataViolatorWithInventory: \"mw/dashboard/\".concat(TYPE.GET_DATA_VIOLATOR_WITH_INVENTORY),\n    dataTopViolatedProductViolator: \"mw/dashboard/\".concat(TYPE.GET_DATA_TOP_VIOLATED_PRODUCTS_7D),\n    dataNew1stTimeViolator: \"mw/dashboard/\".concat(TYPE.GET_DATA_NEW_1ST_TIME),\n    dataNew2ndTimeViolator: \"mw/dashboard/\".concat(TYPE.GET_DATA_NEW_2ND_TIME),\n    dataSellerViolations7d: \"mw/dashboard/\".concat(TYPE.GET_DATA_SELLER_VIOLATIONS_7D),\n    dataAvgPercentageOffMap: \"mw/dashboard/\".concat(TYPE.GET_DATA_AVG_PERCENTAGE_OFF_MAP),\n    dataNewRepeatViolators: \"mw/dashboard/\".concat(TYPE.GET_DATA_NEW_REPEAT_VIOLATORS),\n    dataAllRepeatOffenders: \"mw/dashboard/\".concat(TYPE.GET_DATA_ALL_REPEAT_OFFENDERS),\n    mainConfig: \"mw/dashboard/\".concat(TYPE.GET_DATA_CONFIG_VIOLATOR),\n    downloadDailyLoader: \"mw/dashboard/\".concat(TYPE.GET_DOWNLOAD_DAILY_LOADER),\n    downloadNewRepeatLoader: \"mw/dashboard/\".concat(TYPE.GET_DOWNLOAD_NEW_REPEAT_LOADER),\n    dataDateHistorical: \"mw/dashboard/\".concat(TYPE.GET_DATE_HISTORICAL),\n    orgIs: \"mw/\".concat(TYPE.GET_ORG_IS)\n  })),\n  methods: _objectSpread(_objectSpread({}, mapActions({\n    fetchDataViolator: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_VIOLATOR),\n    fetchAllWidgetData: \"mw/dashboard/\".concat(TYPE.FETCH_ALL_WIDGET),\n    fetchDataDailyWithInventoryViolator: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_VIOLATOR_WITH_INVENTORY),\n    fetchDataTopViolatedProduct: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_TOP_VIOLATED_PRODUCTS_7D),\n    fetchDataNew1stTimeViolator: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_NEW_1ST_TIME),\n    fetchDataNew2ndTimeViolator: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_NEW_2ND_TIME),\n    fetchDataSellerViolations7d: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_SELLER_VIOLATIONS_7D),\n    fetchDataAvgPercentageOffMap: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_AVG_PERCENTAGE_OFF_MAP),\n    fetchDataNewRepeatViolators: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_NEW_REPEAT_VIOLATORS),\n    fetchDataAllRepeatOffenders: \"mw/dashboard/\".concat(TYPE.FETCH_DATA_ALL_REPEAT_OFFENDERS),\n    getDsMaps: \"mw/dashboard/\".concat(TYPE.GET_DS_MAPS),\n    downloadDailyViolations: \"mw/dashboard/\".concat(TYPE.FETCH_DOWNLOAD_DAILY_VIOLATIONS),\n    downloadNewRepeatViolators: \"mw/dashboard/\".concat(TYPE.FETCH_DOWNLOAD_NEW_REPEAT_VIOLATORS),\n    downloadDailyViolationsWithInventory: \"mw/dashboard/\".concat(TYPE.FETCH_DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY),\n    fetchDataDateHistorical: \"mw/dashboard/\".concat(TYPE.FETCH_DATE_HISTORICAL),\n    setSelectedDate: \"mw/dashboard/\".concat(TYPE.SET_SELECTED_DATE)\n  })), {}, {\n    syncMarketplaceParams: function syncMarketplaceParams(marketplace) {\n      return _.includes(marketplace, 'amazon') ? marketplace.replace(/[_]/g, '.') : marketplace;\n    },\n    handleDataViolator: function handleDataViolator(marketplace) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        _this.fetchDataViolator(_this.useShareTokenIfNeed({\n          date: _this.selectedDate,\n          marketplace: marketplace,\n          report_id: _this.selected.report._id,\n          seller_type: _this.selected.seller_type,\n          fulfillment: _this.selected.fulfillment,\n          show_upc_in_dashboard: _this.selected.report.show_upc_in_dashboard\n        })).then(function () {\n          var fakeDaily = _objectSpread({}, _this.dataViolator);\n\n          fakeDaily = _this.emptyRowData(fakeDaily, _this.getIgnoredColumnsDaily(_this.selected.report));\n\n          if (_this.selected.report && !_this.selected.report.show_upc_in_dashboard) {\n            fakeDaily = _this.removeColumnData(fakeDaily, ['upc/ean']);\n          }\n\n          window.mw_dashboard_main_daily_visitors = fakeDaily;\n          resolve();\n        });\n      });\n    },\n\n    /**\r\n     * Use share token\r\n     * Add needed source param\r\n     */\n    useShareTokenIfNeed: function useShareTokenIfNeed(object) {\n      if (this.selected.share_token) {\n        _.assign(object, {\n          share_token: this.selected.share_token\n        });\n      }\n\n      _.assign(object, {\n        source: this.selected.source\n      });\n\n      _.assign(object, {\n        is_true_map: !!this.selected.report.true_map_report\n      });\n\n      return object;\n    },\n    getIgnoredColumnsDaily: function getIgnoredColumnsDaily(report) {\n      var ignoredColumns = [];\n\n      if (report && report.ignore_screenshot) {\n        ignoredColumns.push('screenshot', 'captured_at');\n      }\n\n      if (report && report.ignore_price_tracking) {\n        ignoredColumns.push('map_price', 'diff', 'diff_percent');\n      }\n\n      if (report && this.selected.marketplace === 'google_shopping') {\n        ignoredColumns.push('fba', 'prime');\n      }\n\n      return ignoredColumns;\n    },\n    handleDataDailyWithInventoryViolator: function handleDataDailyWithInventoryViolator(marketplace) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this2.fetchDataDailyWithInventoryViolator({\n          date: _this2.selectedDate,\n          marketplace: marketplace,\n          report_id: _this2.selected.report._id,\n          seller_type: _this2.selected.seller_type,\n          fulfillment: _this2.selected.fulfillment,\n          show_upc_in_dashboard: _this2.selected.report.show_upc_in_dashboard,\n          source: _this2.selected.source,\n          is_true_map: !!_this2.selected.report.true_map_report\n        }).then(function () {\n          var fakeDaily = _objectSpread({}, _this2.dataViolatorWithInventory);\n\n          fakeDaily = _this2.emptyRowData(fakeDaily, _this2.getIgnoredColumnsDaily(_this2.selected.report));\n\n          if (_this2.selected.report && !_this2.selected.report.show_upc_in_dashboard) {\n            fakeDaily = _this2.removeColumnData(fakeDaily, ['upc/ean']);\n          }\n\n          window.mw_dashboard_main_daily_with_inventory_visitors = fakeDaily;\n          resolve();\n        });\n      });\n    },\n    handleDataTopViolatedProduct: function handleDataTopViolatedProduct(marketplace) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3.fetchDataTopViolatedProduct(_this3.useShareTokenIfNeed({\n          date: _this3.selectedDate,\n          marketplace: marketplace,\n          report_id: _this3.selected.report._id,\n          seller_type: _this3.selected.seller_type,\n          fulfillment: _this3.selected.fulfillment\n        })).then(function () {\n          window.mw_dashboard_top_violated = _this3.dataTopViolatedProductViolator;\n          resolve();\n        });\n      });\n    },\n    handleDataNew1stTimeViolator: function handleDataNew1stTimeViolator(marketplace) {\n      var _this4 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this4.fetchDataNew1stTimeViolator(_this4.useShareTokenIfNeed({\n          date: _this4.selectedDate,\n          marketplace: marketplace,\n          report_id: _this4.selected.report._id,\n          seller_type: _this4.selected.seller_type,\n          fulfillment: _this4.selected.fulfillment,\n          show_upc_in_dashboard: _this4.selected.report.show_upc_in_dashboard\n        })).then(function () {\n          var fake1stData = _objectSpread({}, _this4.dataNew1stTimeViolator);\n\n          fake1stData = _this4.emptyRowData(fake1stData, _this4.getIgnoredColumns1st(_this4.selected.report));\n\n          if (_this4.selected.report && !_this4.selected.report.show_upc_in_dashboard) {\n            fake1stData = _this4.removeColumnData(fake1stData, ['upc/ean']);\n          }\n\n          window.mw_dashboard_new_1st_time = fake1stData;\n          resolve();\n        });\n      });\n    },\n    getIgnoredColumns1st: function getIgnoredColumns1st(report) {\n      var ignoredColumns = [];\n\n      if (report && report.ignore_price_tracking) {\n        ignoredColumns.push('map');\n      }\n\n      if (report && report.ignore_screenshot) {\n        ignoredColumns.push('screenshot');\n      }\n\n      return ignoredColumns;\n    },\n    handleDataNew2ndTimeViolator: function handleDataNew2ndTimeViolator(marketplace) {\n      var _this5 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this5.fetchDataNew2ndTimeViolator(_this5.useShareTokenIfNeed({\n          date: _this5.selectedDate,\n          marketplace: marketplace,\n          report_id: _this5.selected.report._id,\n          seller_type: _this5.selected.seller_type,\n          fulfillment: _this5.selected.fulfillment,\n          show_upc_in_dashboard: _this5.selected.report.show_upc_in_dashboard\n        })).then(function () {\n          var fake2nd = _objectSpread({}, _this5.dataNew2ndTimeViolator);\n\n          fake2nd = _this5.emptyRowData(fake2nd, _this5.getIgnoredColumns2st(_this5.selected.report));\n\n          if (_this5.selected.report && !_this5.selected.report.show_upc_in_dashboard) {\n            fake2nd = _this5.removeColumnData(fake2nd, ['upc/ean']);\n          }\n\n          window.mw_dashboard_new_2nd_time = fake2nd;\n          resolve();\n        });\n      });\n    },\n    getIgnoredColumns2st: function getIgnoredColumns2st(report) {\n      var ignoredColumns = [];\n\n      if (report && report.ignore_price_tracking) {\n        ignoredColumns.push('map');\n      }\n\n      if (report.marketplace === 'google_shopping') {\n        ignoredColumns = ['date_violated'];\n      }\n\n      return ignoredColumns;\n    },\n    handleDataSellerViolations7d: function handleDataSellerViolations7d(marketplace) {\n      var _this6 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this6.fetchDataSellerViolations7d(_this6.useShareTokenIfNeed({\n          date: _this6.selectedDate,\n          marketplace: marketplace,\n          report_id: _this6.selected.report._id,\n          seller_type: _this6.selected.seller_type,\n          fulfillment: _this6.selected.fulfillment\n        })).then(function () {\n          window.mw_dashboard_seller_violations_7d = _this6.dataSellerViolations7d;\n          resolve();\n        });\n      });\n    },\n    handleDataAvgPercentageOffMap: function handleDataAvgPercentageOffMap(marketplace) {\n      var _this7 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this7.fetchDataAvgPercentageOffMap(_this7.useShareTokenIfNeed({\n          date: _this7.selectedDate,\n          marketplace: marketplace,\n          report_id: _this7.selected.report._id,\n          seller_type: _this7.selected.seller_type,\n          fulfillment: _this7.selected.fulfillment\n        })).then(function () {\n          var fakeAVGPercent = _objectSpread({}, _this7.dataAvgPercentageOffMap);\n\n          fakeAVGPercent = _this7.emptyRowData(fakeAVGPercent, _this7.getIgnoredColumnsAvgPercent(_this7.selected.report));\n          window.mw_dashboard_avg_percentage_off_map = _.cloneDeep(fakeAVGPercent);\n          resolve();\n        });\n      });\n    },\n    getIgnoredColumnsAvgPercent: function getIgnoredColumnsAvgPercent(report) {\n      var ignoredColumns = [];\n\n      if (report && report.ignore_price_tracking) {\n        ignoredColumns.push('seller_name', 'average_off_map_percent', 'average_off_map_percent');\n      }\n\n      return ignoredColumns;\n    },\n    handleDataAllRepeatOffenders: function handleDataAllRepeatOffenders(marketplace) {\n      var _this8 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this8.fetchDataAllRepeatOffenders(_this8.useShareTokenIfNeed({\n          date: _this8.selectedDate,\n          marketplace: marketplace,\n          report_id: _this8.selected.report._id,\n          seller_type: _this8.selected.seller_type,\n          fulfillment: _this8.selected.fulfillment\n        })).then(function () {\n          window.mw_dashboard_all_repeat_offenders = _this8.dataAllRepeatOffenders;\n          resolve();\n        });\n      });\n    },\n    handleDataNewRepeatViolators: function handleDataNewRepeatViolators(marketplace) {\n      var _this9 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this9.fetchDataNewRepeatViolators(_this9.useShareTokenIfNeed({\n          date: _this9.selectedDate,\n          marketplace: marketplace,\n          report_id: _this9.selected.report._id,\n          seller_type: _this9.selected.seller_type,\n          fulfillment: _this9.selected.fulfillment,\n          show_upc_in_dashboard: _this9.selected.report.show_upc_in_dashboard\n        })).then(function () {\n          var fakeNewRepeat = _objectSpread({}, _this9.dataNewRepeatViolators);\n\n          fakeNewRepeat = _this9.emptyRowData(fakeNewRepeat, _this9.getIgnoredColumnsNewRepeat(_this9.selected.report));\n\n          if (_this9.selected.report && !_this9.selected.report.show_upc_in_dashboard) {\n            fakeNewRepeat = _this9.removeColumnData(fakeNewRepeat, ['upc/ean']);\n          }\n\n          window.mw_dashboard_new_repeat_violators = fakeNewRepeat;\n          resolve();\n        });\n      });\n    },\n    getIgnoredColumnsNewRepeat: function getIgnoredColumnsNewRepeat(report) {\n      var ignoredColumns = [];\n\n      if (report && report.ignore_price_tracking) {\n        ignoredColumns.push('map', 'diff_percent');\n      }\n\n      return ignoredColumns;\n    },\n    handlePrepareApisForData: function handlePrepareApisForData(isOeUser, marketplace) {\n      var apis = [this.handleDataViolator(marketplace), this.handleDataTopViolatedProduct(marketplace), this.handleDataSellerViolations7d(marketplace), this.handleDataAvgPercentageOffMap(marketplace), this.handleDataNew1stTimeViolator(marketplace), this.handleDataNew2ndTimeViolator(marketplace), this.handleDataNewRepeatViolators(marketplace), this.handleDataAllRepeatOffenders(marketplace)];\n\n      if (isOeUser) {\n        apis.push(this.handleDataDailyWithInventoryViolator(marketplace));\n      }\n\n      return apis;\n    },\n    handlePrepareApisForDataOptimized: function handlePrepareApisForDataOptimized(isOeUser, marketplace) {\n      return [this.fetchAllWidgetData({\n        date: this.selectedDate,\n        marketplace: marketplace,\n        report_id: this.selected.report._id,\n        seller_type: this.selected.seller_type,\n        fulfillment: this.selected.fulfillment,\n        show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard,\n        source: this.selected.source,\n        is_true_map: !!this.selected.report.true_map_report\n      })];\n    },\n    _fetchDashboardWidgetData: function () {\n      var _fetchDashboardWidgetData2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this10 = this;\n\n        var marketplace, invsee, isTrueMap, apis, self;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                marketplace = this.syncMarketplaceParams(this.selected.marketplace);\n                invsee = _.get(this.getPermissions, 'permissions.invsee');\n                isTrueMap = !!this.selected.report.true_map_report;\n                apis = this.handlePrepareApisForDataOptimized(invsee, marketplace);\n                self = this;\n                _context.next = 7;\n                return Promise.all(apis).then(function () {\n                  // TODO: move data source outside these promise\n                  // handleDataViolator\n                  // let fakeDaily = { ...this.dataViolator }\n                  // fakeDaily = this.emptyRowData(fakeDaily, this.getIgnoredColumnsDaily(this.selected.report))\n                  // if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\n                  //   fakeDaily = this.removeColumnData(fakeDaily, ['upc/ean'])\n                  // }\n                  // window.mw_dashboard_main_daily_visitors = fakeDaily\n                  // handleDataTopViolatedProduct\n                  window.mw_dashboard_top_violated = _this10.dataTopViolatedProductViolator; // handleDataSellerViolations7d\n\n                  // handleDataSellerViolations7d\n                  window.mw_dashboard_seller_violations_7d = _this10.dataSellerViolations7d; // handleDataAvgPercentageOffMap\n\n                  // handleDataAvgPercentageOffMap\n                  var fakeAVGPercent = _objectSpread({}, _this10.dataAvgPercentageOffMap);\n\n                  fakeAVGPercent = _this10.emptyRowData(fakeAVGPercent, _this10.getIgnoredColumnsAvgPercent(_this10.selected.report));\n                  window.mw_dashboard_avg_percentage_off_map = _.cloneDeep(fakeAVGPercent); // handleDataNew1stTimeViolator\n\n                  // handleDataNew1stTimeViolator\n                  var fake1stData = _objectSpread({}, _this10.dataNew1stTimeViolator);\n\n                  fake1stData = _this10.emptyRowData(fake1stData, _this10.getIgnoredColumns1st(_this10.selected.report));\n\n                  if (_this10.selected.report && !_this10.selected.report.show_upc_in_dashboard) {\n                    fake1stData = _this10.removeColumnData(fake1stData, ['upc/ean']);\n                  }\n\n                  window.mw_dashboard_new_1st_time = fake1stData; // handleDataNew2ndTimeViolator\n\n                  // handleDataNew2ndTimeViolator\n                  var fake2nd = _objectSpread({}, _this10.dataNew2ndTimeViolator);\n\n                  fake2nd = _this10.emptyRowData(fake2nd, _this10.getIgnoredColumns2st(_this10.selected.report));\n\n                  if (_this10.selected.report && !_this10.selected.report.show_upc_in_dashboard) {\n                    fake2nd = _this10.removeColumnData(fake2nd, ['upc/ean']);\n                  }\n\n                  window.mw_dashboard_new_2nd_time = fake2nd;\n\n                  if (_this10.selected.report.true_map_report) {\n                    // handleDataNewRepeatViolators\n                    var fakeNewRepeat = _objectSpread({}, _this10.dataNewRepeatViolators);\n\n                    fakeNewRepeat = _this10.emptyRowData(fakeNewRepeat, _this10.getIgnoredColumnsNewRepeat(_this10.selected.report));\n\n                    if (_this10.selected.report && !_this10.selected.report.show_upc_in_dashboard) {\n                      fakeNewRepeat = _this10.removeColumnData(fakeNewRepeat, ['upc/ean']);\n                    }\n\n                    window.mw_dashboard_new_repeat_violators = fakeNewRepeat;\n                  } // handleDataAllRepeatOffenders\n\n\n                  // handleDataAllRepeatOffenders\n                  window.mw_dashboard_all_repeat_offenders = _this10.dataAllRepeatOffenders;\n                  var cloneObj = $.extend(true, {}, _this10.mainConfig); // TODO Remove this function when Builder mode was merged into develop\n\n                  // TODO Remove this function when Builder mode was merged into develop\n                  if (self.selected.report && self.selected.report.client_id === '98596dc6-c495-4ff8-83fc-81e9b46232cd') {\n                    cloneObj.widgets = cloneObj.widgets.filter(function (c, i) {\n                      return i < 2;\n                    });\n                  }\n\n                  var widgets = cloneObj.widgetLayout.widgets;\n                  var handledSeparationDataSource = [DashboardWidgetId.daily_violator, DashboardWidgetId.daily_violator_with_inventory]; // WIDGET DAILY VIOLATOR AT THE TOP\n\n                  // WIDGET DAILY VIOLATOR AT THE TOP\n                  widgets.unshift(_this10.buildConfigWidgetDailyViolator(marketplace, isTrueMap));\n\n                  if (invsee && _this10.orgIs) {\n                    // WIDGET DAILY VIOLATOR WITH INVENTORY AT THE BOTTOM\n                    widgets.push(_this10.buildConfigWidgetDailyViolatorWithInventory(marketplace, isTrueMap));\n                  }\n\n                  var _iterator = _createForOfIteratorHelper(widgets.entries()),\n                      _step;\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      var _step$value = _slicedToArray(_step.value, 2),\n                          _index = _step$value[0],\n                          widget = _step$value[1];\n\n                      var widgetId = widget.config.widget_id;\n\n                      if (widgetId && !handledSeparationDataSource.includes(widgetId)) {\n                        // some titles are initialized with data source separation handler in handledSeparationDataSource\n                        // TODO: remove\n                        var text = _this10.selected.source === _this10.dashboardFilterSourceType.ALL_SELLERS ? _this10.dashboardAllSellerTitle[widgetId] : isTrueMap ? _this10.dashboardViolatorTitle[widgetId] : _this10.dashboardViolatorTitleNoTrueMap[widgetId];\n                        cloneObj.widgetLayout.widgets[_index].config.widget.title.text = text;\n                      }\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  if (!isTrueMap) {\n                    cloneObj.widgetLayout.widgets = _.filter(cloneObj.widgetLayout.widgets, function (item) {\n                      return !_.includes([_this10.dashboardWidgetId.avg_percentage_off_map, _this10.dashboardWidgetId.new_repeat_violators], item.config.widget_id);\n                    });\n\n                    if (_this10.selected.source !== _this10.dashboardFilterSourceType.ALL_SELLERS) {\n                      var index = _.findIndex(cloneObj.widgetLayout.widgets, function (item) {\n                        return item.config.widget_id === _this10.dashboardWidgetId.all_repeat_offenders;\n                      });\n\n                      if (index > 0) {\n                        cloneObj.widgetLayout.widgets[index].config.elements[0].config.columns[1].displayName = 'Days with Listings';\n                        cloneObj.widgetLayout.widgets[index].config.elements[0].config.columns[2].displayName = 'Number of Listings Active';\n                      }\n                    }\n\n                    cloneObj.widgetLayout.widgets[1].config.grid.h = 40;\n                    cloneObj.widgetLayout.widgets[5].config.grid.x = 0;\n                    cloneObj.widgetLayout.widgets[5].config.grid.w = 12;\n                  }\n\n                  window.ms_dashboard_main_config = cloneObj; // TODO: SDK support API refresh data source\n\n                  // TODO: SDK support API refresh data source\n                  if (!_this10.sdkConfigInitialized) {\n                    // for first time\n                    _this10.sdkConfigInitialized = true;\n                  } else {\n                    // change dataSource effect to sdk\n                    _this10.sdkConfigForceReload++;\n                  }\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _fetchDashboardWidgetData() {\n        return _fetchDashboardWidgetData2.apply(this, arguments);\n      }\n\n      return _fetchDashboardWidgetData;\n    }(),\n    buildConfigWidgetDailyViolator: function buildConfigWidgetDailyViolator(marketplace, isTrueMap) {\n      var widgetId = DashboardWidgetId.daily_violator;\n      var filter = this.buildFilterDailyViolator(marketplace);\n      var titleWidget = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS ? this.dashboardAllSellerTitle[widgetId] : isTrueMap ? this.dashboardViolatorTitle[widgetId] : this.dashboardViolatorTitleNoTrueMap[widgetId];\n      var ignoreColumns = [];\n      var emptyDataColumns = [];\n\n      if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\n        ignoreColumns.push('upc');\n      }\n\n      return {\n        type: 'cbpo-widget',\n        config: configDailyViolator(this.violationDataSourceConnection.ds_external_id, filter, titleWidget, ignoreColumns, emptyDataColumns)\n      };\n    },\n    buildFilterDailyViolator: function buildFilterDailyViolator(marketplace) {\n      var conditions = [{\n        column: 'marketplace',\n        operator: '==',\n        value: marketplace\n      }, {\n        column: 'report_id',\n        operator: '==',\n        // value: 'f183a181-5fc7-46f9-a3c9-4f53dae9dc97'\n        value: this.selected.report._id\n      }];\n\n      if (!_.isEmpty(this.selected.fulfillment)) {\n        var operator = this.selected.fulfillment === 'FBA' ? 'is_true' : 'is_false';\n        conditions.push({\n          column: 'fba',\n          value: '',\n          operator: operator\n        });\n      }\n\n      conditions.push({\n        column: 'violation_date_string',\n        operator: '==',\n        value: this.selectedDate\n      });\n\n      if (_.isEqual(this.selected.seller_type, 'authorized_sellers')) {\n        conditions.push({\n          column: 'is_authorized_seller',\n          operator: 'is_true',\n          value: ''\n        });\n      }\n\n      if (_.isEqual(this.selected.source, this.dashboardFilterSourceType.VIOLATIONS)) {\n        conditions.push({\n          column: 'is_violation',\n          operator: 'is_true',\n          value: ''\n        });\n      }\n\n      return {\n        type: 'AND',\n        conditions: conditions\n      };\n    },\n    buildConfigWidgetDailyViolatorWithInventory: function buildConfigWidgetDailyViolatorWithInventory(marketplace, isTrueMap) {\n      var widgetId = DashboardWidgetId.daily_violator_with_inventory;\n      var titleWidget = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS ? this.dashboardAllSellerTitle[widgetId] : isTrueMap ? this.dashboardViolatorTitle[widgetId] : this.dashboardViolatorTitleNoTrueMap[widgetId];\n      var filter = this.buildFilterDailyViolatorWithInventory(marketplace);\n      return {\n        type: 'cbpo-widget',\n        config: dailyViolatorWithInventory(this.violationInvDataSourceConnection.ds_external_id, filter, titleWidget)\n      };\n    },\n    buildFilterDailyViolatorWithInventory: function buildFilterDailyViolatorWithInventory(marketplace) {\n      var conditions = [{\n        column: 'marketplace',\n        operator: '==',\n        value: marketplace\n      }, {\n        column: 'report_id',\n        operator: '==',\n        value: this.selected.report._id\n      }];\n\n      if (!_.isEmpty(this.selected.fulfillment)) {\n        var operator = this.selected.fulfillment === 'FBA' ? 'is_true' : 'is_false';\n        conditions.push({\n          column: 'fba',\n          value: '',\n          operator: operator\n        });\n      } // keeping conditions in order for the better performance from DB indexing\n\n\n      conditions.push({\n        column: 'violation_date_string',\n        operator: '==',\n        value: this.selectedDate\n      });\n\n      if (_.isEqual(this.selected.source, this.dashboardFilterSourceType.VIOLATIONS)) {\n        conditions.push({\n          column: 'is_violation',\n          operator: 'is_true',\n          value: ''\n        });\n      }\n\n      if (_.isEqual(this.selected.seller_type, 'authorized_sellers')) {\n        conditions.push({\n          column: 'is_authorized_seller',\n          operator: 'is_true',\n          value: ''\n        });\n      }\n\n      return {\n        type: 'AND',\n        conditions: conditions\n      };\n    },\n    emptyRowData: function emptyRowData(data) {\n      var cols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (!cols.length || !data || !data.cols || !data.rows) return data;\n      var names = data.cols.map(function (d) {\n        return d.name;\n      });\n      var indexs = cols.reduce(function (a, c) {\n        if (names.includes(c)) a.push(names.indexOf(c));\n        return a;\n      }, []).filter(function (e) {\n        return e >= 0;\n      });\n      indexs.forEach(function (i) {\n        data.rows = data.rows.map(function (r) {\n          r[i] = null;\n          return r;\n        });\n      });\n      return data;\n    },\n    // remove column from table data\n    removeColumnData: function removeColumnData(data) {\n      var cols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (!cols.length || !data || !data.cols || !data.rows) return data;\n      var names = data.cols.map(function (d) {\n        return d.name;\n      });\n      var indexs = cols.reduce(function (a, c) {\n        if (names.includes(c)) a.push(names.indexOf(c));\n        return a;\n      }, []).filter(function (e) {\n        return e >= 0;\n      });\n      indexs.forEach(function (i) {\n        data.rows = data.rows.map(function (r) {\n          r[i] = null;\n          return r;\n        });\n      });\n      return data;\n    },\n    handleCaseRemoveColumn: function handleCaseRemoveColumn(widgetName, arrayLabel) {\n      var widget = this.findWidgetByLabel(window.ms_dashboard_main_config.widgetLayout.widgets, widgetName);\n\n      if (widget) {\n        widget.config.elements[0].config.columns = this.removeColumnByLabel(widget.config.elements[0].config.columns, arrayLabel);\n      }\n    },\n    removeColumnByLabel: function removeColumnByLabel(arrayColumn, arrayLabel) {\n      return arrayColumn.filter(function (column) {\n        return !arrayLabel.includes(column.name);\n      });\n    },\n    _renderDashboardWidgets: function _renderDashboardWidgets() {\n      var isAllSellerMode = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS;\n      var isTrueMap = !!this.selected.report.true_map_report;\n      var titleSource = isAllSellerMode ? this.dashboardAllSellerTitle : !isTrueMap && !isAllSellerMode ? this.dashboardViolatorTitleNoTrueMap : this.dashboardViolatorTitle;\n\n      if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\n        this.handleCaseRemoveColumn(titleSource.daily_violator, ['upc/ean']);\n        this.handleCaseRemoveColumn(titleSource.new_1st_time_violator, ['upc/ean']);\n        this.handleCaseRemoveColumn(titleSource.new_2nd_time_violator, ['upc/ean']);\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['upc/ean']);\n        this.handleCaseRemoveColumn(titleSource.daily_violator_with_inventory, ['upc/ean']);\n      }\n\n      if (!isTrueMap) {\n        this.handleCaseRemoveColumn(titleSource.daily_violator, ['map_price', 'diff', 'diff_percent']);\n        this.handleCaseRemoveColumn(titleSource.daily_violator_with_inventory, ['diff', 'diff_percent']);\n        this.handleCaseRemoveColumn(titleSource.new_1st_time_violator, ['map']);\n        this.handleCaseRemoveColumn(titleSource.new_2nd_time_violator, ['map']);\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['map', 'diff_percent']);\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['map', 'diff_percent']);\n      } // let el = $(this.$el).find('.widgets-container:eq(0)')\n      // el.html(\n      //   '<cbpo-dashboard config-ref=\"ms_dashboard_main_config\" class=\"mw-sdk-styled\" />'\n      // )\n      // this.$CBPO.wgManager().init('.widgets-container')\n      // this.$forceUpdate()\n\n\n      this.sdkConfigForceReload++;\n    },\n    findWidgetByLabel: function findWidgetByLabel(widgetArray, label) {\n      return widgetArray.find(function (widget) {\n        return widget.config.widget.title.text === label;\n      });\n    },\n    handleFetchSetting: function () {\n      var _handleFetchSetting = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var showDashboard;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.fetchSetting();\n\n              case 2:\n                showDashboard = _context2.sent;\n                return _context2.abrupt(\"return\", showDashboard);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleFetchSetting() {\n        return _handleFetchSetting.apply(this, arguments);\n      }\n\n      return handleFetchSetting;\n    }(),\n    fetchAndRenderDashboardWidgets: function () {\n      var _fetchAndRenderDashboardWidgets = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._fetchDashboardWidgetData();\n\n              case 2:\n                this._renderDashboardWidgets();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchAndRenderDashboardWidgets() {\n        return _fetchAndRenderDashboardWidgets.apply(this, arguments);\n      }\n\n      return fetchAndRenderDashboardWidgets;\n    }(),\n    createEventButtonAction: function createEventButtonAction() {\n      var _this11 = this;\n\n      // Download button NEW REPEAT widgets\n      this.$CBPO.$bus.$on(\"trigger_button_\".concat(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS), function () {\n        var marketplace = _this11.syncMarketplaceParams(_this11.selected.marketplace);\n\n        _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', true);\n\n        _this11.downloadNewRepeatViolators(_this11.useShareTokenIfNeed({\n          date: _this11.selectedDate,\n          marketplace: marketplace,\n          report_id: _this11.selected.report._id,\n          seller_type: _this11.selected.seller_type,\n          fulfillment: _this11.selected.fulfillment\n        })).then(function (link) {\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', false);\n\n          if (link && link.uri) {\n            var a = document.createElement('a');\n            a.href = link.uri;\n            a.click();\n          }\n\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', false);\n        });\n      }); // Download button DAILY VIOLATOR widget\n\n      this.$CBPO.$bus.$on(\"trigger_button_\".concat(TYPE.DOWNLOAD_DAILY_VIOLATIONS), function () {\n        var marketplace = _this11.syncMarketplaceParams(_this11.selected.marketplace);\n\n        _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', true);\n\n        _this11.downloadDailyViolations(_this11.useShareTokenIfNeed({\n          date: _this11.selectedDate,\n          marketplace: marketplace,\n          report_id: _this11.selected.report._id,\n          seller_type: _this11.selected.seller_type,\n          fulfillment: _this11.selected.fulfillment\n        })).then(function (link) {\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', false);\n\n          if (link && link.uri) {\n            var a = document.createElement('a');\n            a.href = link.uri;\n            a.click();\n          }\n\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', false);\n        });\n      });\n      this.$CBPO.$bus.$on(\"trigger_button_\".concat(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY), function () {\n        var marketplace = _this11.syncMarketplaceParams(_this11.selected.marketplace);\n\n        _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', true);\n\n        _this11.downloadDailyViolationsWithInventory(_this11.useShareTokenIfNeed({\n          date: _this11.selectedDate,\n          marketplace: marketplace,\n          report_id: _this11.selected.report._id,\n          seller_type: _this11.selected.seller_type,\n          fulfillment: _this11.selected.fulfillment\n        })).then(function (link) {\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', false);\n\n          if (link && link.uri) {\n            var a = document.createElement('a');\n            a.href = link.uri;\n            a.click();\n          }\n\n          _this11.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', false);\n        });\n      });\n    },\n    fetchDate: function () {\n      var _fetchDate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var marketplace;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // TODO: SDK support API refresh data source\n                this.sdkConfigInitialized = false;\n                marketplace = this.syncMarketplaceParams(this.selected.marketplace);\n                _context4.next = 4;\n                return this.fetchDataDateHistorical(this.useShareTokenIfNeed({\n                  marketplace: marketplace,\n                  seller_type: this.selected.seller_type,\n                  report_id: this.selected.report._id\n                }));\n\n              case 4:\n                this.dates = this.dataDateHistorical.dates;\n\n                if (this.dates.length > 0) {\n                  this.selectedDate = this.dates[0];\n                } else {\n                  this.selectedDate = null;\n                }\n\n                this.setSelectedDate(this.selectedDate); // render Dashboard Widgets\n\n                this.fetchAndRenderDashboardWidgets();\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function fetchDate() {\n        return _fetchDate.apply(this, arguments);\n      }\n\n      return fetchDate;\n    }(),\n    dateChange: function dateChange(e) {\n      this.selectedDate = e.target.value;\n      this.setSelectedDate(this.selectedDate);\n      this.fetchAndRenderDashboardWidgets();\n    },\n    _fetchDs: function () {\n      var _fetchDs2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.getDsMaps();\n\n              case 3:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 6:\n                _context5.prev = 6;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.log(_context5.t0);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 6]]);\n      }));\n\n      function _fetchDs() {\n        return _fetchDs2.apply(this, arguments);\n      }\n\n      return _fetchDs;\n    }()\n  }),\n  created: function () {\n    var _created = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n      var allDataSources;\n      return regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return this._fetchDs();\n\n            case 2:\n              allDataSources = _context6.sent;\n              this.violationDataSourceConnection = _.find(allDataSources, function (ele) {\n                return ele.type === 'vio';\n              });\n              this.violationInvDataSourceConnection = _.find(allDataSources, function (ele) {\n                return ele.type === 'vio_inv';\n              }); // TODO: filter for another data source type\n\n              this.fetchDate();\n              this.createEventButtonAction();\n\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  watch: {\n    '$route.query': function $routeQuery(val) {\n      this.fetchDate();\n    }\n  },\n  destroyed: function destroyed() {\n    this.$CBPO.$bus.$off(\"trigger_button_\".concat(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS));\n    this.$CBPO.$bus.$off(\"trigger_button_\".concat(TYPE.DOWNLOAD_DAILY_VIOLATIONS));\n    this.$CBPO.$bus.$off(\"trigger_button_\".concat(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY));\n  }\n};",{"version":3,"sources":["DashboardMain.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"animated fadeIn\">\r\n    <div class=\"widgets-container\">\r\n      <div class=\"align-middle d-flex justify-content-center align-items-center spinner-container\" v-if=\"!sdkConfigInitialized\">\r\n        <div class=\"spinner-border thin-spinner spinner-border-sm thin-spinner\"></div>&nbsp;Loading...\r\n      </div>\r\n      <!--dashboard sdk will be rendered where, DON'T change the class-->\r\n      <cbpo-dashboard v-if=\"sdkConfigInitialized\" :key=\"sdkConfigForceReload\" config-ref=\"ms_dashboard_main_config\" class=\"mw-sdk-styled\"/>\r\n    </div>\r\n    <div class=\"cbpo-s form-group mw-dashboard-control-select mb-0\" :class=\"{ 'pt-0': sdkConfigInitialized }\" v-if=\"sdkConfigInitialized\">\r\n      <label>Date:</label>\r\n      <select v-model=\"selectedDate\" @change=\"dateChange($event)\" class=\"form-control\">\r\n        <template v-for=\"(date, i) in dates\">\r\n          <option :value=\"date\" :key=\"i\">{{date}}</option>\r\n        </template>\r\n      </select>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as TYPE from '@/actionTypes.js'\r\nimport PermissionsMixin from '@/components/common/PermissionsMixin'\r\nimport $ from 'jquery'\r\nimport _ from 'lodash'\r\nimport {mapActions, mapGetters} from 'vuex'\r\nimport {DashboardFilterSourceType} from '@/constants/Report'\r\nimport {\r\n  DashboardAllSellerTitle,\r\n  DashboardViolatorTitle,\r\n  DashboardViolatorTitleNoTrueMap,\r\n  DashboardWidgetId\r\n} from '@/constants/Dashboard'\r\nimport configDailyViolator from '@/store/modules/page/dashboard/configs/daily-violator'\r\nimport dailyViolatorWithInventory from '@/store/modules/page/dashboard/configs/daily-violator-with-inventory'\r\n\r\nexport default {\r\n  props: ['selected'],\r\n  mixins: [PermissionsMixin],\r\n  data: () => ({\r\n    dashboardFilterSourceType: _.cloneDeep(DashboardFilterSourceType),\r\n    dashboardAllSellerTitle: _.cloneDeep(DashboardAllSellerTitle),\r\n    dashboardViolatorTitle: _.cloneDeep(DashboardViolatorTitle),\r\n    dashboardViolatorTitleNoTrueMap: _.cloneDeep(DashboardViolatorTitleNoTrueMap),\r\n    dashboardWidgetId: _.cloneDeep(DashboardWidgetId),\r\n    dates: [],\r\n    selectedDate: null,\r\n    sdkConfigInitialized: false,\r\n    sdkConfigForceReload: 0,\r\n    violationDataSourceConnection: {\r\n      client_id: null,\r\n      type: 'vio', // violation\r\n      ds_external_id: null\r\n    },\r\n    violationInvDataSourceConnection: {\r\n      client_id: null,\r\n      type: 'vio_inv', // violation with inventory\r\n      ds_external_id: null\r\n    }\r\n  }),\r\n  computed: {\r\n    ...mapGetters({\r\n      getPermissions: `mw/${TYPE.GET_PERMISSIONS}`,\r\n      dataViolator: `mw/dashboard/${TYPE.GET_DATA_VIOLATOR}`,\r\n      dataViolatorWithInventory: `mw/dashboard/${TYPE.GET_DATA_VIOLATOR_WITH_INVENTORY}`,\r\n      dataTopViolatedProductViolator: `mw/dashboard/${\r\n        TYPE.GET_DATA_TOP_VIOLATED_PRODUCTS_7D\r\n      }`,\r\n      dataNew1stTimeViolator: `mw/dashboard/${TYPE.GET_DATA_NEW_1ST_TIME}`,\r\n      dataNew2ndTimeViolator: `mw/dashboard/${TYPE.GET_DATA_NEW_2ND_TIME}`,\r\n      dataSellerViolations7d: `mw/dashboard/${TYPE.GET_DATA_SELLER_VIOLATIONS_7D}`,\r\n      dataAvgPercentageOffMap: `mw/dashboard/${\r\n        TYPE.GET_DATA_AVG_PERCENTAGE_OFF_MAP\r\n      }`,\r\n      dataNewRepeatViolators: `mw/dashboard/${TYPE.GET_DATA_NEW_REPEAT_VIOLATORS}`,\r\n      dataAllRepeatOffenders: `mw/dashboard/${TYPE.GET_DATA_ALL_REPEAT_OFFENDERS}`,\r\n      mainConfig: `mw/dashboard/${TYPE.GET_DATA_CONFIG_VIOLATOR}`,\r\n      downloadDailyLoader: `mw/dashboard/${TYPE.GET_DOWNLOAD_DAILY_LOADER}`,\r\n      downloadNewRepeatLoader: `mw/dashboard/${TYPE.GET_DOWNLOAD_NEW_REPEAT_LOADER}`,\r\n      dataDateHistorical: `mw/dashboard/${TYPE.GET_DATE_HISTORICAL}`,\r\n      orgIs: `mw/${TYPE.GET_ORG_IS}`\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      fetchDataViolator: `mw/dashboard/${TYPE.FETCH_DATA_VIOLATOR}`,\r\n      fetchAllWidgetData: `mw/dashboard/${TYPE.FETCH_ALL_WIDGET}`,\r\n      fetchDataDailyWithInventoryViolator: `mw/dashboard/${TYPE.FETCH_DATA_VIOLATOR_WITH_INVENTORY}`,\r\n      fetchDataTopViolatedProduct: `mw/dashboard/${\r\n        TYPE.FETCH_DATA_TOP_VIOLATED_PRODUCTS_7D\r\n      }`,\r\n      fetchDataNew1stTimeViolator: `mw/dashboard/${TYPE.FETCH_DATA_NEW_1ST_TIME}`,\r\n      fetchDataNew2ndTimeViolator: `mw/dashboard/${TYPE.FETCH_DATA_NEW_2ND_TIME}`,\r\n      fetchDataSellerViolations7d: `mw/dashboard/${\r\n        TYPE.FETCH_DATA_SELLER_VIOLATIONS_7D\r\n      }`,\r\n      fetchDataAvgPercentageOffMap: `mw/dashboard/${\r\n        TYPE.FETCH_DATA_AVG_PERCENTAGE_OFF_MAP\r\n      }`,\r\n      fetchDataNewRepeatViolators: `mw/dashboard/${\r\n        TYPE.FETCH_DATA_NEW_REPEAT_VIOLATORS\r\n      }`,\r\n      fetchDataAllRepeatOffenders: `mw/dashboard/${\r\n        TYPE.FETCH_DATA_ALL_REPEAT_OFFENDERS\r\n      }`,\r\n      getDsMaps: `mw/dashboard/${TYPE.GET_DS_MAPS}`,\r\n      downloadDailyViolations: `mw/dashboard/${TYPE.FETCH_DOWNLOAD_DAILY_VIOLATIONS}`,\r\n      downloadNewRepeatViolators: `mw/dashboard/${TYPE.FETCH_DOWNLOAD_NEW_REPEAT_VIOLATORS}`,\r\n      downloadDailyViolationsWithInventory: `mw/dashboard/${TYPE.FETCH_DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY}`,\r\n      fetchDataDateHistorical: `mw/dashboard/${TYPE.FETCH_DATE_HISTORICAL}`,\r\n      setSelectedDate: `mw/dashboard/${TYPE.SET_SELECTED_DATE}`\r\n    }),\r\n    syncMarketplaceParams(marketplace) {\r\n      return _.includes(marketplace, 'amazon') ? marketplace.replace(/[_]/g, '.') : marketplace\r\n    },\r\n    handleDataViolator(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataViolator(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard\r\n        })).then(() => {\r\n          let fakeDaily = { ...this.dataViolator }\r\n          fakeDaily = this.emptyRowData(fakeDaily, this.getIgnoredColumnsDaily(this.selected.report))\r\n          if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n            fakeDaily = this.removeColumnData(fakeDaily, ['upc/ean'])\r\n          }\r\n          window.mw_dashboard_main_daily_visitors = fakeDaily\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * Use share token\r\n     * Add needed source param\r\n     */\r\n    useShareTokenIfNeed(object) {\r\n      if (this.selected.share_token) {\r\n        _.assign(object, { share_token: this.selected.share_token })\r\n      }\r\n      _.assign(object, { source: this.selected.source })\r\n      _.assign(object, { is_true_map: !!this.selected.report.true_map_report })\r\n      return object\r\n    },\r\n    getIgnoredColumnsDaily(report) {\r\n      let ignoredColumns = []\r\n      if (report && report.ignore_screenshot) {\r\n        ignoredColumns.push('screenshot', 'captured_at')\r\n      }\r\n      if (report && report.ignore_price_tracking) {\r\n        ignoredColumns.push('map_price', 'diff', 'diff_percent')\r\n      }\r\n      if (report && this.selected.marketplace === 'google_shopping') {\r\n        ignoredColumns.push('fba', 'prime')\r\n      }\r\n      return ignoredColumns\r\n    },\r\n    handleDataDailyWithInventoryViolator(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataDailyWithInventoryViolator({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard,\r\n          source: this.selected.source,\r\n          is_true_map: !!this.selected.report.true_map_report\r\n        })\r\n          .then(() => {\r\n            let fakeDaily = { ...this.dataViolatorWithInventory }\r\n            fakeDaily = this.emptyRowData(fakeDaily, this.getIgnoredColumnsDaily(this.selected.report))\r\n            if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n              fakeDaily = this.removeColumnData(fakeDaily, ['upc/ean'])\r\n            }\r\n            window.mw_dashboard_main_daily_with_inventory_visitors = fakeDaily\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    handleDataTopViolatedProduct(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataTopViolatedProduct(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        }))\r\n          .then(() => {\r\n            window.mw_dashboard_top_violated = this.dataTopViolatedProductViolator\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    handleDataNew1stTimeViolator(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataNew1stTimeViolator(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard\r\n        })).then(() => {\r\n          let fake1stData = { ...this.dataNew1stTimeViolator }\r\n          fake1stData = this.emptyRowData(fake1stData, this.getIgnoredColumns1st(this.selected.report))\r\n          if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n            fake1stData = this.removeColumnData(fake1stData, ['upc/ean'])\r\n          }\r\n          window.mw_dashboard_new_1st_time = fake1stData\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    getIgnoredColumns1st(report) {\r\n      let ignoredColumns = []\r\n      if (report && report.ignore_price_tracking) {\r\n        ignoredColumns.push('map')\r\n      }\r\n      if (report && report.ignore_screenshot) {\r\n        ignoredColumns.push('screenshot')\r\n      }\r\n      return ignoredColumns\r\n    },\r\n    handleDataNew2ndTimeViolator(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataNew2ndTimeViolator(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard\r\n        })).then(() => {\r\n          let fake2nd = { ...this.dataNew2ndTimeViolator }\r\n          fake2nd = this.emptyRowData(fake2nd, this.getIgnoredColumns2st(this.selected.report))\r\n          if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n            fake2nd = this.removeColumnData(fake2nd, ['upc/ean'])\r\n          }\r\n          window.mw_dashboard_new_2nd_time = fake2nd\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    getIgnoredColumns2st(report) {\r\n      let ignoredColumns = []\r\n      if (report && report.ignore_price_tracking) {\r\n        ignoredColumns.push('map')\r\n      }\r\n      if (report.marketplace === 'google_shopping') {\r\n        ignoredColumns = ['date_violated']\r\n      }\r\n      return ignoredColumns\r\n    },\r\n    handleDataSellerViolations7d(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataSellerViolations7d(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        }))\r\n          .then(() => {\r\n            window.mw_dashboard_seller_violations_7d = this.dataSellerViolations7d\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    handleDataAvgPercentageOffMap(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataAvgPercentageOffMap(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        }))\r\n          .then(() => {\r\n            let fakeAVGPercent = { ...this.dataAvgPercentageOffMap }\r\n            fakeAVGPercent = this.emptyRowData(fakeAVGPercent, this.getIgnoredColumnsAvgPercent(this.selected.report))\r\n            window.mw_dashboard_avg_percentage_off_map = _.cloneDeep(fakeAVGPercent)\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    getIgnoredColumnsAvgPercent(report) {\r\n      let ignoredColumns = []\r\n      if (report && report.ignore_price_tracking) {\r\n        ignoredColumns.push('seller_name', 'average_off_map_percent', 'average_off_map_percent')\r\n      }\r\n      return ignoredColumns\r\n    },\r\n    handleDataAllRepeatOffenders(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataAllRepeatOffenders(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        }))\r\n          .then(() => {\r\n            window.mw_dashboard_all_repeat_offenders = this.dataAllRepeatOffenders\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    handleDataNewRepeatViolators(marketplace) {\r\n      return new Promise((resolve, reject) => {\r\n        this.fetchDataNewRepeatViolators(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard\r\n        })).then(() => {\r\n          let fakeNewRepeat = { ...this.dataNewRepeatViolators }\r\n          fakeNewRepeat = this.emptyRowData(fakeNewRepeat, this.getIgnoredColumnsNewRepeat(this.selected.report))\r\n          if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n            fakeNewRepeat = this.removeColumnData(fakeNewRepeat, ['upc/ean'])\r\n          }\r\n          window.mw_dashboard_new_repeat_violators = fakeNewRepeat\r\n          resolve()\r\n        })\r\n      })\r\n    },\r\n    getIgnoredColumnsNewRepeat(report) {\r\n      let ignoredColumns = []\r\n      if (report && report.ignore_price_tracking) {\r\n        ignoredColumns.push('map', 'diff_percent')\r\n      }\r\n      return ignoredColumns\r\n    },\r\n    handlePrepareApisForData(isOeUser, marketplace) {\r\n      let apis = [\r\n        this.handleDataViolator(marketplace),\r\n        this.handleDataTopViolatedProduct(marketplace),\r\n        this.handleDataSellerViolations7d(marketplace),\r\n        this.handleDataAvgPercentageOffMap(marketplace),\r\n        this.handleDataNew1stTimeViolator(marketplace),\r\n        this.handleDataNew2ndTimeViolator(marketplace),\r\n        this.handleDataNewRepeatViolators(marketplace),\r\n        this.handleDataAllRepeatOffenders(marketplace)\r\n      ]\r\n      if (isOeUser) {\r\n        apis.push(this.handleDataDailyWithInventoryViolator(marketplace))\r\n      }\r\n      return apis\r\n    },\r\n    handlePrepareApisForDataOptimized(isOeUser, marketplace) {\r\n      return [\r\n        this.fetchAllWidgetData({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment,\r\n          show_upc_in_dashboard: this.selected.report.show_upc_in_dashboard,\r\n          source: this.selected.source,\r\n          is_true_map: !!this.selected.report.true_map_report\r\n        })\r\n      ]\r\n    },\r\n    async _fetchDashboardWidgetData() {\r\n      const marketplace = this.syncMarketplaceParams(this.selected.marketplace)\r\n      const invsee = _.get(this.getPermissions, 'permissions.invsee')\r\n      const isTrueMap = !!this.selected.report.true_map_report\r\n\r\n      const apis = this.handlePrepareApisForDataOptimized(invsee, marketplace)\r\n      const self = this\r\n      await Promise.all(apis).then(() => {\r\n        // TODO: move data source outside these promise\r\n        // handleDataViolator\r\n        // let fakeDaily = { ...this.dataViolator }\r\n        // fakeDaily = this.emptyRowData(fakeDaily, this.getIgnoredColumnsDaily(this.selected.report))\r\n        // if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n        //   fakeDaily = this.removeColumnData(fakeDaily, ['upc/ean'])\r\n        // }\r\n        // window.mw_dashboard_main_daily_visitors = fakeDaily\r\n\r\n        // handleDataTopViolatedProduct\r\n        window.mw_dashboard_top_violated = this.dataTopViolatedProductViolator\r\n        // handleDataSellerViolations7d\r\n        window.mw_dashboard_seller_violations_7d = this.dataSellerViolations7d\r\n        // handleDataAvgPercentageOffMap\r\n        let fakeAVGPercent = { ...this.dataAvgPercentageOffMap }\r\n        fakeAVGPercent = this.emptyRowData(fakeAVGPercent, this.getIgnoredColumnsAvgPercent(this.selected.report))\r\n        window.mw_dashboard_avg_percentage_off_map = _.cloneDeep(fakeAVGPercent)\r\n        // handleDataNew1stTimeViolator\r\n        let fake1stData = { ...this.dataNew1stTimeViolator }\r\n        fake1stData = this.emptyRowData(fake1stData, this.getIgnoredColumns1st(this.selected.report))\r\n        if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n          fake1stData = this.removeColumnData(fake1stData, ['upc/ean'])\r\n        }\r\n        window.mw_dashboard_new_1st_time = fake1stData\r\n        // handleDataNew2ndTimeViolator\r\n        let fake2nd = { ...this.dataNew2ndTimeViolator }\r\n        fake2nd = this.emptyRowData(fake2nd, this.getIgnoredColumns2st(this.selected.report))\r\n        if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n          fake2nd = this.removeColumnData(fake2nd, ['upc/ean'])\r\n        }\r\n        window.mw_dashboard_new_2nd_time = fake2nd\r\n        if (this.selected.report.true_map_report) {\r\n          // handleDataNewRepeatViolators\r\n          let fakeNewRepeat = { ...this.dataNewRepeatViolators }\r\n          fakeNewRepeat = this.emptyRowData(fakeNewRepeat, this.getIgnoredColumnsNewRepeat(this.selected.report))\r\n          if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n            fakeNewRepeat = this.removeColumnData(fakeNewRepeat, ['upc/ean'])\r\n          }\r\n          window.mw_dashboard_new_repeat_violators = fakeNewRepeat\r\n        }\r\n        // handleDataAllRepeatOffenders\r\n        window.mw_dashboard_all_repeat_offenders = this.dataAllRepeatOffenders\r\n\r\n        let cloneObj = $.extend(true, {}, this.mainConfig)\r\n        // TODO Remove this function when Builder mode was merged into develop\r\n        if (self.selected.report && self.selected.report.client_id === '98596dc6-c495-4ff8-83fc-81e9b46232cd') {\r\n          cloneObj.widgets = cloneObj.widgets.filter((c, i) => i < 2)\r\n        }\r\n\r\n        const widgets = cloneObj.widgetLayout.widgets\r\n        const handledSeparationDataSource = [DashboardWidgetId.daily_violator, DashboardWidgetId.daily_violator_with_inventory]\r\n        // WIDGET DAILY VIOLATOR AT THE TOP\r\n        widgets.unshift(this.buildConfigWidgetDailyViolator(marketplace, isTrueMap))\r\n\r\n        if (invsee && this.orgIs) {\r\n          // WIDGET DAILY VIOLATOR WITH INVENTORY AT THE BOTTOM\r\n          widgets.push(this.buildConfigWidgetDailyViolatorWithInventory(marketplace, isTrueMap))\r\n        }\r\n\r\n        for (const [index, widget] of widgets.entries()) {\r\n          const widgetId = widget.config.widget_id\r\n          if (widgetId && !handledSeparationDataSource.includes(widgetId)) {\r\n            // some titles are initialized with data source separation handler in handledSeparationDataSource\r\n            // TODO: remove\r\n            const text = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS ? this.dashboardAllSellerTitle[widgetId] : isTrueMap ? this.dashboardViolatorTitle[widgetId] : this.dashboardViolatorTitleNoTrueMap[widgetId]\r\n            cloneObj.widgetLayout.widgets[index].config.widget.title.text = text\r\n          }\r\n        }\r\n        if (!isTrueMap) {\r\n          cloneObj.widgetLayout.widgets = _.filter(cloneObj.widgetLayout.widgets, (item) => {\r\n            return !_.includes([this.dashboardWidgetId.avg_percentage_off_map, this.dashboardWidgetId.new_repeat_violators], item.config.widget_id)\r\n          })\r\n          if (this.selected.source !== this.dashboardFilterSourceType.ALL_SELLERS) {\r\n            const index = _.findIndex(cloneObj.widgetLayout.widgets, (item) => {\r\n              return item.config.widget_id === this.dashboardWidgetId.all_repeat_offenders\r\n            })\r\n            if (index > 0) {\r\n              cloneObj.widgetLayout.widgets[index].config.elements[0].config.columns[1].displayName = 'Days with Listings'\r\n              cloneObj.widgetLayout.widgets[index].config.elements[0].config.columns[2].displayName = 'Number of Listings Active'\r\n            }\r\n          }\r\n          cloneObj.widgetLayout.widgets[1].config.grid.h = 40\r\n          cloneObj.widgetLayout.widgets[5].config.grid.x = 0\r\n          cloneObj.widgetLayout.widgets[5].config.grid.w = 12\r\n        }\r\n\r\n        window.ms_dashboard_main_config = cloneObj\r\n        // TODO: SDK support API refresh data source\r\n        if (!this.sdkConfigInitialized) {\r\n          // for first time\r\n          this.sdkConfigInitialized = true\r\n        } else {\r\n          // change dataSource effect to sdk\r\n          this.sdkConfigForceReload++\r\n        }\r\n      })\r\n    },\r\n    buildConfigWidgetDailyViolator(marketplace, isTrueMap) {\r\n      const widgetId = DashboardWidgetId.daily_violator\r\n      const filter = this.buildFilterDailyViolator(marketplace)\r\n      const titleWidget = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS ? this.dashboardAllSellerTitle[widgetId] : isTrueMap ? this.dashboardViolatorTitle[widgetId] : this.dashboardViolatorTitleNoTrueMap[widgetId]\r\n      const ignoreColumns = []\r\n      const emptyDataColumns = []\r\n      if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n        ignoreColumns.push('upc')\r\n      }\r\n      return {\r\n        type: 'cbpo-widget',\r\n        config: configDailyViolator(this.violationDataSourceConnection.ds_external_id, filter, titleWidget, ignoreColumns, emptyDataColumns)\r\n      }\r\n    },\r\n    buildFilterDailyViolator(marketplace) {\r\n      const conditions = [\r\n        {\r\n          column: 'marketplace',\r\n          operator: '==',\r\n          value: marketplace\r\n        },\r\n        {\r\n          column: 'report_id',\r\n          operator: '==',\r\n          // value: 'f183a181-5fc7-46f9-a3c9-4f53dae9dc97'\r\n          value: this.selected.report._id\r\n        }\r\n      ]\r\n      if (!_.isEmpty(this.selected.fulfillment)) {\r\n        const operator = this.selected.fulfillment === 'FBA' ? 'is_true' : 'is_false'\r\n        conditions.push({\r\n          column: 'fba',\r\n          value: '',\r\n          operator\r\n        })\r\n      }\r\n      conditions.push({\r\n        column: 'violation_date_string',\r\n        operator: '==',\r\n        value: this.selectedDate\r\n      })\r\n      if (_.isEqual(this.selected.seller_type, 'authorized_sellers')) {\r\n        conditions.push({\r\n          column: 'is_authorized_seller',\r\n          operator: 'is_true',\r\n          value: ''\r\n        })\r\n      }\r\n      if (_.isEqual(this.selected.source, this.dashboardFilterSourceType.VIOLATIONS)) {\r\n        conditions.push({\r\n          column: 'is_violation',\r\n          operator: 'is_true',\r\n          value: ''\r\n        })\r\n      }\r\n      return {\r\n        type: 'AND',\r\n        conditions\r\n      }\r\n    },\r\n    buildConfigWidgetDailyViolatorWithInventory(marketplace, isTrueMap) {\r\n      const widgetId = DashboardWidgetId.daily_violator_with_inventory\r\n      const titleWidget = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS ? this.dashboardAllSellerTitle[widgetId] : isTrueMap ? this.dashboardViolatorTitle[widgetId] : this.dashboardViolatorTitleNoTrueMap[widgetId]\r\n      const filter = this.buildFilterDailyViolatorWithInventory(marketplace)\r\n      return {\r\n        type: 'cbpo-widget',\r\n        config: dailyViolatorWithInventory(this.violationInvDataSourceConnection.ds_external_id, filter, titleWidget)\r\n      }\r\n    },\r\n    buildFilterDailyViolatorWithInventory(marketplace) {\r\n      const conditions = [\r\n        {\r\n          column: 'marketplace',\r\n          operator: '==',\r\n          value: marketplace\r\n        },\r\n        {\r\n          column: 'report_id',\r\n          operator: '==',\r\n          value: this.selected.report._id\r\n        }\r\n      ]\r\n      if (!_.isEmpty(this.selected.fulfillment)) {\r\n        const operator = this.selected.fulfillment === 'FBA' ? 'is_true' : 'is_false'\r\n        conditions.push({\r\n          column: 'fba',\r\n          value: '',\r\n          operator\r\n        })\r\n      }\r\n      // keeping conditions in order for the better performance from DB indexing\r\n      conditions.push({\r\n        column: 'violation_date_string',\r\n        operator: '==',\r\n        value: this.selectedDate\r\n      })\r\n      if (_.isEqual(this.selected.source, this.dashboardFilterSourceType.VIOLATIONS)) {\r\n        conditions.push({\r\n          column: 'is_violation',\r\n          operator: 'is_true',\r\n          value: ''\r\n        })\r\n      }\r\n      if (_.isEqual(this.selected.seller_type, 'authorized_sellers')) {\r\n        conditions.push({\r\n          column: 'is_authorized_seller',\r\n          operator: 'is_true',\r\n          value: ''\r\n        })\r\n      }\r\n      return {\r\n        type: 'AND',\r\n        conditions\r\n      }\r\n    },\r\n    emptyRowData(data, cols = []) {\r\n      if (!cols.length || !data || !data.cols || !data.rows) return data\r\n      let names = data.cols.map(d => d.name)\r\n      let indexs = cols.reduce((a, c) => {\r\n        if (names.includes(c)) a.push(names.indexOf(c))\r\n        return a\r\n      }, []).filter(e => e >= 0)\r\n      indexs.forEach(i => {\r\n        data.rows = data.rows.map(r => {\r\n          r[i] = null\r\n          return r\r\n        })\r\n      })\r\n      return data\r\n    },\r\n    // remove column from table data\r\n    removeColumnData(data, cols = []) {\r\n      if (!cols.length || !data || !data.cols || !data.rows) return data\r\n      let names = data.cols.map(d => d.name)\r\n      let indexs = cols.reduce((a, c) => {\r\n        if (names.includes(c)) a.push(names.indexOf(c))\r\n        return a\r\n      }, []).filter(e => e >= 0)\r\n      indexs.forEach(i => {\r\n        data.rows = data.rows.map(r => {\r\n          r[i] = null\r\n          return r\r\n        })\r\n      })\r\n      return data\r\n    },\r\n    handleCaseRemoveColumn(widgetName, arrayLabel) {\r\n      let widget = this.findWidgetByLabel(window.ms_dashboard_main_config.widgetLayout.widgets, widgetName)\r\n      if (widget) {\r\n        widget.config.elements[0].config.columns = this.removeColumnByLabel(widget.config.elements[0].config.columns, arrayLabel)\r\n      }\r\n    },\r\n    removeColumnByLabel(arrayColumn, arrayLabel) {\r\n      return arrayColumn.filter(column => !arrayLabel.includes(column.name))\r\n    },\r\n    _renderDashboardWidgets() {\r\n      const isAllSellerMode = this.selected.source === this.dashboardFilterSourceType.ALL_SELLERS\r\n      const isTrueMap = !!this.selected.report.true_map_report\r\n      const titleSource = isAllSellerMode ? this.dashboardAllSellerTitle : !isTrueMap && !isAllSellerMode ? this.dashboardViolatorTitleNoTrueMap : this.dashboardViolatorTitle\r\n      if (this.selected.report && !this.selected.report.show_upc_in_dashboard) {\r\n        this.handleCaseRemoveColumn(titleSource.daily_violator, ['upc/ean'])\r\n        this.handleCaseRemoveColumn(titleSource.new_1st_time_violator, ['upc/ean'])\r\n        this.handleCaseRemoveColumn(titleSource.new_2nd_time_violator, ['upc/ean'])\r\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['upc/ean'])\r\n        this.handleCaseRemoveColumn(titleSource.daily_violator_with_inventory, ['upc/ean'])\r\n      }\r\n      if (!isTrueMap) {\r\n        this.handleCaseRemoveColumn(titleSource.daily_violator, ['map_price', 'diff', 'diff_percent'])\r\n        this.handleCaseRemoveColumn(titleSource.daily_violator_with_inventory, ['diff', 'diff_percent'])\r\n        this.handleCaseRemoveColumn(titleSource.new_1st_time_violator, ['map'])\r\n        this.handleCaseRemoveColumn(titleSource.new_2nd_time_violator, ['map'])\r\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['map', 'diff_percent'])\r\n        this.handleCaseRemoveColumn(titleSource.new_repeat_violators, ['map', 'diff_percent'])\r\n      }\r\n      // let el = $(this.$el).find('.widgets-container:eq(0)')\r\n      // el.html(\r\n      //   '<cbpo-dashboard config-ref=\"ms_dashboard_main_config\" class=\"mw-sdk-styled\" />'\r\n      // )\r\n      // this.$CBPO.wgManager().init('.widgets-container')\r\n      // this.$forceUpdate()\r\n      this.sdkConfigForceReload++\r\n    },\r\n    findWidgetByLabel(widgetArray, label) {\r\n      return widgetArray.find(widget => widget.config.widget.title.text === label)\r\n    },\r\n    async handleFetchSetting() {\r\n      const showDashboard = await this.fetchSetting()\r\n      return showDashboard\r\n    },\r\n    async fetchAndRenderDashboardWidgets() {\r\n      await this._fetchDashboardWidgetData()\r\n      this._renderDashboardWidgets()\r\n    },\r\n    createEventButtonAction() {\r\n      // Download button NEW REPEAT widgets\r\n\r\n      this.$CBPO.$bus.$on(`trigger_button_${TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS}`, () => {\r\n        let marketplace = this.syncMarketplaceParams(this.selected.marketplace)\r\n        this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', true)\r\n        this.downloadNewRepeatViolators(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        })).then((link) => {\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', false)\r\n          if (link && link.uri) {\r\n            let a = document.createElement('a')\r\n            a.href = link.uri\r\n            a.click()\r\n          }\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS + '_stateChange', false)\r\n        })\r\n      })\r\n      // Download button DAILY VIOLATOR widget\r\n      this.$CBPO.$bus.$on(`trigger_button_${TYPE.DOWNLOAD_DAILY_VIOLATIONS}`, () => {\r\n        let marketplace = this.syncMarketplaceParams(this.selected.marketplace)\r\n        this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', true)\r\n        this.downloadDailyViolations(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        })).then((link) => {\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', false)\r\n          if (link && link.uri) {\r\n            let a = document.createElement('a')\r\n            a.href = link.uri\r\n            a.click()\r\n          }\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS + '_stateChange', false)\r\n        })\r\n      })\r\n      this.$CBPO.$bus.$on(`trigger_button_${TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY}`, () => {\r\n        let marketplace = this.syncMarketplaceParams(this.selected.marketplace)\r\n        this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', true)\r\n        this.downloadDailyViolationsWithInventory(this.useShareTokenIfNeed({\r\n          date: this.selectedDate,\r\n          marketplace: marketplace,\r\n          report_id: this.selected.report._id,\r\n          seller_type: this.selected.seller_type,\r\n          fulfillment: this.selected.fulfillment\r\n        })).then((link) => {\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', false)\r\n          if (link && link.uri) {\r\n            let a = document.createElement('a')\r\n            a.href = link.uri\r\n            a.click()\r\n          }\r\n          this.$CBPO.$bus.$emit(TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY + '_stateChange', false)\r\n        })\r\n      })\r\n    },\r\n    async fetchDate() {\r\n      // TODO: SDK support API refresh data source\r\n      this.sdkConfigInitialized = false\r\n      let marketplace = this.syncMarketplaceParams(this.selected.marketplace)\r\n      await this.fetchDataDateHistorical(this.useShareTokenIfNeed({\r\n        marketplace: marketplace,\r\n        seller_type: this.selected.seller_type,\r\n        report_id: this.selected.report._id\r\n      }))\r\n      this.dates = this.dataDateHistorical.dates\r\n      if (this.dates.length > 0) {\r\n        this.selectedDate = this.dates[0]\r\n      } else {\r\n        this.selectedDate = null\r\n      }\r\n      this.setSelectedDate(this.selectedDate)\r\n      // render Dashboard Widgets\r\n      this.fetchAndRenderDashboardWidgets()\r\n    },\r\n    dateChange(e) {\r\n      this.selectedDate = e.target.value\r\n      this.setSelectedDate(this.selectedDate)\r\n      this.fetchAndRenderDashboardWidgets()\r\n    },\r\n    async _fetchDs() {\r\n      try {\r\n        return await this.getDsMaps()\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  },\r\n  async created () {\r\n    // get violation data source connection info\r\n    const allDataSources = await this._fetchDs()\r\n    this.violationDataSourceConnection = _.find(allDataSources, ele => ele.type === 'vio')\r\n    this.violationInvDataSourceConnection = _.find(allDataSources, ele => ele.type === 'vio_inv')\r\n    // TODO: filter for another data source type\r\n    this.fetchDate()\r\n    this.createEventButtonAction()\r\n  },\r\n  watch: {\r\n    '$route.query' (val) {\r\n      this.fetchDate()\r\n    }\r\n  },\r\n  destroyed () {\r\n    this.$CBPO.$bus.$off(`trigger_button_${TYPE.DOWNLOAD_NEW_REPEAT_VIOLATORS}`)\r\n    this.$CBPO.$bus.$off(`trigger_button_${TYPE.DOWNLOAD_DAILY_VIOLATIONS}`)\r\n    this.$CBPO.$bus.$off(`trigger_button_${TYPE.DOWNLOAD_DAILY_VIOLATIONS_WITH_INVENTORY}`)\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .spinner-container {\r\n    height: 50px;\r\n\r\n    .thin-spinner {\r\n      border-width: 1px;\r\n    }\r\n  }\r\n  .mw-dashboard-control-select {\r\n    padding: 0.5rem;\r\n    label {\r\n      margin: 0;\r\n      padding: 5px 10px 5px 9px;\r\n      display: inline-block;\r\n    }\r\n    select {\r\n      padding: .2rem .5rem;\r\n      width: auto;\r\n      height: auto;\r\n      display: inline-block;\r\n      font-size: 11.5px;\r\n      border-radius: 0;\r\n    }\r\n  }\r\n  .mw-sdk-styled {\r\n    &.cbpo-dashboard {\r\n      border: none;\r\n    }\r\n    /deep/ {\r\n      .__advance-feature {\r\n        padding: 0 !important;\r\n      }\r\n      .cbpo-dashboard-container{\r\n        border: none !important;\r\n      }\r\n      .cbpo-widget-title{\r\n        border-bottom: unset !important;\r\n      }\r\n      .cbpo-widget .cbpo-control-features .cbpo-wrapper-form{\r\n        flex-grow: 1;\r\n      }\r\n      .cbpo-widget .cbpo-control-features .cbpo-wrapper-action{\r\n        flex-shrink: 1;\r\n        padding-top: .7rem;\r\n      }\r\n      .cbpo-wrapper-action{\r\n        margin-left: auto;\r\n      }\r\n      .cbpo-btn {\r\n        display: flex;\r\n        justify-content: center;\r\n      }\r\n      .cbpo-btn .spinner-border {\r\n        width: 10px;\r\n        height: 10px;\r\n        border-width: 1px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/page/dashboard"}]}