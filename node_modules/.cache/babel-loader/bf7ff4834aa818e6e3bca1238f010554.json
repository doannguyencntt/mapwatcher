{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\reports\\MarketplaceHistoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\reports\\MarketplaceHistoryList.vue","mtime":1639556629270},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1620898435163},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MarketplaceHistoryListContent from \"./MarketplaceHistoryListContent\";\nimport PermissionsMixin from '@/components/common/PermissionsMixin';\nimport * as TYPE from '@/actionTypes.js';\nimport { mapGetters, mapActions } from 'vuex';\nimport _ from 'lodash';\nimport { MarketplaceLabel } from '@/constants/Report';\nexport default {\n  name: 'MWReportMarketplaceHistory',\n  components: {\n    MarketplaceHistoryListContent: MarketplaceHistoryListContent\n  },\n  mixins: [PermissionsMixin],\n  methods: _objectSpread(_objectSpread({}, mapActions({\n    fetchListReportMarketplaceHistory: \"mw/reports/\".concat(TYPE.FETCH_LIST_REPORT_MARKETPLACE_HISTORY)\n  })), {}, {\n    loadData: function loadData() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // eslint-disable-next-line\n      var _this$$route$query = this.$route.query,\n          report_id = _this$$route$query.report_id,\n          marketplace = _this$$route$query.marketplace,\n          name = _this$$route$query.name; // eslint-disable-next-line\n\n      this.fetchHistory(params);\n\n      if (_.isEmpty(params)) {\n        this.$router.replace({\n          query: {\n            report_id: report_id,\n            marketplace: marketplace,\n            limit: params.limit ? params.limit : '10',\n            page: params.page ? params.page : '1',\n            name: name\n          }\n        });\n      } else {\n        this.$router.push({\n          query: {\n            report_id: report_id,\n            marketplace: marketplace,\n            limit: params.limit ? params.limit : '10',\n            page: params.page ? params.page : '1',\n            name: name\n          }\n        });\n      }\n    },\n    fetchHistory: function fetchHistory(params) {\n      // eslint-disable-next-line\n      var _this$$route$query2 = this.$route.query,\n          report_id = _this$$route$query2.report_id,\n          marketplace = _this$$route$query2.marketplace;\n      this.fetchListReportMarketplaceHistory({\n        report_id: report_id,\n        marketplace: marketplace,\n        limit: params.limit ? params.limit : '10',\n        page: params.page ? params.page : '1'\n      });\n    }\n  }),\n  data: function data() {\n    return {\n      marketplaceLabel: _.cloneDeep(MarketplaceLabel)\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    getPermissions: \"mw/\".concat(TYPE.GET_PERMISSIONS),\n    defaultParams: \"mw/reports/\".concat(TYPE.GET_REPORT_MARKETPLACE_HISTORY_DEFAULT_PARAMS),\n    historyLoading: \"mw/reports/\".concat(TYPE.GET_HISTORY_LOADING)\n  })), {}, {\n    params: function params() {\n      return _objectSpread({}, this.defaultParams) || {};\n    }\n  }),\n  created: function created() {\n    // eslint-disable-next-line\n    var _this$$route$query3 = this.$route.query,\n        report_id = _this$$route$query3.report_id,\n        marketplace = _this$$route$query3.marketplace; // eslint-disable-next-line\n\n    if (!report_id || !marketplace) {\n      this.$router.push({\n        name: 'MWListReports'\n      });\n      return;\n    }\n\n    this.loadData();\n    this.fields = [{\n      key: 'date',\n      label: 'Date',\n      thClass: 'col-date align-middle',\n      tdClass: 'col-date align-middle'\n    }, {\n      key: 'total',\n      label: 'Total',\n      thClass: 'text-center align-middle',\n      tdClass: 'text-center align-middle'\n    }, {\n      key: 'completed',\n      label: 'Completed',\n      thClass: 'text-center align-middle',\n      tdClass: 'text-center align-middle'\n    }, {\n      key: 'download',\n      label: 'Download',\n      thClass: 'text-center col-download align-middle',\n      tdClass: 'text-center col-download align-middle'\n    }];\n  },\n  mounted: function mounted() {\n    var _this$$route$query4 = this.$route.query,\n        marketplace = _this$$route$query4.marketplace,\n        name = _this$$route$query4.name;\n    var marketplaceText = this.marketplaceLabel[marketplace];\n    this.$route.meta.tableName = \"Report History of \".concat(name, \" in \").concat(marketplaceText);\n  },\n  destroyed: function destroyed() {\n    this.$store.state.mw.reports.defaultParamsReportMarketplaceHistory.page = 1;\n    this.$store.state.mw.reports.listReportMarketplaceHistory = [];\n  }\n};",{"version":3,"sources":["MarketplaceHistoryList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col lg=\"12\">\r\n        <MarketplaceHistoryListContent\r\n          fixed\r\n          bordered\r\n          :caption=\"$route.meta.tableName\"\r\n          :fields=\"fields\"\r\n          @paramsChange=\"loadData\"\r\n          :historyLoading=\"historyLoading\"\r\n        ></MarketplaceHistoryListContent>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MarketplaceHistoryListContent from './MarketplaceHistoryListContent'\r\nimport PermissionsMixin from '@/components/common/PermissionsMixin'\r\nimport * as TYPE from '@/actionTypes.js'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport _ from 'lodash'\r\nimport { MarketplaceLabel } from '@/constants/Report'\r\n\r\nexport default {\r\n  name: 'MWReportMarketplaceHistory',\r\n  components: { MarketplaceHistoryListContent },\r\n  mixins: [PermissionsMixin],\r\n  methods: {\r\n    ...mapActions({\r\n      fetchListReportMarketplaceHistory: `mw/reports/${TYPE.FETCH_LIST_REPORT_MARKETPLACE_HISTORY}`\r\n    }),\r\n    loadData(params = {}) {\r\n      // eslint-disable-next-line\r\n      const { report_id, marketplace, name } = this.$route.query\r\n      // eslint-disable-next-line\r\n      this.fetchHistory(params)\r\n      if (_.isEmpty(params)) {\r\n        this.$router.replace({\r\n          query: {\r\n            report_id: report_id,\r\n            marketplace: marketplace,\r\n            limit: params.limit ? params.limit : '10',\r\n            page: params.page ? params.page : '1',\r\n            name: name\r\n          }\r\n        })\r\n      } else {\r\n        this.$router.push({\r\n          query: {\r\n            report_id: report_id,\r\n            marketplace: marketplace,\r\n            limit: params.limit ? params.limit : '10',\r\n            page: params.page ? params.page : '1',\r\n            name: name\r\n          }\r\n        })\r\n      }\r\n    },\r\n    fetchHistory(params) {\r\n      // eslint-disable-next-line\r\n      const { report_id, marketplace } = this.$route.query\r\n      this.fetchListReportMarketplaceHistory({\r\n        report_id: report_id,\r\n        marketplace: marketplace,\r\n        limit: params.limit ? params.limit : '10',\r\n        page: params.page ? params.page : '1'\r\n      })\r\n    }\r\n  },\r\n  data: () => {\r\n    return {\r\n      marketplaceLabel: _.cloneDeep(MarketplaceLabel)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getPermissions: `mw/${TYPE.GET_PERMISSIONS}`,\r\n      defaultParams: `mw/reports/${TYPE.GET_REPORT_MARKETPLACE_HISTORY_DEFAULT_PARAMS}`,\r\n      historyLoading: `mw/reports/${TYPE.GET_HISTORY_LOADING}`\r\n    }),\r\n    params: function() {\r\n      return { ...this.defaultParams } || {}\r\n    }\r\n  },\r\n  created() {\r\n    // eslint-disable-next-line\r\n    const { report_id, marketplace } = this.$route.query\r\n    // eslint-disable-next-line\r\n    if (!report_id || !marketplace) {\r\n      this.$router.push({ name: 'MWListReports' })\r\n      return\r\n    }\r\n    this.loadData()\r\n    this.fields = [\r\n      {\r\n        key: 'date',\r\n        label: 'Date',\r\n        thClass: 'col-date align-middle',\r\n        tdClass: 'col-date align-middle'\r\n      },\r\n      {\r\n        key: 'total',\r\n        label: 'Total',\r\n        thClass: 'text-center align-middle',\r\n        tdClass: 'text-center align-middle'\r\n      },\r\n      {\r\n        key: 'completed',\r\n        label: 'Completed',\r\n        thClass: 'text-center align-middle',\r\n        tdClass: 'text-center align-middle'\r\n      },\r\n      {\r\n        key: 'download',\r\n        label: 'Download',\r\n        thClass: 'text-center col-download align-middle',\r\n        tdClass: 'text-center col-download align-middle'\r\n      }\r\n    ]\r\n  },\r\n  mounted() {\r\n    const { marketplace, name } = this.$route.query\r\n    const marketplaceText = this.marketplaceLabel[marketplace]\r\n    this.$route.meta.tableName = `Report History of ${name} in ${marketplaceText}`\r\n  },\r\n  destroyed() {\r\n    this.$store.state.mw.reports.defaultParamsReportMarketplaceHistory.page = 1\r\n    this.$store.state.mw.reports.listReportMarketplaceHistory = []\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n  .mw-180 {\r\n    max-width: 180px;\r\n    width: 16%;\r\n  }\r\n  .col-date {\r\n    width: 250px;\r\n  }\r\n  .col-download {\r\n    width: 110px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/page/reports"}]}