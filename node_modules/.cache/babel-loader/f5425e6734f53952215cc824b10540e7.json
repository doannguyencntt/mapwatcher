{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Project\\CBPO\\plat-mw-web\\src\\store\\modules\\actions.js","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\store\\modules\\actions.js","mtime":1629258906702},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626076746842},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1620898435163},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1626076679949}],"contextDependencies":[],"result":["import _defineProperty from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _FETCH_PERMISSIONS$re;\n\nimport { MW_API } from '@/service';\nimport * as URL from '@/service/_constant';\nimport { FETCH_PERMISSIONS, SET_PERMISSIONS, SET_PLAN_CONFIG, SET_ORGANIZATION_STATS, SET_ORG_IS } from '@/actionTypes';\nimport isEmpty from 'lodash/isEmpty';\nimport omit from 'lodash/omit';\nimport get from 'lodash/get';\nexport default (_FETCH_PERMISSIONS$re = {}, _defineProperty(_FETCH_PERMISSIONS$re, FETCH_PERMISSIONS, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref, payload) {\n    var commit, respone, config;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref.commit;\n            _context.prev = 1;\n\n            if (isEmpty(payload)) {\n              _context.next = 9;\n              break;\n            }\n\n            config = payload.config;\n            _context.next = 6;\n            return MW_API.get(URL.FETCH_PERMISSIONS(), config);\n\n          case 6:\n            respone = _context.sent;\n            _context.next = 12;\n            break;\n\n          case 9:\n            _context.next = 11;\n            return MW_API.get(URL.FETCH_PERMISSIONS());\n\n          case 11:\n            respone = _context.sent;\n\n          case 12:\n            if (respone && respone.data) {\n              // permission\n              commit(SET_PERMISSIONS, omit(respone.data, ['organization'])); // plan_config\n\n              commit(SET_PLAN_CONFIG, get(respone.data, 'organization.plan_config')); // plan stats\n\n              commit(SET_ORGANIZATION_STATS, get(respone.data, 'organization.stats')); // is oe user\n\n              commit(SET_ORG_IS, get(respone.data, 'organization.is'));\n            } else {\n              commit(SET_PERMISSIONS, {});\n            }\n\n            _context.next = 19;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            console.log('permissions', _context.t0);\n            commit(SET_PERMISSIONS, {});\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 15]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_FETCH_PERMISSIONS$re, \"resetState\", function resetState(_ref3) {\n  var commit = _ref3.commit;\n  commit('resetState');\n}), _FETCH_PERMISSIONS$re);",null]}