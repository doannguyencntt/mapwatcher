{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\gs-maps\\ListMaps.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\gs-maps\\ListMaps.vue","mtime":1639628727983},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1620898435163},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _defineProperty from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.number.constructor\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions, mapMutations } from 'vuex';\nimport vToasted from '@/shared/notification';\nimport * as TYPE from '@/actionTypes.js';\nimport { GoogleShoppingGPIDStatus } from '@/constants/Map';\nimport _ from 'lodash';\nimport _nav from '@/_nav';\nimport LoadingSpinner from '@/components/common/LoadingSpinner';\nexport default {\n  name: 'c-table',\n  inheritAttrs: false,\n  mixins: [vToasted],\n  components: {\n    LoadingSpinner: LoadingSpinner\n  },\n  props: {\n    caption: {\n      type: String,\n      default: 'Table'\n    },\n    hover: {\n      type: Boolean,\n      default: false\n    },\n    striped: {\n      type: Boolean,\n      default: false\n    },\n    bordered: {\n      type: Boolean,\n      default: false\n    },\n    small: {\n      type: Boolean,\n      default: false\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    tableData: {\n      type: [Array, Function],\n      default: function _default() {\n        return [];\n      }\n    },\n    fields: {\n      type: [Array, Object],\n      default: function _default() {\n        return [];\n      }\n    },\n    dark: {\n      type: Boolean,\n      default: false\n    },\n    totalRows: {\n      type: Number,\n      default: 0\n    },\n    handleChangePage: {\n      type: [Function]\n    }\n  },\n  data: function data() {\n    return {\n      GoogleShoppingMapStatus: GoogleShoppingGPIDStatus,\n      params: null,\n      validReports: [],\n      brandNames: [],\n      nav: _nav,\n      mapId: null,\n      currentItem: {\n        currentMapItem: null,\n        currentDiscoveredGpidItem: null\n      },\n      selectedMaps: [],\n      review: {\n        isOpenReview: false,\n        discoveredGpidList: [],\n        reviewMapItem: null,\n        AsinName: '',\n        UPC: '',\n        selectedOption: {},\n        textTitle: '',\n        AmazonTitle: '',\n        listGPID: []\n      },\n      fieldsReview: [{\n        key: 'index',\n        label: '#',\n        thClass: 'th-index'\n      }, {\n        key: 'gpid',\n        label: 'GPID'\n      }, {\n        key: 'date',\n        label: 'Date'\n      }, {\n        key: 'title',\n        label: 'Title'\n      }, {\n        key: 'link',\n        label: 'Link',\n        thClass: 'th-link'\n      }, {\n        key: 'actions',\n        label: 'Actions',\n        thClass: 'th-action'\n      }],\n      discoveredGPIDOptions: [{\n        value: 'positive',\n        name: 'Positive'\n      }, {\n        value: 'matched',\n        name: 'Title or Brand Matched'\n      }, {\n        value: 'notmatched',\n        name: 'Title and Brand Not Matched'\n      }, {\n        value: 'accepted',\n        name: 'Accepted'\n      }, {\n        value: 'denied',\n        name: 'Denied'\n      }, {\n        value: 'all',\n        name: 'All'\n      }]\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    getPermissions: \"mw/\".concat(TYPE.GET_PERMISSIONS),\n    defaultParams: \"mw/maps/\".concat(TYPE.GET_DEFAULT_PARAMS),\n    defaultAmazonMapParams: \"mw/maps/\".concat(TYPE.GET_DEFAULT_AMAZON_MAP_PARAMS),\n    reportList: \"mw/reports/\".concat(TYPE.GET_LIST_REPORTS),\n    gsReportList: \"mw/reports/\".concat(TYPE.GET_VALID_GS_REPORTS),\n    listMaps: \"mw/maps/\".concat(TYPE.GET_GS_MAPS),\n    mapPricingGsLoading: \"mw/maps/\".concat(TYPE.GET_MAP_PRICING_GS_LOADING),\n    listDiscoveredGPID: \"mw/maps/\".concat(TYPE.GET_LIST_DISCOVERED_GPID)\n  })), {}, {\n    captions: function captions() {\n      var fields = this.fields;\n      return fields;\n    },\n    getItems: function getItems() {\n      var _this = this;\n\n      return (this.listMaps.items || []).map(function (item) {\n        _this.$set(item, 'checkAccepted', item.discovered_gpids.filter(function (element) {\n          return element.status === GoogleShoppingGPIDStatus.ACCEPTED;\n        }));\n\n        _this.$set(item, 'checkNormal', item.discovered_gpids.filter(function (element) {\n          return (element.is_similar_to_amazon_title || element.is_similar_to_brand_name) && element.status === GoogleShoppingGPIDStatus.NORMAL;\n        }));\n\n        var goodScoreItems = item.discovered_gpids.filter(function (element) {\n          return element.status === GoogleShoppingGPIDStatus.NORMAL && element.similar_to_amazon_title_score >= 0.6;\n        });\n        var acceptedItems = item.discovered_gpids.filter(function (element) {\n          return element.status === GoogleShoppingGPIDStatus.ACCEPTED;\n        });\n        var topScoreItems = item.discovered_gpids.filter(function (element) {\n          return element.status === GoogleShoppingGPIDStatus.NORMAL && element.similar_to_amazon_title_score >= 0.8;\n        });\n\n        if (goodScoreItems.length === 0 && acceptedItems.length === 0) {\n          _this.$set(item, 'reviewButtonVariant', 'secondary');\n        } else if (goodScoreItems.length > 0 && acceptedItems.length === 0 && topScoreItems.length !== 1) {\n          _this.$set(item, 'reviewButtonVariant', 'danger');\n        } else {\n          _this.$set(item, 'reviewButtonVariant', 'primary');\n        }\n\n        return item;\n      });\n    },\n    allSelected: {\n      get: function get() {\n        var items = this.getItems;\n        return !_.isEmpty(items) && items.length === this.selectedMaps.length;\n      },\n      set: function set(newValue) {\n        var items = this.getItems;\n        this.selectedMaps = newValue ? items.map(function (item) {\n          return item.id;\n        }) : items.length === this.selectedMaps.length ? [] : this.selectedMaps;\n      }\n    },\n    reportOptions: function reportOptions() {\n      return this.validReports.map(function (item) {\n        return {\n          value: item._id,\n          text: item.name_in_dashboard\n        };\n      });\n    },\n    brandOptions: function brandOptions() {\n      return this.brandNames.map(function (name) {\n        return {\n          value: name === '' ? -1 : name,\n          text: name\n        };\n      });\n    },\n    getListDiscoveredGPID: function getListDiscoveredGPID() {\n      var _this2 = this;\n\n      if (!_.isEmpty(this.listDiscoveredGPID)) {\n        if (this.review.selectedOption === 'matched') {\n          var filterListMatched = this.listDiscoveredGPID.filter(function (item) {\n            return item.is_similar_to_amazon_title || item.is_similar_to_brand_name;\n          }).filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListMatched, ['similar_to_amazon_title_score'], ['desc']);\n        } else if (this.review.selectedOption === 'notmatched') {\n          var filterListNotmatched = this.listDiscoveredGPID.filter(function (item) {\n            return !item.is_similar_to_amazon_title && !item.is_similar_to_brand_name;\n          }).filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListNotmatched, ['similar_to_amazon_title_score'], ['desc']);\n        } else if (this.review.selectedOption === 'accepted') {\n          var filterListAccepted = this.listDiscoveredGPID.filter(function (item) {\n            return item.status === _this2.GoogleShoppingMapStatus.ACCEPTED;\n          }).filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListAccepted, ['similar_to_amazon_title_score'], ['desc']);\n        } else if (this.review.selectedOption === 'denied') {\n          var filterListDenied = this.listDiscoveredGPID.filter(function (item) {\n            return item.status === _this2.GoogleShoppingMapStatus.DENIED;\n          }).filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListDenied, ['similar_to_amazon_title_score'], ['desc']);\n        } else if (this.review.selectedOption === 'positive') {\n          var filterListPositive = this.listDiscoveredGPID.filter(function (item) {\n            return item.status === _this2.GoogleShoppingMapStatus.ACCEPTED || item.similar_to_amazon_title_score >= 0.6;\n          }).filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListPositive, ['similar_to_amazon_title_score'], ['desc']);\n        } else {\n          var filterListDiscoveredGPID = this.listDiscoveredGPID.filter(function (item) {\n            return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n          });\n          return _.orderBy(filterListDiscoveredGPID, ['similar_to_amazon_title_score'], ['desc']);\n        }\n      }\n\n      var filterDiscoveredGpidList = this.review.discoveredGpidList.filter(function (item) {\n        return item.title.toLowerCase().includes(_this2.review.textTitle.toLowerCase());\n      });\n      return _.orderBy(filterDiscoveredGpidList, ['similar_to_amazon_title_score'], ['desc']);\n    },\n    valueOptions: function valueOptions() {\n      return this.discoveredGPIDOptions.map(function (item) {\n        return {\n          value: item.value,\n          text: item.name\n        };\n      });\n    }\n  }),\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapMutations({\n    resetMapItem: \"mw/maps/\".concat(TYPE.RESET_LIST_DISCOVERED_GPID)\n  })), mapActions({\n    fetchMaps: \"mw/maps/\".concat(TYPE.FETCH_LIST_GS_MAPS),\n    fetchReports: \"mw/reports/\".concat(TYPE.FETCH_LIST_REPORTS),\n    fetchValidGSReport: \"mw/reports/\".concat(TYPE.GET_VALID_GS_REPORTS),\n    removeGSMap: \"mw/maps/\".concat(TYPE.REMOVE_GS_MAP),\n    acceptDiscoveredGpid: \"mw/maps/\".concat(TYPE.ACCEPT_DISCOVERED_GPID),\n    removeDiscoveredGpid: \"mw/maps/\".concat(TYPE.REMOVE_DISCOVERED_GPID),\n    deniedDiscoveredGpid: \"mw/maps/\".concat(TYPE.DENIED_DISCOVERED_GPID),\n    fetchUrlDownload: \"mw/maps/\".concat(TYPE.FETCH_URL_GS_MAP_EXPORT),\n    updateTotalGSMap: \"mw/maps/\".concat(TYPE.UPDATE_TOTAL_GS_MAP),\n    fetchGSBrandNames: \"mw/maps/\".concat(TYPE.GET_GS_BRAND_NAMES)\n  })), {}, {\n    updateCurrentMapItem: function updateCurrentMapItem(currentMapItem, currentDiscoveredGpidItem) {\n      this.currentItem.currentMapItem = currentMapItem;\n      this.currentItem.currentDiscoveredGpidItem = currentDiscoveredGpidItem;\n      this.currentItem.gpid = currentDiscoveredGpidItem ? currentDiscoveredGpidItem.gpid : currentMapItem.gpid;\n    },\n    generateAmazonLink: function generateAmazonLink(asin) {\n      return \"https://www.amazon.com/gp/offer-listing/\".concat(asin);\n    },\n    sortChange: function sortChange(event) {\n      this.params.searchort_by = event.sortBy;\n\n      if (event.sortBy) {\n        this.params.searchort_dir = event.sortDesc ? 'desc' : 'asc';\n      } else {\n        this.params.searchort_dir = null;\n      }\n\n      this.paramsChange();\n    },\n    syncParams: function syncParams() {\n      this.paramsChange();\n    },\n    paramsChange: function () {\n      var _paramsChange = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.fetchMaps(this.params);\n\n              case 2:\n                this.$router.push({\n                  params: {\n                    client_id: this.nav.clientId\n                  },\n                  query: {\n                    search: this.params.search,\n                    report_id: this.params.report_id,\n                    brand_name: this.params.brand_name,\n                    limit: this.params.limit ? this.params.limit : 100,\n                    page: this.params.page ? this.params.page : 1\n                  }\n                }, function () {});\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function paramsChange() {\n        return _paramsChange.apply(this, arguments);\n      }\n\n      return paramsChange;\n    }(),\n    reportChange: function () {\n      var _reportChange = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.params.brand_name = null;\n                _context2.next = 3;\n                return this.reloadBrandNames();\n\n              case 3:\n                _context2.next = 5;\n                return this.paramsChange();\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reportChange() {\n        return _reportChange.apply(this, arguments);\n      }\n\n      return reportChange;\n    }(),\n    fetchUniqReportId: function () {\n      var _fetchUniqReportId = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.fetchValidGSReport();\n\n              case 2:\n                this.validReports = _context3.sent;\n                this.reloadBrandNames();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function fetchUniqReportId() {\n        return _fetchUniqReportId.apply(this, arguments);\n      }\n\n      return fetchUniqReportId;\n    }(),\n    reloadBrandNames: function () {\n      var _reloadBrandNames = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.fetchGSBrandNames({\n                  report_id: this.params.report_id\n                });\n\n              case 2:\n                this.brandNames = _context4.sent;\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function reloadBrandNames() {\n        return _reloadBrandNames.apply(this, arguments);\n      }\n\n      return reloadBrandNames;\n    }(),\n    handleOpenModelDownload: function () {\n      var _handleOpenModelDownload = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.fetchUrlDownload({\n                  search: this.$route.query.search,\n                  report_id: this.$route.query.report_id,\n                  brand_name: this.$route.query.brand_name\n                });\n\n              case 3:\n                res = _context5.sent;\n                window.location.href = res.url;\n                _context5.next = 10;\n                break;\n\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](0);\n                this.vToasted('error', _context5.t0.message);\n\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 7]]);\n      }));\n\n      function handleOpenModelDownload() {\n        return _handleOpenModelDownload.apply(this, arguments);\n      }\n\n      return handleOpenModelDownload;\n    }(),\n    handleEditMap: function handleEditMap(mapId) {\n      this.$router.push({\n        name: 'MWEditGSMaps',\n        params: {\n          client_id: this.nav.clientId,\n          id: mapId\n        },\n        query: _objectSpread({}, this.$router.history.current.query)\n      });\n    },\n    checkIfNeedShowPopup: function () {\n      var _checkIfNeedShowPopup = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var map, gpid, discovered_gpids;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                map = this.currentItem.currentMapItem;\n                /* eslint-disable */\n\n                gpid = map.gpid, discovered_gpids = map.discovered_gpids;\n\n                if (_.find(discovered_gpids, {\n                  gpid: gpid\n                })) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                this.$root.$emit('bv::show::modal', 'modal-confirm-denied-gpid');\n                _context6.next = 8;\n                break;\n\n              case 6:\n                _context6.next = 8;\n                return this.handleDeniedDiscoveredGpid();\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function checkIfNeedShowPopup() {\n        return _checkIfNeedShowPopup.apply(this, arguments);\n      }\n\n      return checkIfNeedShowPopup;\n    }(),\n    handleDeniedDiscoveredGpid: function () {\n      var _handleDeniedDiscoveredGpid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var map, _this$currentItem$cur, gpid, status;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                map = this.currentItem.currentMapItem;\n                _this$currentItem$cur = this.currentItem.currentDiscoveredGpidItem, gpid = _this$currentItem$cur.gpid, status = _this$currentItem$cur.status;\n                _context7.next = 5;\n                return this.deniedDiscoveredGpid({\n                  gpid: gpid,\n                  id: map.id\n                });\n\n              case 5:\n                // const gpid = map.gpid\n                // this.currentItem.currentMapItem.gpid = ''\n                // this.currentItem.currentMapItem.title = ''\n                // this.currentItem.currentMapItem.link = ''\n                this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.DENIED;\n\n                if (status === this.GoogleShoppingMapStatus.NORMAL || status === this.GoogleShoppingMapStatus.ACCEPTED) {\n                  this.vToasted('success', \"Discovered GPID \".concat(gpid, \" has been marked as denied.\"));\n                }\n\n                if (status === this.GoogleShoppingMapStatus.DENIED) {\n                  this.vToasted('success', \"Discovered GPID \".concat(gpid, \" has been marked as normal.\"));\n                }\n\n                _context7.next = 13;\n                break;\n\n              case 10:\n                _context7.prev = 10;\n                _context7.t0 = _context7[\"catch\"](0);\n                // this.vToasted('error', error.data.message)\n                this.vToasted('error', _context7.t0);\n\n              case 13:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[0, 10]]);\n      }));\n\n      function handleDeniedDiscoveredGpid() {\n        return _handleDeniedDiscoveredGpid.apply(this, arguments);\n      }\n\n      return handleDeniedDiscoveredGpid;\n    }(),\n    handleRemoveDiscoveredGpid: function () {\n      var _handleRemoveDiscoveredGpid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n        var map, gpid, mapIndex, newItem;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.prev = 0;\n                map = this.currentItem.currentMapItem;\n                gpid = this.currentItem.gpid;\n                mapIndex = _.findIndex(this.listMaps.items, function (item) {\n                  return item.id === map.id;\n                });\n                _context8.next = 6;\n                return this.removeDiscoveredGpid({\n                  gpid: gpid,\n                  id: map.id\n                });\n\n              case 6:\n                newItem = _context8.sent;\n\n                // if (status === this.GoogleShoppingMapStatus.ACCEPTED) {\n                //   await this.handleDeniedDiscoveredGpid()\n                // }\n                if (this.currentItem.currentMapItem.gpid !== gpid) {\n                  this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.NORMAL;\n                } else {\n                  this.currentItem.currentMapItem.gpid = '';\n                }\n\n                this.$set(this.listMaps.items, mapIndex, newItem);\n                this.vToasted('success', \"GPID \".concat(gpid, \" has been removed.\"));\n                _context8.next = 15;\n                break;\n\n              case 12:\n                _context8.prev = 12;\n                _context8.t0 = _context8[\"catch\"](0);\n                // this.vToasted('error', error.data.message)\n                this.vToasted('error', _context8.t0);\n\n              case 15:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[0, 12]]);\n      }));\n\n      function handleRemoveDiscoveredGpid() {\n        return _handleRemoveDiscoveredGpid.apply(this, arguments);\n      }\n\n      return handleRemoveDiscoveredGpid;\n    }(),\n    handleAcceptDiscoveredGpid: function () {\n      var _handleAcceptDiscoveredGpid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n        var map, _this$currentItem$cur2, gpid, title, link, status;\n\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.prev = 0;\n                map = this.currentItem.currentMapItem;\n                _this$currentItem$cur2 = this.currentItem.currentDiscoveredGpidItem, gpid = _this$currentItem$cur2.gpid, title = _this$currentItem$cur2.title, link = _this$currentItem$cur2.link, status = _this$currentItem$cur2.status;\n                _context9.next = 5;\n                return this.acceptDiscoveredGpid({\n                  gpid: gpid,\n                  id: map.id\n                });\n\n              case 5:\n                this.currentItem.currentDiscoveredGpidItem.gpid = gpid;\n                this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.ACCEPTED; // this.currentItem.currentMapItem.title = this.currentItem.currentDiscoveredGpidItem.title\n                // this.currentItem.currentMapItem.gpid = gpid\n                // this.currentItem.currentMapItem.title = title\n                // this.currentItem.currentMapItem.link = link\n\n                if (status === this.GoogleShoppingMapStatus.NORMAL || status === this.GoogleShoppingMapStatus.DENIED) {\n                  this.vToasted('success', \"Discovered GPID \".concat(gpid, \" has been cloned to the GPID column.\"));\n                }\n\n                if (status === this.GoogleShoppingMapStatus.ACCEPTED) {\n                  this.vToasted('success', \"Discovered GPID \".concat(gpid, \" has been marked as normal.\"));\n                }\n\n                _context9.next = 14;\n                break;\n\n              case 11:\n                _context9.prev = 11;\n                _context9.t0 = _context9[\"catch\"](0);\n                // this.vToasted('error', error.data.message)\n                this.vToasted('error', _context9.t0);\n\n              case 14:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this, [[0, 11]]);\n      }));\n\n      function handleAcceptDiscoveredGpid() {\n        return _handleAcceptDiscoveredGpid.apply(this, arguments);\n      }\n\n      return handleAcceptDiscoveredGpid;\n    }(),\n    handleremoveGSMap: function () {\n      var _handleremoveGSMap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10(mapId) {\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.prev = 0;\n                _context10.next = 3;\n                return this.removeGSMap(mapId);\n\n              case 3:\n                this.vToasted('success', \"This MAP has been removed successfully.\");\n                _context10.next = 9;\n                break;\n\n              case 6:\n                _context10.prev = 6;\n                _context10.t0 = _context10[\"catch\"](0);\n                // this.vToasted('error', error.data.message)\n                this.vToasted('error', _context10.t0);\n\n              case 9:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this, [[0, 6]]);\n      }));\n\n      function handleremoveGSMap(_x) {\n        return _handleremoveGSMap.apply(this, arguments);\n      }\n\n      return handleremoveGSMap;\n    }(),\n    handleRemoveMulti: function handleRemoveMulti() {\n      var _this3 = this;\n\n      var allRemove = this.selectedMaps.map(function (mapId) {\n        return _this3.removeGSMap(mapId);\n      });\n      Promise.all(allRemove).then(function (values) {\n        var newTotalGSmaps = _this3.listMaps.total - _this3.selectedMaps.length;\n\n        _this3.updateTotalGSMap(newTotalGSmaps);\n\n        _this3.vToasted('success', \"All selected MAPs have been removed successfully.\");\n\n        _this3.selectedMaps = [];\n      }).catch(function (error) {\n        _this3.vToasted('error', error.data.message);\n      });\n    },\n    handleReviewDiscoveredGpids: function handleReviewDiscoveredGpids(item, mapItem) {\n      if (!this.review.isOpenReview) this.review.textTitle = '';\n      this.review.isOpenReview = true;\n      this.review.discoveredGpidList = item;\n      this.review.reviewMapItem = mapItem;\n      this.review.AsinName = mapItem.asin;\n      this.review.UPC = mapItem.upc;\n      this.review.AmazonTitle = mapItem.amazon_title;\n      this.resetMapItem(this.review.discoveredGpidList);\n      this.review.listGPID = item;\n      this.review.selectedOption = this.valueOptions[0].value;\n\n      if (this.review.selectedOption === 'matched') {\n        this.review.discoveredGpidList = this.review.discoveredGpidList.filter(function (item) {\n          return item.is_similar_to_amazon_title || item.is_similar_to_brand_name;\n        });\n      }\n    },\n    checkDenied: function () {\n      var _checkDenied = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n        var status;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                status = this.currentItem.currentDiscoveredGpidItem.status;\n\n                if (!(status === this.GoogleShoppingMapStatus.ACCEPTED)) {\n                  _context11.next = 5;\n                  break;\n                }\n\n                this.$bvModal.show('modal-confirm-denied-gpid');\n                _context11.next = 7;\n                break;\n\n              case 5:\n                _context11.next = 7;\n                return this.handleDeniedDiscoveredGpid();\n\n              case 7:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function checkDenied() {\n        return _checkDenied.apply(this, arguments);\n      }\n\n      return checkDenied;\n    }()\n  }),\n  created: function created() {\n    this.params = _.defaultsDeep(this.$route.query, this.defaultParams);\n    this.syncParams();\n    this.fetchUniqReportId();\n  }\n};",{"version":3,"sources":["ListMaps.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAghBA,SAAA,UAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AACA,OAAA,QAAA,MAAA,uBAAA;AACA,OAAA,KAAA,IAAA,MAAA,kBAAA;AACA,SAAA,wBAAA,QAAA,iBAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,cAAA,MAAA,oCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,YAAA,EAAA,KAFA;AAGA,EAAA,MAAA,EAAA,CAAA,QAAA,CAHA;AAIA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAJA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KATA;AAaA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAbA;AAiBA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAjBA;AAqBA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KArBA;AAyBA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,KAAA,EAAA,QAAA,CADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KAzBA;AA6BA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,KAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KA7BA;AAiCA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAjCA;AAqCA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KArCA;AAyCA,IAAA,gBAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,QAAA;AADA;AAzCA,GAPA;AAoDA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,uBAAA,EAAA,wBADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA,EAJA;AAKA,MAAA,GAAA,EAAA,IALA;AAMA,MAAA,KAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA;AACA,QAAA,cAAA,EAAA,IADA;AAEA,QAAA,yBAAA,EAAA;AAFA,OAPA;AAWA,MAAA,YAAA,EAAA,EAXA;AAYA,MAAA,MAAA,EAAA;AACA,QAAA,YAAA,EAAA,KADA;AAEA,QAAA,kBAAA,EAAA,EAFA;AAGA,QAAA,aAAA,EAAA,IAHA;AAIA,QAAA,QAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA,EALA;AAMA,QAAA,cAAA,EAAA,EANA;AAOA,QAAA,SAAA,EAAA,EAPA;AAQA,QAAA,WAAA,EAAA,EARA;AASA,QAAA,QAAA,EAAA;AATA,OAZA;AAuBA,MAAA,YAAA,EAAA,CACA;AACA,QAAA,GAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA,GAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OANA,EAUA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAVA,EAcA;AACA,QAAA,GAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAdA,EAkBA;AACA,QAAA,GAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAlBA,EAuBA;AACA,QAAA,GAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,SAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAvBA,CAvBA;AAoDA,MAAA,qBAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,UADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,KAAA,EAAA,YADA;AAEA,QAAA,IAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,KAAA,EAAA,UADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAbA,EAiBA;AACA,QAAA,KAAA,EAAA,QADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAjBA,EAqBA;AACA,QAAA,KAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA,OArBA;AApDA,KAAA;AA+EA,GApIA;AAqIA,EAAA,QAAA,kCACA,UAAA,CAAA;AACA,IAAA,cAAA,eAAA,IAAA,CAAA,eAAA,CADA;AAEA,IAAA,aAAA,oBAAA,IAAA,CAAA,kBAAA,CAFA;AAGA,IAAA,sBAAA,oBAAA,IAAA,CAAA,6BAAA,CAHA;AAIA,IAAA,UAAA,uBAAA,IAAA,CAAA,gBAAA,CAJA;AAKA,IAAA,YAAA,uBAAA,IAAA,CAAA,oBAAA,CALA;AAMA,IAAA,QAAA,oBAAA,IAAA,CAAA,WAAA,CANA;AAOA,IAAA,mBAAA,oBAAA,IAAA,CAAA,0BAAA,CAPA;AAQA,IAAA,kBAAA,oBAAA,IAAA,CAAA,wBAAA;AARA,GAAA,CADA;AAWA,IAAA,QAAA,EAAA,oBAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,MAAA;AACA,aAAA,MAAA;AACA,KAdA;AAeA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AACA,aAAA,CAAA,KAAA,QAAA,CAAA,KAAA,IAAA,EAAA,EAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,eAAA,EAAA,IAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,OAAA,CAAA,MAAA,KAAA,wBAAA,CAAA,QAAA;AACA,SAFA,CAAA;;AAGA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,aAAA,EAAA,IAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,CAAA,OAAA,CAAA,0BAAA,IAAA,OAAA,CAAA,wBAAA,KAAA,OAAA,CAAA,MAAA,KAAA,wBAAA,CAAA,MAAA;AACA,SAFA,CAAA;;AAIA,YAAA,cAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,OAAA,CAAA,MAAA,KAAA,wBAAA,CAAA,MAAA,IAAA,OAAA,CAAA,6BAAA,IAAA,GAAA;AACA,SAFA,CAAA;AAGA,YAAA,aAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,OAAA,CAAA,MAAA,KAAA,wBAAA,CAAA,QAAA;AACA,SAFA,CAAA;AAGA,YAAA,aAAA,GAAA,IAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,OAAA,CAAA,MAAA,KAAA,wBAAA,CAAA,MAAA,IAAA,OAAA,CAAA,6BAAA,IAAA,GAAA;AACA,SAFA,CAAA;;AAGA,YAAA,cAAA,CAAA,MAAA,KAAA,CAAA,IAAA,aAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,qBAAA,EAAA,WAAA;AACA,SAFA,MAEA,IAAA,cAAA,CAAA,MAAA,GAAA,CAAA,IAAA,aAAA,CAAA,MAAA,KAAA,CAAA,IAAA,aAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,qBAAA,EAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,qBAAA,EAAA,SAAA;AACA;;AACA,eAAA,IAAA;AACA,OAzBA,CAAA;AA0BA,KA1CA;AA2CA,IAAA,WAAA,EAAA;AACA,MAAA,GAAA,EAAA,eAAA;AACA,YAAA,KAAA,GAAA,KAAA,QAAA;AACA,eAAA,CAAA,CAAA,CAAA,OAAA,CAAA,KAAA,CAAA,IAAA,KAAA,CAAA,MAAA,KAAA,KAAA,YAAA,CAAA,MAAA;AACA,OAJA;AAKA,MAAA,GAAA,EAAA,aAAA,QAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,QAAA;AACA,aAAA,YAAA,GAAA,QAAA,GAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA;AAAA,SAAA,CAAA,GAAA,KAAA,CAAA,MAAA,KAAA,KAAA,YAAA,CAAA,MAAA,GAAA,EAAA,GAAA,KAAA,YAAA;AACA;AARA,KA3CA;AAqDA,IAAA,aArDA,2BAqDA;AACA,aAAA,KAAA,YAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,GADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA;AAFA,SAAA;AAAA,OAAA,CAAA;AAIA,KA1DA;AA2DA,IAAA,YA3DA,0BA2DA;AACA,aAAA,KAAA,UAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA;AACA,UAAA,KAAA,EAAA,IAAA,KAAA,EAAA,GAAA,CAAA,CAAA,GAAA,IADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAAA,OAAA,CAAA;AAIA,KAhEA;AAiEA,IAAA,qBAjEA,mCAiEA;AAAA;;AACA,UAAA,CAAA,CAAA,CAAA,OAAA,CAAA,KAAA,kBAAA,CAAA,EAAA;AACA,YAAA,KAAA,MAAA,CAAA,cAAA,KAAA,SAAA,EAAA;AACA,cAAA,iBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,0BAAA,IAAA,IAAA,CAAA,wBAAA;AAAA,WAAA,EAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,iBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,SALA,MAKA,IAAA,KAAA,MAAA,CAAA,cAAA,KAAA,YAAA,EAAA;AACA,cAAA,oBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,CAAA,IAAA,CAAA,0BAAA,IAAA,CAAA,IAAA,CAAA,wBAAA;AAAA,WAAA,EAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,oBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,SALA,MAKA,IAAA,KAAA,MAAA,CAAA,cAAA,KAAA,UAAA,EAAA;AACA,cAAA,kBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,MAAA,KAAA,MAAA,CAAA,uBAAA,CAAA,QAAA;AAAA,WAAA,EAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,kBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,SALA,MAKA,IAAA,KAAA,MAAA,CAAA,cAAA,KAAA,QAAA,EAAA;AACA,cAAA,gBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,MAAA,KAAA,MAAA,CAAA,uBAAA,CAAA,MAAA;AAAA,WAAA,EAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,gBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,SALA,MAKA,IAAA,KAAA,MAAA,CAAA,cAAA,KAAA,UAAA,EAAA;AACA,cAAA,kBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,MAAA,KAAA,MAAA,CAAA,uBAAA,CAAA,QAAA,IAAA,IAAA,CAAA,6BAAA,IAAA,GAAA;AAAA,WAAA,EAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,kBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,SALA,MAKA;AACA,cAAA,wBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,WAFA,CAAA;AAGA,iBAAA,CAAA,CAAA,OAAA,CAAA,wBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA;AACA;;AACA,UAAA,wBAAA,GAAA,KAAA,MAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,WAAA,EAAA,CAAA;AACA,OAFA,CAAA;AAGA,aAAA,CAAA,CAAA,OAAA,CAAA,wBAAA,EAAA,CAAA,+BAAA,CAAA,EAAA,CAAA,MAAA,CAAA,CAAA;AACA,KAvGA;AAwGA,IAAA,YAxGA,0BAwGA;AACA,aAAA,KAAA,qBAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,eAAA;AACA,UAAA,KAAA,EAAA,IAAA,CAAA,KADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA;AAFA,SAAA;AAAA,OAAA,CAAA;AAIA;AA7GA,IArIA;AAoPA,EAAA,OAAA,gDACA,YAAA,CAAA;AACA,IAAA,YAAA,oBAAA,IAAA,CAAA,0BAAA;AADA,GAAA,CADA,GAIA,UAAA,CAAA;AACA,IAAA,SAAA,oBAAA,IAAA,CAAA,kBAAA,CADA;AAEA,IAAA,YAAA,uBAAA,IAAA,CAAA,kBAAA,CAFA;AAGA,IAAA,kBAAA,uBAAA,IAAA,CAAA,oBAAA,CAHA;AAIA,IAAA,WAAA,oBAAA,IAAA,CAAA,aAAA,CAJA;AAKA,IAAA,oBAAA,oBAAA,IAAA,CAAA,sBAAA,CALA;AAMA,IAAA,oBAAA,oBAAA,IAAA,CAAA,sBAAA,CANA;AAOA,IAAA,oBAAA,oBAAA,IAAA,CAAA,sBAAA,CAPA;AAQA,IAAA,gBAAA,oBAAA,IAAA,CAAA,uBAAA,CARA;AASA,IAAA,gBAAA,oBAAA,IAAA,CAAA,mBAAA,CATA;AAUA,IAAA,iBAAA,oBAAA,IAAA,CAAA,kBAAA;AAVA,GAAA,CAJA;AAgBA,IAAA,oBAhBA,gCAgBA,cAhBA,EAgBA,yBAhBA,EAgBA;AACA,WAAA,WAAA,CAAA,cAAA,GAAA,cAAA;AACA,WAAA,WAAA,CAAA,yBAAA,GAAA,yBAAA;AACA,WAAA,WAAA,CAAA,IAAA,GAAA,yBAAA,GAAA,yBAAA,CAAA,IAAA,GAAA,cAAA,CAAA,IAAA;AACA,KApBA;AAqBA,IAAA,kBArBA,8BAqBA,IArBA,EAqBA;AACA,+DAAA,IAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,sBAwBA,KAxBA,EAwBA;AACA,WAAA,MAAA,CAAA,YAAA,GAAA,KAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,MAAA,EAAA;AACA,aAAA,MAAA,CAAA,aAAA,GAAA,KAAA,CAAA,QAAA,GAAA,MAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA;;AACA,WAAA,YAAA;AACA,KAhCA;AAiCA,IAAA,UAjCA,wBAiCA;AACA,WAAA,YAAA;AACA,KAnCA;AAoCA,IAAA,YApCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAqCA,KAAA,SAAA,CAAA,KAAA,MAAA,CArCA;;AAAA;AAsCA,qBAAA,OAAA,CAAA,IAAA,CACA;AACA,kBAAA,MAAA,EAAA;AACA,oBAAA,SAAA,EAAA,KAAA,GAAA,CAAA;AADA,mBADA;AAIA,kBAAA,KAAA,EAAA;AACA,oBAAA,MAAA,EAAA,KAAA,MAAA,CAAA,MADA;AAEA,oBAAA,SAAA,EAAA,KAAA,MAAA,CAAA,SAFA;AAGA,oBAAA,UAAA,EAAA,KAAA,MAAA,CAAA,UAHA;AAIA,oBAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,GAAA,GAJA;AAKA,oBAAA,IAAA,EAAA,KAAA,MAAA,CAAA,IAAA,GAAA,KAAA,MAAA,CAAA,IAAA,GAAA;AALA;AAJA,iBADA,EAaA,YAAA,CAAA,CAbA;;AAtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAsDA,IAAA,YAtDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuDA,qBAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AAvDA;AAAA,uBAwDA,KAAA,gBAAA,EAxDA;;AAAA;AAAA;AAAA,uBAyDA,KAAA,YAAA,EAzDA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA2DA,IAAA,iBA3DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA4DA,KAAA,kBAAA,EA5DA;;AAAA;AA4DA,qBAAA,YA5DA;AA6DA,qBAAA,gBAAA;;AA7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA+DA,IAAA,gBA/DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgEA,KAAA,iBAAA,CAAA;AACA,kBAAA,SAAA,EAAA,KAAA,MAAA,CAAA;AADA,iBAAA,CAhEA;;AAAA;AAgEA,qBAAA,UAhEA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoEA,IAAA,uBApEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAsEA,KAAA,gBAAA,CAAA;AAAA,kBAAA,MAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA;AAAA,kBAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AAAA,kBAAA,UAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAAA,iBAAA,CAtEA;;AAAA;AAsEA,gBAAA,GAtEA;AAuEA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA,CAAA,GAAA;AAvEA;AAAA;;AAAA;AAAA;AAAA;AAyEA,qBAAA,QAAA,CAAA,OAAA,EAAA,aAAA,OAAA;;AAzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA4EA,IAAA,aA5EA,yBA4EA,KA5EA,EA4EA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,cADA;AAEA,QAAA,MAAA,EAAA;AAAA,UAAA,SAAA,EAAA,KAAA,GAAA,CAAA,QAAA;AAAA,UAAA,EAAA,EAAA;AAAA,SAFA;AAGA,QAAA,KAAA,oBAAA,KAAA,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA,KAAA;AAHA,OAAA;AAKA,KAlFA;AAmFA,IAAA,oBAnFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoFA,gBAAA,GApFA,GAoFA,KAAA,WAAA,CAAA,cApFA;AAqFA;;AACA,gBAAA,IAtFA,GAsFA,GAtFA,CAsFA,IAtFA,EAsFA,gBAtFA,GAsFA,GAtFA,CAsFA,gBAtFA;;AAAA,oBAuFA,CAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA,CAvFA;AAAA;AAAA;AAAA;;AAwFA,qBAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,2BAAA;AAxFA;AAAA;;AAAA;AAAA;AAAA,uBA0FA,KAAA,0BAAA,EA1FA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA6FA,IAAA,0BA7FA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AA+FA,gBAAA,GA/FA,GA+FA,KAAA,WAAA,CAAA,cA/FA;AAAA,wCAgGA,KAAA,WAAA,CAAA,yBAhGA,EAgGA,IAhGA,yBAgGA,IAhGA,EAgGA,MAhGA,yBAgGA,MAhGA;AAAA;AAAA,uBAiGA,KAAA,oBAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,IAAA;AAAA,kBAAA,EAAA,EAAA,GAAA,CAAA;AAAA,iBAAA,CAjGA;;AAAA;AAkGA;AACA;AACA;AACA;AACA,qBAAA,WAAA,CAAA,yBAAA,CAAA,MAAA,GAAA,KAAA,uBAAA,CAAA,MAAA;;AACA,oBAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,MAAA,IAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,QAAA,EAAA;AACA,uBAAA,QAAA,CAAA,SAAA,4BAAA,IAAA;AACA;;AACA,oBAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,MAAA,EAAA;AACA,uBAAA,QAAA,CAAA,SAAA,4BAAA,IAAA;AACA;;AA5GA;AAAA;;AAAA;AAAA;AAAA;AA8GA;AACA,qBAAA,QAAA,CAAA,OAAA;;AA/GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkHA,IAAA,0BAlHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoHA,gBAAA,GApHA,GAoHA,KAAA,WAAA,CAAA,cApHA;AAqHA,gBAAA,IArHA,GAqHA,KAAA,WAAA,CAAA,IArHA;AAsHA,gBAAA,QAtHA,GAsHA,CAAA,CAAA,SAAA,CAAA,KAAA,QAAA,CAAA,KAAA,EAAA,UAAA,IAAA;AAAA,yBAAA,IAAA,CAAA,EAAA,KAAA,GAAA,CAAA,EAAA;AAAA,iBAAA,CAtHA;AAAA;AAAA,uBAuHA,KAAA,oBAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,IAAA;AAAA,kBAAA,EAAA,EAAA,GAAA,CAAA;AAAA,iBAAA,CAvHA;;AAAA;AAuHA,gBAAA,OAvHA;;AAwHA;AACA;AACA;AACA,oBAAA,KAAA,WAAA,CAAA,cAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,uBAAA,WAAA,CAAA,yBAAA,CAAA,MAAA,GAAA,KAAA,uBAAA,CAAA,MAAA;AACA,iBAFA,MAGA;AACA,uBAAA,WAAA,CAAA,cAAA,CAAA,IAAA,GAAA,EAAA;AACA;;AACA,qBAAA,IAAA,CAAA,KAAA,QAAA,CAAA,KAAA,EAAA,QAAA,EAAA,OAAA;AACA,qBAAA,QAAA,CAAA,SAAA,iBAAA,IAAA;AAlIA;AAAA;;AAAA;AAAA;AAAA;AAoIA;AACA,qBAAA,QAAA,CAAA,OAAA;;AArIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAwIA,IAAA,0BAxIA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AA0IA,gBAAA,GA1IA,GA0IA,KAAA,WAAA,CAAA,cA1IA;AAAA,yCA2IA,KAAA,WAAA,CAAA,yBA3IA,EA2IA,IA3IA,0BA2IA,IA3IA,EA2IA,KA3IA,0BA2IA,KA3IA,EA2IA,IA3IA,0BA2IA,IA3IA,EA2IA,MA3IA,0BA2IA,MA3IA;AAAA;AAAA,uBA4IA,KAAA,oBAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,IAAA;AAAA,kBAAA,EAAA,EAAA,GAAA,CAAA;AAAA,iBAAA,CA5IA;;AAAA;AA6IA,qBAAA,WAAA,CAAA,yBAAA,CAAA,IAAA,GAAA,IAAA;AACA,qBAAA,WAAA,CAAA,yBAAA,CAAA,MAAA,GAAA,KAAA,uBAAA,CAAA,QAAA,CA9IA,CA+IA;AACA;AACA;AACA;;AACA,oBAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,MAAA,IAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,MAAA,EAAA;AACA,uBAAA,QAAA,CAAA,SAAA,4BAAA,IAAA;AACA;;AACA,oBAAA,MAAA,KAAA,KAAA,uBAAA,CAAA,QAAA,EAAA;AACA,uBAAA,QAAA,CAAA,SAAA,4BAAA,IAAA;AACA;;AAxJA;AAAA;;AAAA;AAAA;AAAA;AA0JA;AACA,qBAAA,QAAA,CAAA,OAAA;;AA3JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA8JA,IAAA,iBA9JA;AAAA,0GA8JA,KA9JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgKA,KAAA,WAAA,CAAA,KAAA,CAhKA;;AAAA;AAiKA,qBAAA,QAAA,CAAA,SAAA;AAjKA;AAAA;;AAAA;AAAA;AAAA;AAmKA;AACA,qBAAA,QAAA,CAAA,OAAA;;AApKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAuKA,IAAA,iBAvKA,+BAuKA;AAAA;;AACA,UAAA,SAAA,GAAA,KAAA,YAAA,CAAA,GAAA,CAAA,UAAA,KAAA;AAAA,eAAA,MAAA,CAAA,WAAA,CAAA,KAAA,CAAA;AAAA,OAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,YAAA,cAAA,GAAA,MAAA,CAAA,QAAA,CAAA,KAAA,GAAA,MAAA,CAAA,YAAA,CAAA,MAAA;;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,cAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CACA,SADA;;AAIA,QAAA,MAAA,CAAA,YAAA,GAAA,EAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA,KAAA,CAAA,IAAA,CAAA,OAAA;AACA,OAZA;AAaA,KAtLA;AAuLA,IAAA,2BAvLA,uCAuLA,IAvLA,EAuLA,OAvLA,EAuLA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,YAAA,EAAA,KAAA,MAAA,CAAA,SAAA,GAAA,EAAA;AACA,WAAA,MAAA,CAAA,YAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,kBAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,aAAA,GAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,GAAA,OAAA,CAAA,IAAA;AACA,WAAA,MAAA,CAAA,GAAA,GAAA,OAAA,CAAA,GAAA;AACA,WAAA,MAAA,CAAA,WAAA,GAAA,OAAA,CAAA,YAAA;AACA,WAAA,YAAA,CAAA,KAAA,MAAA,CAAA,kBAAA;AACA,WAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,cAAA,GAAA,KAAA,YAAA,CAAA,CAAA,EAAA,KAAA;;AACA,UAAA,KAAA,MAAA,CAAA,cAAA,KAAA,SAAA,EAAA;AACA,aAAA,MAAA,CAAA,kBAAA,GAAA,KAAA,MAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,0BAAA,IAAA,IAAA,CAAA,wBAAA;AAAA,SAAA,CAAA;AACA;AACA,KArMA;AAsMA,IAAA,WAtMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuMA,gBAAA,MAvMA,GAuMA,KAAA,WAAA,CAAA,yBAvMA,CAuMA,MAvMA;;AAAA,sBAwMA,MAAA,KAAA,KAAA,uBAAA,CAAA,QAxMA;AAAA;AAAA;AAAA;;AAyMA,qBAAA,QAAA,CAAA,IAAA,CAAA,2BAAA;AAzMA;AAAA;;AAAA;AAAA;AAAA,uBA4MA,KAAA,0BAAA,EA5MA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,IApPA;AAocA,EAAA,OApcA,qBAocA;AACA,SAAA,MAAA,GAAA,CAAA,CAAA,YAAA,CAAA,KAAA,MAAA,CAAA,KAAA,EAAA,KAAA,aAAA,CAAA;AACA,SAAA,UAAA;AACA,SAAA,iBAAA;AACA;AAxcA,CAAA","sourcesContent":["<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-card :header=\"caption\">\r\n      <template v-slot:header>\r\n        <p class=\"po-list-title my-0 pull-left align-middle map-list-title\">\r\n          <strong><i class=\"icon-book-open icons\"></i> {{ caption }}</strong>\r\n          <span v-if=\"listMaps && listMaps.total\">\r\n            (Total:\r\n            {{ new Number(listMaps.total || 0).toLocaleString('en') }})</span\r\n          >\r\n          <span v-else> (Total: 0)</span>\r\n        </p>\r\n        <div class=\"pull-right\">\r\n          <b-button-group>\r\n            <router-link\r\n              v-if=\"\r\n                getPermissions.module_enabled &&\r\n                getPermissions.permissions.gsmapman\r\n              \"\r\n              :to=\"{\r\n                name: 'MWImportGSMaps',\r\n                params: { client_id: nav.clientId }\r\n              }\"\r\n              tag=\"button\"\r\n              class=\"btn btn-primary btn-sm\"\r\n            >\r\n              <i class=\"icons icon-cloud-upload\"></i> Import\r\n            </router-link>\r\n            <b-button\r\n              variant=\"primary\"\r\n              size=\"sm\"\r\n              @click=\"\r\n                () => {\r\n                  handleOpenModelDownload()\r\n                }\r\n              \"\r\n            >\r\n              <i class=\"icons icon-cloud-download\"></i> Export\r\n              <b-spinner\r\n                v-if=\"$store.state.mw.maps.loadingDownload\"\r\n                label=\"Spinning\"\r\n                class=\"icon- btn-loader\"\r\n              ></b-spinner>\r\n            </b-button>\r\n          </b-button-group>\r\n        </div>\r\n      </template>\r\n      <b-row>\r\n        <b-col class=\"mb-4 col-1\">\r\n          <b-dropdown\r\n            v-if=\"selectedMaps.length\"\r\n            text=\"Actions\"\r\n            class=\"dropdown-action\"\r\n          >\r\n            <b-dropdown-item-button\r\n              :disabled=\"\r\n                !getPermissions.module_enabled &&\r\n                !getPermissions.permissions.gsmapman\r\n              \"\r\n              @click=\"$bvModal.show('modal-confirm-remove-multi')\"\r\n            >\r\n              <i class=\"icon-close\"></i> Remove\r\n            </b-dropdown-item-button>\r\n          </b-dropdown>\r\n        </b-col>\r\n        <b-col class=\"mb-4 col-9\">\r\n          <b-form-group class=\"mb-0\">\r\n            <b-input-group class=\"search cancel-action align-items-center\">\r\n              <!-- Report -->\r\n              <label class=\"d-inline mb-0 pr-2\">Report:</label>\r\n              <b-form-select\r\n                @change=\"\r\n                  params.page = 1\r\n                  reportChange()\r\n                \"\r\n                v-model=\"params.report_id\"\r\n                :options=\"reportOptions\"\r\n              >\r\n                <template v-slot:first>\r\n                  <option :value=\"null\">All Reports</option>\r\n                </template>\r\n              </b-form-select>\r\n              <!-- Brand -->\r\n              <label class=\"d-inline mb-0 pr-2 ml-5\">Brand:</label>\r\n              <b-form-select\r\n                @change=\"\r\n                  params.page = 1\r\n                  paramsChange()\r\n                \"\r\n                v-model=\"params.brand_name\"\r\n                :options=\"brandOptions\"\r\n              >\r\n                <template v-slot:first>\r\n                  <option :value=\"null\">All Brands</option>\r\n                </template>\r\n              </b-form-select>\r\n              <!-- Search -->\r\n              <label class=\"d-inline mb-0 pr-2 pl-2 ml-5\">Search:</label>\r\n              <b-form-input\r\n                @keyup.enter=\"\r\n                  params.page = 1\r\n                  paramsChange()\r\n                \"\r\n                placeholder=\"Enter keyword\"\r\n                ref=\"inputSearch\"\r\n                v-model.trim=\"params.search\"\r\n              ></b-form-input>\r\n              <i\r\n                v-show=\"params.search\"\r\n                @click=\"\r\n                  params.page = 1\r\n                  params.search = ''\r\n                  paramsChange()\r\n                \"\r\n                class=\"icon-close cancel-icon\"\r\n              ></i>\r\n              <b-input-group-append>\r\n                <b-button\r\n                  @click=\"\r\n                    params.page = 1\r\n                    paramsChange()\r\n                  \"\r\n                >\r\n                  <i class=\"icons icon-magnifier\"></i>\r\n                </b-button>\r\n              </b-input-group-append>\r\n            </b-input-group>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-table\r\n        :dark=\"dark\"\r\n        :hover=\"hover\"\r\n        striped\r\n        :small=\"small\"\r\n        outlined\r\n        responsive=\"sm\"\r\n        thead-class=\"thead-light text-nowrap\"\r\n        :items=\"getItems\"\r\n        :fields=\"captions\"\r\n        show-empty\r\n        class=\"overflow-auto\"\r\n      >\r\n        <template v-slot:empty>\r\n          <LoadingSpinner :isLoading=\"mapPricingGsLoading\" v-if=\"mapPricingGsLoading\"/>\r\n          <div class=\"align-middle d-flex justify-content-center align-items-center\" v-else>No MAP</div>\r\n        </template>\r\n        <template v-slot:head(selected)>\r\n          <b-form-checkbox v-model=\"allSelected\" />\r\n        </template>\r\n        <template v-slot:cell(selected)=\"row\">\r\n          <b-form-checkbox\r\n            :key=\"row.index\"\r\n            :value=\"row.item.id\"\r\n            v-model=\"selectedMaps\"\r\n          />\r\n        </template>\r\n        <template class=\"align-items-baseline\" v-slot:cell(asin)=\"data\">\r\n          <span class=\"mr-1\">{{ data.item.asin }}</span>\r\n          <a\r\n            class=\"text-decoration-none text-wrap d-inline-block\"\r\n            target=\"_blank\"\r\n            v-if=\"data.item.asin\"\r\n            :href=\"generateAmazonLink(data.item.asin)\"\r\n            >A<i class=\"fa fa-link\" aria-hidden=\"true\"></i\r\n          ></a><br>\r\n          <div class=\"badge badge-secondary text-wrap font-weight-normal text-left\" v-if=\"data.item.amazon_title\">\r\n            {{ data.item.amazon_title }}\r\n          </div>\r\n        </template>\r\n        <template class=\"align-items-baseline\" v-slot:cell(price)=\"data\"\r\n          >${{ data.item.price | formatNumber }}</template\r\n        >\r\n        <template v-slot:cell(gpid)=\"{ item }\">\r\n          <div v-if=\"item.gpid\">\r\n            <div class=\"badge badge-info\">\r\n              <span>{{ item.gpid }}</span>\r\n            </div>\r\n            <div class=\"badge badge-secondary text-wrap font-weight-normal text-left\" v-if=\"item.title\">\r\n              {{ item.title }}\r\n            </div><br>\r\n            <a\r\n              v-if=\"item.gpid && item.link\"\r\n              class=\"mr-2 text-decoration-none text-wrap d-inline-block\"\r\n              target=\"_blank\"\r\n              :href=\"item.link\"\r\n              >G<i class=\"fa fa-link\" aria-hidden=\"true\"></i\r\n            ></a>\r\n            <button\r\n              @click=\"updateCurrentMapItem(item), handleRemoveDiscoveredGpid()\"\r\n              v-if=\"item.gpid\"\r\n              type=\"button\"\r\n              class=\"btn btn-secondary btn-sm\"\r\n            >\r\n              <i class=\"fa fa-ban\" aria-hidden=\"true\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"mb-0 w-100 p-0\" v-for=\"(itemGpid, indexGpid) in item.discovered_gpids\" :key=\"indexGpid\">\r\n            <div v-if=\"itemGpid.status === GoogleShoppingMapStatus.ACCEPTED && item.gpid !== itemGpid.gpid\">\r\n              <div class=\"badge badge-info\">\r\n                <span>{{ itemGpid.gpid }}</span>\r\n              </div>\r\n              <div class=\"badge badge-secondary text-wrap font-weight-normal text-left\" v-if=\"itemGpid.title\">\r\n                {{ itemGpid.title }}\r\n              </div><br>\r\n              <a\r\n                v-if=\"itemGpid.gpid && itemGpid.link\"\r\n                class=\"mr-2 text-decoration-none text-wrap d-inline-block\"\r\n                target=\"_blank\"\r\n                :href=\"itemGpid.link\"\r\n                >G<i class=\"fa fa-link\" aria-hidden=\"true\"></i\r\n              ></a>\r\n              <button\r\n                @click=\"updateCurrentMapItem(item, itemGpid), handleRemoveDiscoveredGpid()\"\r\n                v-if=\"itemGpid.gpid\"\r\n                type=\"button\"\r\n                class=\"btn btn-secondary btn-sm\"\r\n              >\r\n                <i class=\"fa fa-ban\" aria-hidden=\"true\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <template v-slot:cell(discovered_gpids)=\"{ item }\">\r\n          <b-button\r\n            :variant=\"item.reviewButtonVariant\"\r\n            size=\"sm\"\r\n            class=\"w-100\"\r\n            :disabled=\"item.discovered_gpids.length === 0\"\r\n            :class=\"(item.checkAccepted.length <= 1 && item.checkNormal.length <= 1) ? 'font-weight-normal' : 'font-weight-bold'\"\r\n            @click=\"handleReviewDiscoveredGpids(item.discovered_gpids, item)\"\r\n          >\r\n            <i class=\"icon-note\"></i>\r\n            <span v-if=\"item.checkAccepted.length >= 1\"> Review ({{ item.checkAccepted.length }}/{{ item.discovered_gpids.length }})</span>\r\n            <span v-else> Review ({{ item.checkNormal.length }}/{{ item.discovered_gpids.length }})</span>\r\n          </b-button>\r\n        </template>\r\n        <template v-slot:cell(active)=\"row\">\r\n          <b-form-checkbox\r\n            v-model=\"row.item.active\"\r\n            :disabled=\"true\"\r\n          ></b-form-checkbox>\r\n        </template>\r\n        <template v-slot:cell(last_violation_checked)=\"data\">\r\n          <div class=\"float-left\" v-if=\"data.item.has_processed\">\r\n            {{ data.item.last_violation_checked | moment('MM/DD/YYYY') }}\r\n          </div>\r\n          <div class=\"float-left\" v-else>N/A</div>\r\n          <i\r\n            v-if=\"data.item.has_processed\"\r\n            class=\"\r\n              icon-check\r\n              icons\r\n              rounded-circle\r\n              bg-success\r\n              custom_icon\r\n              float-left\r\n              ml-2\r\n            \"\r\n          ></i>\r\n          <i\r\n            v-if=\"!data.item.has_processed\"\r\n            class=\"\r\n              icon-clock\r\n              icons\r\n              rounded-circle\r\n              bg-secondary\r\n              custom_icon\r\n              float-left\r\n              ml-2\r\n            \"\r\n          ></i>\r\n        </template>\r\n        <template\r\n          v-slot:cell(actions)=\"row\"\r\n          v-if=\"getPermissions.module_enabled && getPermissions.permissions.gsmapman\"\r\n        >\r\n          <div>\r\n            <b-dropdown variant=\"primary\" size=\"sm\" split text=\"Edit\" @click=\"handleEditMap(row.item.id)\" class=\"drp-actions\">\r\n              <b-dropdown-item variant=\"danger\" @click=\"$bvModal.show('modal-confirm-delete-map'), mapId = row.item.id\">\r\n                <i class=\"icon-trash cls-icon-trash\"></i>Remove\r\n              </b-dropdown-item>\r\n            </b-dropdown>\r\n          </div>\r\n        </template>\r\n        <template v-slot:view>\r\n          <b-button class=\"mr-1 my-1\" variant=\"primary\">\r\n            <i class=\"fa fa-window-restore fa-lg\"></i> Revision\r\n          </b-button>\r\n        </template>\r\n      </b-table>\r\n      <b-modal\r\n        title=\"Please confirm\"\r\n        centered\r\n        id=\"modal-confirm-denied-gpid\"\r\n        @ok=\"handleDeniedDiscoveredGpid()\"\r\n        ok-variant=\"danger\"\r\n      >\r\n        Are you sure you want to deny this GPID?\r\n        <template v-slot:modal-footer=\"{ ok, cancel }\">\r\n          <b-button variant=\"warning\" @click=\"ok()\">\r\n            <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\r\n          </b-button>\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> No\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal\r\n        title=\"Please confirm\"\r\n        centered\r\n        id=\"modal-confirm-remove-discovered-gpid\"\r\n        @ok=\"handleRemoveDiscoveredGpid()\"\r\n        ok-variant=\"danger\"\r\n      >\r\n        Are you sure you want to remove this GPID?\r\n        <template v-slot:modal-footer=\"{ ok, cancel }\">\r\n          <b-button variant=\"warning\" @click=\"ok()\">\r\n            <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\r\n          </b-button>\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> No\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal\r\n        title=\"Please confirm\"\r\n        centered\r\n        id=\"modal-confirm-clone-gpid\"\r\n        @ok=\"handleAcceptDiscoveredGpid()\"\r\n        ok-variant=\"danger\"\r\n      >\r\n        Are you sure you want to confirm this GPID is 100% correct?\r\n        <template v-slot:modal-footer=\"{ ok, cancel }\">\r\n          <b-button variant=\"warning\" @click=\"ok()\">\r\n            <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\r\n          </b-button>\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> No\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal\r\n        title=\"Please confirm\"\r\n        centered\r\n        id=\"modal-confirm-delete-map\"\r\n        @ok=\"handleremoveGSMap(mapId)\"\r\n        ok-variant=\"danger\"\r\n      >\r\n        Are you sure you want to remove this MAP?\r\n        <template v-slot:modal-footer=\"{ ok, cancel }\">\r\n          <b-button variant=\"warning\" @click=\"ok()\">\r\n            <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\r\n          </b-button>\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> No\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal\r\n        title=\"Please confirm\"\r\n        centered\r\n        id=\"modal-confirm-remove-multi\"\r\n        @ok=\"handleRemoveMulti\"\r\n      >\r\n        Are you sure you want to remove all selected MAPs?\r\n        <template v-slot:modal-footer=\"{ ok, cancel }\">\r\n          <b-button variant=\"danger\" @click=\"ok()\">\r\n            <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\r\n          </b-button>\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> No\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <b-modal\r\n        :title=\"'Review Discovered GPID(s) of ASIN: ' + review.AsinName + ' and UPC: ' + review.UPC\"\r\n        centered\r\n        v-model=\"review.isOpenReview\"\r\n        id=\"modal-discovered-gpid\"\r\n        ok-variant=\"danger\"\r\n        size=\"xl\"\r\n      >\r\n        <p class=\"cls-amazon-title\" v-if=\"review.AmazonTitle\">\r\n          Amazon: <span class=\"badge text-wrap badge-secondary text-left\">{{ review.AmazonTitle }}</span>\r\n          <a\r\n            v-if=\"review.reviewMapItem.asin && review.reviewMapItem.asin != ''\"\r\n            target=\"_blank\"\r\n            class=\"ml-1\"\r\n            :href=\"generateAmazonLink(review.reviewMapItem.asin)\"\r\n            >A<i class=\"fa fa-link\" aria-hidden=\"true\"></i>\r\n          </a>\r\n        </p>\r\n        <div class=\"d-flex mb-2\">\r\n          <div class=\"d-flex cls-select-options align-items-center\">\r\n            <span class=\"cls-option-title\">Show: </span>\r\n            <b-form-select :options=\"valueOptions\" v-model=\"review.selectedOption\" class=\"drp-option\"></b-form-select>\r\n          </div>\r\n          <div class=\"cls-filter-title d-flex align-items-center ml-3\">\r\n            <span class=\"cls-option-title mr-1\">Title: </span>\r\n            <b-form-input v-model=\"review.textTitle\" placeholder=\"Enter your title\"></b-form-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"tbl-review\">\r\n          <b-table\r\n            :dark=\"dark\"\r\n            :hover=\"hover\"\r\n            striped\r\n            :small=\"small\"\r\n            outlined\r\n            responsive=\"sm\"\r\n            thead-class=\"thead-light text-nowrap\"\r\n            :items=\"getListDiscoveredGPID\"\r\n            :fields=\"fieldsReview\"\r\n            class=\"overflow-auto\"\r\n            show-empty\r\n          >\r\n            <template v-slot:empty>\r\n              <div class=\"align-middle d-flex justify-content-center align-items-center\">No Google Products</div>\r\n            </template>\r\n\r\n            <template v-slot:cell(index)=\"data\">\r\n              {{ data.index + 1 }}\r\n            </template>\r\n\r\n            <template v-slot:cell(gpid)=\"{ item }\">\r\n              <div v-if=\"!item.status || item.status === GoogleShoppingMapStatus.NORMAL\" class=\"badge badge-info font-weight-normal\">\r\n                {{ item.gpid }}\r\n              </div>\r\n              <div v-if=\"item.status === GoogleShoppingMapStatus.DENIED\" class=\"badge badge-info cls-denied font-weight-normal\">\r\n                {{ item.gpid }}\r\n              </div>\r\n              <div v-if=\"item.status === GoogleShoppingMapStatus.ACCEPTED\" class=\"badge badge-info\">\r\n                {{ item.gpid }}\r\n              </div>\r\n            </template>\r\n\r\n            <template v-slot:cell(date)=\"{ item }\">\r\n              <div v-if=\"!item.status || item.status === GoogleShoppingMapStatus.NORMAL\" class=\"font-weight-normal\">\r\n                {{ item.date | moment('MM/DD/YYYY') }}\r\n              </div>\r\n              <div v-if=\"item.status === GoogleShoppingMapStatus.DENIED\" class=\"cls-denied font-weight-normal\">\r\n                {{ item.date | moment('MM/DD/YYYY') }}\r\n              </div>\r\n              <div v-if=\"item.status === GoogleShoppingMapStatus.ACCEPTED\" class=\"font-weight-bold\">\r\n                {{ item.date | moment('MM/DD/YYYY') }}\r\n              </div>\r\n            </template>\r\n\r\n            <template v-slot:cell(title)=\"{ item }\">\r\n              <div\r\n              class=\"font-weight-normal text-wrap\"\r\n              :class=\"{'cls-denied': item.status === GoogleShoppingMapStatus.DENIED}\">\r\n                <a target=\"_blank\" :href=\"item.image_uri\" v-if=\"item.image_uri\">\r\n                  <img :src=\"item.image_uri\" width=\"80\" />\r\n                </a>\r\n                {{ item.title }}\r\n                <div v-if=\"item.is_similar_to_amazon_title\" class=\"badge badge-info font-weight-normal mr-1\">\r\n                  Similar to Amazon Title\r\n                </div>\r\n                <div class=\"badge badge-info font-weight-normal\">\r\n                  <span>{{ item.similar_to_amazon_title_score | formatPercentBase1}}%</span>\r\n                </div>\r\n              </div>\r\n            </template>\r\n\r\n            <template v-slot:cell(link)=\"{ item }\">\r\n              <a\r\n                v-if=\"item.gpid && item.link && item.link !== ''\"\r\n                target=\"_blank\"\r\n                :href=\"item.link\"\r\n                >G<i class=\"fa fa-link\" aria-hidden=\"true\"></i\r\n              ></a>\r\n            </template>\r\n\r\n            <template v-slot:cell(actions)=\"row\">\r\n              <b-button-group class=\"d-flex flex-row\">\r\n                <button\r\n                    type=\"button\"\r\n                    @click=\"\r\n                      updateCurrentMapItem(review.reviewMapItem, row.item)\r\n                      handleAcceptDiscoveredGpid()\r\n                    \"\r\n                    class=\"btn btn-success btn-sm\"\r\n                  >\r\n                    <i class=\"fa fa-check text-white\" aria-hidden=\"true\"></i>\r\n                  </button>\r\n                  <button\r\n                    @click=\"\r\n                      updateCurrentMapItem(review.reviewMapItem, row.item)\r\n                      checkDenied()\r\n                    \"\r\n                    type=\"button\"\r\n                    class=\"btn btn-secondary btn-sm\"\r\n                  >\r\n                    <i class=\"fa fa-ban\" aria-hidden=\"true\"></i>\r\n                  </button>\r\n            </b-button-group>\r\n          </template>\r\n          </b-table>\r\n        </div>\r\n        <template v-slot:modal-footer=\"{ cancel }\">\r\n          <b-button variant @click=\"cancel()\">\r\n            <i class=\"icon-close\"></i> Close\r\n          </b-button>\r\n        </template>\r\n      </b-modal>\r\n      <nav\r\n        class=\"d-flex justify-content-center\"\r\n        v-if=\"listMaps.total > listMaps.page_size && listMaps.items.length > 0\"\r\n      >\r\n        <b-pagination\r\n          :total-rows=\"listMaps.total\"\r\n          :per-page=\"params.limit\"\r\n          v-model=\"params.page\"\r\n          prev-text=\"Prev\"\r\n          next-text=\"Next\"\r\n          hide-goto-end-buttons\r\n          @change=\";(params.page = $event), paramsChange()\"\r\n          limit=\"10\"\r\n          hide-ellipsis\r\n        />\r\n      </nav>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions, mapMutations } from 'vuex'\r\nimport vToasted from '@/shared/notification'\r\nimport * as TYPE from '@/actionTypes.js'\r\nimport { GoogleShoppingGPIDStatus } from '@/constants/Map'\r\nimport _ from 'lodash'\r\nimport _nav from '@/_nav'\r\nimport LoadingSpinner from '@/components/common/LoadingSpinner'\r\n\r\nexport default {\r\n  name: 'c-table',\r\n  inheritAttrs: false,\r\n  mixins: [vToasted],\r\n  components: {\r\n    LoadingSpinner\r\n  },\r\n  props: {\r\n    caption: {\r\n      type: String,\r\n      default: 'Table'\r\n    },\r\n    hover: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    striped: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    bordered: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    small: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    fixed: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    tableData: {\r\n      type: [Array, Function],\r\n      default: () => []\r\n    },\r\n    fields: {\r\n      type: [Array, Object],\r\n      default: () => []\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    totalRows: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    handleChangePage: {\r\n      type: [Function]\r\n    }\r\n  },\r\n  data: () => {\r\n    return {\r\n      GoogleShoppingMapStatus: GoogleShoppingGPIDStatus,\r\n      params: null,\r\n      validReports: [],\r\n      brandNames: [],\r\n      nav: _nav,\r\n      mapId: null,\r\n      currentItem: {\r\n        currentMapItem: null,\r\n        currentDiscoveredGpidItem: null\r\n      },\r\n      selectedMaps: [],\r\n      review: {\r\n        isOpenReview: false,\r\n        discoveredGpidList: [],\r\n        reviewMapItem: null,\r\n        AsinName: '',\r\n        UPC: '',\r\n        selectedOption: {},\r\n        textTitle: '',\r\n        AmazonTitle: '',\r\n        listGPID: []\r\n      },\r\n      fieldsReview: [\r\n        {\r\n          key: 'index',\r\n          label: '#',\r\n          thClass: 'th-index'\r\n        },\r\n        {\r\n          key: 'gpid',\r\n          label: 'GPID'\r\n        },\r\n        {\r\n          key: 'date',\r\n          label: 'Date'\r\n        },\r\n        {\r\n          key: 'title',\r\n          label: 'Title'\r\n        },\r\n        {\r\n          key: 'link',\r\n          label: 'Link',\r\n          thClass: 'th-link'\r\n        },\r\n        {\r\n          key: 'actions',\r\n          label: 'Actions',\r\n          thClass: 'th-action'\r\n        }\r\n      ],\r\n      discoveredGPIDOptions: [\r\n        {\r\n          value: 'positive',\r\n          name: 'Positive'\r\n        },\r\n        {\r\n          value: 'matched',\r\n          name: 'Title or Brand Matched'\r\n        },\r\n        {\r\n          value: 'notmatched',\r\n          name: 'Title and Brand Not Matched'\r\n        },\r\n        {\r\n          value: 'accepted',\r\n          name: 'Accepted'\r\n        },\r\n        {\r\n          value: 'denied',\r\n          name: 'Denied'\r\n        },\r\n        {\r\n          value: 'all',\r\n          name: 'All'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getPermissions: `mw/${TYPE.GET_PERMISSIONS}`,\r\n      defaultParams: `mw/maps/${TYPE.GET_DEFAULT_PARAMS}`,\r\n      defaultAmazonMapParams: `mw/maps/${TYPE.GET_DEFAULT_AMAZON_MAP_PARAMS}`,\r\n      reportList: `mw/reports/${TYPE.GET_LIST_REPORTS}`,\r\n      gsReportList: `mw/reports/${TYPE.GET_VALID_GS_REPORTS}`,\r\n      listMaps: `mw/maps/${TYPE.GET_GS_MAPS}`,\r\n      mapPricingGsLoading: `mw/maps/${TYPE.GET_MAP_PRICING_GS_LOADING}`,\r\n      listDiscoveredGPID: `mw/maps/${TYPE.GET_LIST_DISCOVERED_GPID}`\r\n    }),\r\n    captions: function () {\r\n      const { fields } = this\r\n      return fields\r\n    },\r\n    getItems: function () {\r\n      return (this.listMaps.items || []).map(item => {\r\n        this.$set(item, 'checkAccepted', item.discovered_gpids.filter(element => {\r\n          return element.status === GoogleShoppingGPIDStatus.ACCEPTED\r\n        }))\r\n        this.$set(item, 'checkNormal', item.discovered_gpids.filter(element => {\r\n          return (element.is_similar_to_amazon_title || element.is_similar_to_brand_name) && element.status === GoogleShoppingGPIDStatus.NORMAL\r\n        }))\r\n\r\n        const goodScoreItems = item.discovered_gpids.filter(element => {\r\n          return element.status === GoogleShoppingGPIDStatus.NORMAL && element.similar_to_amazon_title_score >= 0.6\r\n        })\r\n        const acceptedItems = item.discovered_gpids.filter(element => {\r\n          return element.status === GoogleShoppingGPIDStatus.ACCEPTED\r\n        })\r\n        const topScoreItems = item.discovered_gpids.filter(element => {\r\n          return element.status === GoogleShoppingGPIDStatus.NORMAL && element.similar_to_amazon_title_score >= 0.8\r\n        })\r\n        if (goodScoreItems.length === 0 && acceptedItems.length === 0) {\r\n          this.$set(item, 'reviewButtonVariant', 'secondary')\r\n        } else if (goodScoreItems.length > 0 && acceptedItems.length === 0 && topScoreItems.length !== 1) {\r\n          this.$set(item, 'reviewButtonVariant', 'danger')\r\n        } else {\r\n          this.$set(item, 'reviewButtonVariant', 'primary')\r\n        }\r\n        return item\r\n      })\r\n    },\r\n    allSelected: {\r\n      get: function () {\r\n        let items = this.getItems\r\n        return !_.isEmpty(items) && items.length === this.selectedMaps.length\r\n      },\r\n      set: function (newValue) {\r\n        let items = this.getItems\r\n        this.selectedMaps = newValue ? items.map((item) => item.id) : items.length === this.selectedMaps.length ? [] : this.selectedMaps\r\n      }\r\n    },\r\n    reportOptions() {\r\n      return this.validReports.map((item) => ({\r\n        value: item._id,\r\n        text: item.name_in_dashboard\r\n      }))\r\n    },\r\n    brandOptions() {\r\n      return this.brandNames.map((name) => ({\r\n        value: name === '' ? -1 : name,\r\n        text: name\r\n      }))\r\n    },\r\n    getListDiscoveredGPID() {\r\n      if (!_.isEmpty(this.listDiscoveredGPID)) {\r\n        if (this.review.selectedOption === 'matched') {\r\n          const filterListMatched = this.listDiscoveredGPID.filter(item => item.is_similar_to_amazon_title || item.is_similar_to_brand_name).filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListMatched, ['similar_to_amazon_title_score'], ['desc'])\r\n        } else if (this.review.selectedOption === 'notmatched') {\r\n          const filterListNotmatched = this.listDiscoveredGPID.filter(item => !item.is_similar_to_amazon_title && !item.is_similar_to_brand_name).filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListNotmatched, ['similar_to_amazon_title_score'], ['desc'])\r\n        } else if (this.review.selectedOption === 'accepted') {\r\n          const filterListAccepted = this.listDiscoveredGPID.filter(item => item.status === this.GoogleShoppingMapStatus.ACCEPTED).filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListAccepted, ['similar_to_amazon_title_score'], ['desc'])\r\n        } else if (this.review.selectedOption === 'denied') {\r\n          const filterListDenied = this.listDiscoveredGPID.filter(item => item.status === this.GoogleShoppingMapStatus.DENIED).filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListDenied, ['similar_to_amazon_title_score'], ['desc'])\r\n        } else if ((this.review.selectedOption === 'positive')) {\r\n          const filterListPositive = this.listDiscoveredGPID.filter(item => item.status === this.GoogleShoppingMapStatus.ACCEPTED || item.similar_to_amazon_title_score >= 0.6).filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListPositive, ['similar_to_amazon_title_score'], ['desc'])\r\n        } else {\r\n          const filterListDiscoveredGPID = this.listDiscoveredGPID.filter(item => {\r\n            return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n          })\r\n          return _.orderBy(filterListDiscoveredGPID, ['similar_to_amazon_title_score'], ['desc'])\r\n        }\r\n      }\r\n      const filterDiscoveredGpidList = this.review.discoveredGpidList.filter(item => {\r\n        return item.title.toLowerCase().includes(this.review.textTitle.toLowerCase())\r\n      })\r\n      return _.orderBy(filterDiscoveredGpidList, ['similar_to_amazon_title_score'], ['desc'])\r\n    },\r\n    valueOptions() {\r\n      return this.discoveredGPIDOptions.map((item) => ({\r\n        value: item.value,\r\n        text: item.name\r\n      }))\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      resetMapItem: `mw/maps/${TYPE.RESET_LIST_DISCOVERED_GPID}`\r\n    }),\r\n    ...mapActions({\r\n      fetchMaps: `mw/maps/${TYPE.FETCH_LIST_GS_MAPS}`,\r\n      fetchReports: `mw/reports/${TYPE.FETCH_LIST_REPORTS}`,\r\n      fetchValidGSReport: `mw/reports/${TYPE.GET_VALID_GS_REPORTS}`,\r\n      removeGSMap: `mw/maps/${TYPE.REMOVE_GS_MAP}`,\r\n      acceptDiscoveredGpid: `mw/maps/${TYPE.ACCEPT_DISCOVERED_GPID}`,\r\n      removeDiscoveredGpid: `mw/maps/${TYPE.REMOVE_DISCOVERED_GPID}`,\r\n      deniedDiscoveredGpid: `mw/maps/${TYPE.DENIED_DISCOVERED_GPID}`,\r\n      fetchUrlDownload: `mw/maps/${TYPE.FETCH_URL_GS_MAP_EXPORT}`,\r\n      updateTotalGSMap: `mw/maps/${TYPE.UPDATE_TOTAL_GS_MAP}`,\r\n      fetchGSBrandNames: `mw/maps/${TYPE.GET_GS_BRAND_NAMES}`\r\n    }),\r\n    updateCurrentMapItem(currentMapItem, currentDiscoveredGpidItem) {\r\n      this.currentItem.currentMapItem = currentMapItem\r\n      this.currentItem.currentDiscoveredGpidItem = currentDiscoveredGpidItem\r\n      this.currentItem.gpid = currentDiscoveredGpidItem ? currentDiscoveredGpidItem.gpid : currentMapItem.gpid\r\n    },\r\n    generateAmazonLink(asin) {\r\n      return `https://www.amazon.com/gp/offer-listing/${asin}`\r\n    },\r\n    sortChange(event) {\r\n      this.params.searchort_by = event.sortBy\r\n      if (event.sortBy) {\r\n        this.params.searchort_dir = event.sortDesc ? 'desc' : 'asc'\r\n      } else {\r\n        this.params.searchort_dir = null\r\n      }\r\n      this.paramsChange()\r\n    },\r\n    syncParams() {\r\n      this.paramsChange()\r\n    },\r\n    async paramsChange() {\r\n      await this.fetchMaps(this.params)\r\n      this.$router.push(\r\n        {\r\n          params: {\r\n            client_id: this.nav.clientId\r\n          },\r\n          query: {\r\n            search: this.params.search,\r\n            report_id: this.params.report_id,\r\n            brand_name: this.params.brand_name,\r\n            limit: this.params.limit ? this.params.limit : 100,\r\n            page: this.params.page ? this.params.page : 1\r\n          }\r\n        },\r\n        () => {}\r\n      )\r\n    },\r\n    async reportChange() {\r\n      this.params.brand_name = null\r\n      await this.reloadBrandNames()\r\n      await this.paramsChange()\r\n    },\r\n    async fetchUniqReportId() {\r\n      this.validReports = await this.fetchValidGSReport()\r\n      this.reloadBrandNames()\r\n    },\r\n    async reloadBrandNames() {\r\n      this.brandNames = await this.fetchGSBrandNames({\r\n        report_id: this.params.report_id\r\n      })\r\n    },\r\n    async handleOpenModelDownload() {\r\n      try {\r\n        const res = await this.fetchUrlDownload({ search: this.$route.query.search, report_id: this.$route.query.report_id, brand_name: this.$route.query.brand_name })\r\n        window.location.href = res.url\r\n      } catch (error) {\r\n        this.vToasted('error', error.message)\r\n      }\r\n    },\r\n    handleEditMap(mapId) {\r\n      this.$router.push({\r\n        name: 'MWEditGSMaps',\r\n        params: { client_id: this.nav.clientId, id: mapId },\r\n        query: { ...this.$router.history.current.query }\r\n      })\r\n    },\r\n    async checkIfNeedShowPopup() {\r\n      const map = this.currentItem.currentMapItem\r\n      /* eslint-disable */\r\n      const { gpid, discovered_gpids } = map\r\n      if (!_.find(discovered_gpids, { gpid: gpid })) {\r\n        this.$root.$emit('bv::show::modal', 'modal-confirm-denied-gpid')\r\n      } else {\r\n        await this.handleDeniedDiscoveredGpid()\r\n      }\r\n    },\r\n    async handleDeniedDiscoveredGpid() {\r\n      try {\r\n        const map = this.currentItem.currentMapItem\r\n        const { gpid, status } = this.currentItem.currentDiscoveredGpidItem\r\n        await this.deniedDiscoveredGpid({ gpid: gpid, id: map.id })\r\n        // const gpid = map.gpid\r\n        // this.currentItem.currentMapItem.gpid = ''\r\n        // this.currentItem.currentMapItem.title = ''\r\n        // this.currentItem.currentMapItem.link = ''\r\n        this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.DENIED\r\n        if (status === this.GoogleShoppingMapStatus.NORMAL || status === this.GoogleShoppingMapStatus.ACCEPTED) {\r\n          this.vToasted('success', `Discovered GPID ${gpid} has been marked as denied.`)\r\n        }\r\n        if (status === this.GoogleShoppingMapStatus.DENIED) {\r\n          this.vToasted('success', `Discovered GPID ${gpid} has been marked as normal.`)\r\n        }\r\n      } catch (error) {\r\n        // this.vToasted('error', error.data.message)\r\n        this.vToasted('error', error)\r\n      }\r\n    },\r\n    async handleRemoveDiscoveredGpid() {\r\n      try {\r\n        const map = this.currentItem.currentMapItem\r\n        const gpid = this.currentItem.gpid\r\n        const mapIndex = _.findIndex(this.listMaps.items, item => item.id === map.id)\r\n        const newItem = await this.removeDiscoveredGpid({ gpid: gpid, id: map.id })\r\n        // if (status === this.GoogleShoppingMapStatus.ACCEPTED) {\r\n        //   await this.handleDeniedDiscoveredGpid()\r\n        // }\r\n        if (this.currentItem.currentMapItem.gpid !== gpid) {\r\n          this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.NORMAL\r\n        }\r\n        else {\r\n          this.currentItem.currentMapItem.gpid = ''\r\n        }\r\n        this.$set(this.listMaps.items, mapIndex, newItem)\r\n        this.vToasted('success', `GPID ${gpid} has been removed.`)\r\n      } catch (error) {\r\n        // this.vToasted('error', error.data.message)\r\n        this.vToasted('error', error)\r\n      }\r\n    },\r\n    async handleAcceptDiscoveredGpid() {\r\n      try {\r\n        const map = this.currentItem.currentMapItem\r\n        const { gpid, title, link, status } = this.currentItem.currentDiscoveredGpidItem\r\n        await this.acceptDiscoveredGpid({ gpid: gpid, id: map.id })\r\n        this.currentItem.currentDiscoveredGpidItem.gpid = gpid\r\n        this.currentItem.currentDiscoveredGpidItem.status = this.GoogleShoppingMapStatus.ACCEPTED\r\n        // this.currentItem.currentMapItem.title = this.currentItem.currentDiscoveredGpidItem.title\r\n        // this.currentItem.currentMapItem.gpid = gpid\r\n        // this.currentItem.currentMapItem.title = title\r\n        // this.currentItem.currentMapItem.link = link\r\n        if (status === this.GoogleShoppingMapStatus.NORMAL || status === this.GoogleShoppingMapStatus.DENIED) {\r\n          this.vToasted('success', `Discovered GPID ${gpid} has been cloned to the GPID column.`)\r\n        }\r\n        if (status === this.GoogleShoppingMapStatus.ACCEPTED) {\r\n          this.vToasted('success', `Discovered GPID ${gpid} has been marked as normal.`)\r\n        }\r\n      } catch (error) {\r\n        // this.vToasted('error', error.data.message)\r\n        this.vToasted('error', error)\r\n      }\r\n    },\r\n    async handleremoveGSMap(mapId) {\r\n      try {\r\n        await this.removeGSMap(mapId)\r\n        this.vToasted('success', `This MAP has been removed successfully.`)\r\n      } catch (error) {\r\n        // this.vToasted('error', error.data.message)\r\n        this.vToasted('error', error)\r\n      }\r\n    },\r\n    handleRemoveMulti() {\r\n      let allRemove = this.selectedMaps.map((mapId) => this.removeGSMap(mapId))\r\n      Promise.all(allRemove)\r\n        .then((values) => {\r\n          const newTotalGSmaps = this.listMaps.total - this.selectedMaps.length\r\n          this.updateTotalGSMap(newTotalGSmaps)\r\n          this.vToasted(\r\n            'success',\r\n            `All selected MAPs have been removed successfully.`\r\n          )\r\n          this.selectedMaps = []\r\n        })\r\n        .catch((error) => {\r\n          this.vToasted('error', error.data.message)\r\n        })\r\n    },\r\n    handleReviewDiscoveredGpids(item, mapItem) {\r\n      if (!this.review.isOpenReview) this.review.textTitle = ''\r\n      this.review.isOpenReview = true\r\n      this.review.discoveredGpidList = item\r\n      this.review.reviewMapItem = mapItem\r\n      this.review.AsinName = mapItem.asin\r\n      this.review.UPC = mapItem.upc\r\n      this.review.AmazonTitle = mapItem.amazon_title\r\n      this.resetMapItem(this.review.discoveredGpidList)\r\n      this.review.listGPID = item\r\n      this.review.selectedOption = this.valueOptions[0].value\r\n      if (this.review.selectedOption === 'matched') {\r\n        this.review.discoveredGpidList = this.review.discoveredGpidList.filter(item => item.is_similar_to_amazon_title || item.is_similar_to_brand_name)\r\n      }\r\n    },\r\n    async checkDenied() {\r\n      const { status } = this.currentItem.currentDiscoveredGpidItem\r\n      if (status === this.GoogleShoppingMapStatus.ACCEPTED) {\r\n        this.$bvModal.show('modal-confirm-denied-gpid')\r\n      }\r\n      else {\r\n        await this.handleDeniedDiscoveredGpid()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.params = _.defaultsDeep(this.$route.query, this.defaultParams)\r\n    this.syncParams()\r\n    this.fetchUniqReportId()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-list-title {\r\n  position: relative;\r\n  top: 4px;\r\n}\r\n.dropdown-action {\r\n  margin: 0 !important;\r\n}\r\n.max-width-300 {\r\n  max-width: 300px;\r\n}\r\n.btn-loader {\r\n  width: 12px !important;\r\n  height: 12px !important;\r\n  border-width: 1px !important;\r\n}\r\n.cls-denied {\r\n  opacity: 0.5;\r\n}\r\n.tbl-review ::v-deep {\r\n  max-height: 400px; \r\n  overflow: hidden; \r\n  overflow-y: auto;\r\n\r\n  .th-index {\r\n    width: 3%;\r\n  }\r\n  .th-link {\r\n    width: 7%;\r\n  }\r\n  .th-action {\r\n    width: 10%;\r\n  }\r\n}\r\n.drp-actions ::v-deep {\r\n  .dropdown-menu {\r\n    min-width: 50%;\r\n    height: auto;\r\n    .cls-icon-trash {\r\n      color: #DC3545;\r\n      margin-right: 5px;\r\n    }\r\n    .dropdown-item {\r\n      padding: 6px 15px;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n}\r\n.cls-amazon-title {\r\n  margin-bottom: 15px;\r\n}\r\n.cls-select-options ::v-deep {\r\n  // margin-bottom: 10px;\r\n  .cls-option-title {\r\n    margin-bottom: 0px;\r\n    margin-right: 5px;\r\n  }\r\n  // .drp-option {\r\n  //   width: 30%;\r\n  // }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/page/gs-maps"}]}