{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Project\\CBPO\\plat-mw-web\\src\\store\\modules\\page\\settings\\index.js","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\store\\modules\\page\\settings\\index.js","mtime":1635504980036},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1620898435163},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1626076679949}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Project/CBPO/plat-mw-web/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _actions;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as TYPE from '@/actionTypes';\nimport { MW_API } from '@/service/';\nimport * as URL from '@/service/_constant';\nimport * as utils from '@/shared/utils';\nimport _ from 'lodash';\nvar state = {\n  show_dashboard: false\n};\n\nvar getters = _defineProperty({}, TYPE.FETCH_SETTING, function (state) {\n  return state.show_dashboard;\n});\n\nvar getShareToken = function getShareToken(payload) {\n  var token = _.has(payload, 'share_token') ? payload.share_token : null;\n\n  if (token) {\n    payload = _.omit(payload, ['share_token']);\n  }\n\n  var config = token ? {\n    share_token: token\n  } : {};\n  return {\n    config: config,\n    oriPayload: payload\n  };\n};\n\nvar actions = (_actions = {}, _defineProperty(_actions, TYPE.FETCH_SETTING, function (_ref, params) {\n  var commit = _ref.commit,\n      dispatch = _ref.dispatch;\n  params = _.assign({}, state.defaultParams, params);\n  return new Promise( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var _getShareToken, config, oriPayload, res;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _getShareToken = getShareToken(params), config = _getShareToken.config, oriPayload = _getShareToken.oriPayload;\n              _context.next = 4;\n              return MW_API.get(\"\".concat(URL.GET_SETTINGS(), \"?\").concat(utils.buildUrlQueryString(oriPayload)), config);\n\n            case 4:\n              res = _context.sent;\n              resolve(res.data);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              reject(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n}), _defineProperty(_actions, TYPE.REMOTE_EDIT_SETTING, function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3, _ref4) {\n    var commit, state, id, params;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            commit = _ref3.commit, state = _ref3.state;\n            id = _ref4.id, params = _ref4.params;\n            return _context3.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                var res;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return MW_API.put(URL.PUT_SETTINGS(id), _objectSpread({}, params));\n\n                      case 3:\n                        res = _context2.sent;\n                        resolve(res.data);\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2[\"catch\"](0);\n                        reject(_context2.t0);\n\n                      case 10:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, null, [[0, 7]]);\n              }));\n\n              return function (_x5, _x6) {\n                return _ref6.apply(this, arguments);\n              };\n            }()));\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref5.apply(this, arguments);\n  };\n}()), _defineProperty(_actions, TYPE.REMOTE_UPLOAD_FILES, function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(_ref7, file) {\n    var commit, state, dispatch, res;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            commit = _ref7.commit, state = _ref7.state, dispatch = _ref7.dispatch;\n            _context4.prev = 1;\n            _context4.next = 4;\n            return MW_API.post(URL.POST_FILES(), file);\n\n          case 4:\n            res = _context4.sent;\n            return _context4.abrupt(\"return\", res.data);\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](1);\n            throw _context4.t0;\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref8.apply(this, arguments);\n  };\n}()), _defineProperty(_actions, TYPE.SEND_POLICY_NOTIFICATION, function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref9, emailList) {\n    var commit, result;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            commit = _ref9.commit;\n            _context5.prev = 1;\n            _context5.next = 4;\n            return MW_API.post(URL.POST_POLICY_NOTIFICATION(), emailList);\n\n          case 4:\n            result = _context5.sent;\n            return _context5.abrupt(\"return\", result.data);\n\n          case 8:\n            _context5.prev = 8;\n            _context5.t0 = _context5[\"catch\"](1);\n            throw _context5.t0;\n\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[1, 8]]);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref10.apply(this, arguments);\n  };\n}()), _actions);\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  actions: actions\n};",{"version":3,"sources":["C:/Project/CBPO/plat-mw-web/src/store/modules/page/settings/index.js"],"names":["TYPE","MW_API","URL","utils","_","state","show_dashboard","getters","FETCH_SETTING","getShareToken","payload","token","has","share_token","omit","config","oriPayload","actions","params","commit","dispatch","assign","defaultParams","Promise","resolve","reject","get","GET_SETTINGS","buildUrlQueryString","res","data","REMOTE_EDIT_SETTING","id","put","PUT_SETTINGS","REMOTE_UPLOAD_FILES","file","post","POST_FILES","SEND_POLICY_NOTIFICATION","emailList","POST_POLICY_NOTIFICATION","result","namespaced"],"mappings":"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","sourcesContent":["import * as TYPE from '@/actionTypes'\r\nimport { MW_API } from '@/service/'\r\nimport * as URL from '@/service/_constant'\r\nimport * as utils from '@/shared/utils'\r\nimport _ from 'lodash'\r\n\r\nconst state = {\r\n  show_dashboard: false\r\n}\r\nconst getters = {\r\n  [TYPE.FETCH_SETTING]: (state) => state.show_dashboard\r\n}\r\n\r\nconst getShareToken = (payload) => {\r\n  const token = _.has(payload, 'share_token') ? payload.share_token : null\r\n  if (token) {\r\n    payload = _.omit(payload, ['share_token'])\r\n  }\r\n  const config = token ? { share_token: token } : {}\r\n  return { config: config, oriPayload: payload }\r\n}\r\n\r\nconst actions = {\r\n  [TYPE.FETCH_SETTING]({ commit, dispatch }, params) {\r\n    params = _.assign({}, state.defaultParams, params)\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const { config, oriPayload } = getShareToken(params)\r\n        const res = await MW_API.get(`${URL.GET_SETTINGS()}?${utils.buildUrlQueryString(oriPayload)}`, config)\r\n        resolve(res.data)\r\n      } catch (error) {\r\n        reject(error)\r\n      }\r\n    })\r\n  },\r\n  async [TYPE.REMOTE_EDIT_SETTING]({ commit, state }, { id, params }) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const res = await MW_API.put(URL.PUT_SETTINGS(id), {\r\n          ...params\r\n        })\r\n        resolve(res.data)\r\n      } catch (error) {\r\n        reject(error)\r\n      }\r\n    })\r\n  },\r\n  async [TYPE.REMOTE_UPLOAD_FILES]({ commit, state, dispatch }, file) {\r\n    try {\r\n      const res = await MW_API.post(URL.POST_FILES(), file)\r\n      return res.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  },\r\n  async [TYPE.SEND_POLICY_NOTIFICATION]({ commit }, emailList) {\r\n    try {\r\n      const result = await MW_API.post(URL.POST_POLICY_NOTIFICATION(), emailList)\r\n      return result.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  getters,\r\n  actions\r\n}\r\n"]}]}