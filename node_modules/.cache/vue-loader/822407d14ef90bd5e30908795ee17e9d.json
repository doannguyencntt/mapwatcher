{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\brands\\TableContent.vue?vue&type=template&id=60111dde&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\brands\\TableContent.vue","mtime":1630397415259},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1620898436811},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["\n<b-card :header=\"caption\">\n  <template slot=\"header\">\n    <p class=\"my-0 pull-left align-middle brand-list-title\">\n      <i class=\"icons cui-tags\"></i>\n      <strong> {{ caption }}</strong>\n    </p>\n    <div\n      v-if=\"getPermissions.module_enabled && getPermissions.permissions.braman\"\n      class=\"pull-right align-middle\"\n    >\n      <b-button-group>\n        <router-link :to=\"{name: 'addBrands'}\" tag=\"button\" class=\"btn btn-primary btn-sm\">\n          <i class=\"icons icon-plus\"></i> Add\n        </router-link>\n      </b-button-group>\n    </div>\n  </template>\n  <b-row>\n    <b-col md=\"4\" offset-md=\"4\" class=\"my-0 mb-4\">\n      <b-form-group class=\"mb-0\">\n        <b-input-group class=\"search cancel-action\">\n          <b-form-input\n            placeholder=\"Enter report name\"\n            ref=\"inputSearch\"\n            v-model=\"params.s\"\n            @keyup.enter=\"params.page = 1; paramsChange()\"\n          ></b-form-input>\n          <i v-show=\"params.s\" @click=\"params.s = ''; params.page = 1; paramsChange()\" class=\"icon-close cancel-icon\"></i>\n          <b-input-group-append>\n            <b-button @click=\"params.page = 1; paramsChange()\">\n              <i class=\"icons icon-magnifier\"></i>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n      </b-form-group>\n    </b-col>\n  </b-row>\n  <b-table\n    :dark=\"dark\"\n    :hover=\"hover\"\n    :striped=\"striped\"\n    :bordered=\"bordered\"\n    :small=\"small\"\n    outlined\n    responsive=\"sm\"\n    :items=\"dataSet.items\"\n    :fields=\"captions\"\n    show-empty\n    thead-class=\"thead-light\"\n    :no-local-sorting=\"true\"\n    @sort-changed=\"sortChange($event)\"\n  >\n    <template slot=\"empty\">\n      <div class=\"empty\">There is no data</div>\n    </template>\n    <template slot=\"name_in_dashboard\" slot-scope=\"data\">\n      <p class=\"mb-0\">{{data.item.name_in_dashboard}}</p>\n      <p v-show=\"data.item.name\" class=\"mb-0 small\">Brand: {{data.item.name}}</p>\n      <p v-show=\"data.item.name_google_shopping && data.item.name !== data.item.name_google_shopping\" class=\"mb-0 small\">Google Shopping: {{data.item.name_google_shopping}}</p>\n    </template>\n    <template slot=\"marketplaces\" slot-scope=\"data\">\n      <ul class=\"ml-0 pl-4 mb-0\">\n        <li v-if=\"data.item.marketplaces && data.item.marketplaces.amazon_us\">Amazon</li>\n        <li\n          v-if=\"data.item.marketplaces && data.item.marketplaces.google_shopping\"\n        >Google Shopping</li>\n      </ul>\n    </template>\n    <template slot=\"active\" slot-scope=\"row\">\n      <b-form-checkbox v-model=\"row.item.active\" :disabled=\"true\" switch></b-form-checkbox>\n    </template>\n    <template slot=\"updated\" slot-scope=\"row\">\n      <div class=\"d-flex flex-column d-flex justify-content-center\">\n        <span>{{row.item.updated | formatTime | moment('from')}}</span>\n      </div>\n    </template>\n    <template\n      slot=\"actions\"\n      slot-scope=\"row\"\n      v-if=\"getPermissions.module_enabled && getPermissions.permissions.braman\"\n    >\n      <b-button-group class=\"d-flex flex-row\">\n        <b-button :disabled=\"row.item.last_job.status === 'running'\" variant=\"primary\" size=\"sm\" @click=\"handleEditBrand(row.item)\">\n          <i class=\"icon-note\"></i> Edit\n        </b-button>\n        <b-button :disabled=\"row.item.last_job.status === 'running'\" variant=\"danger\" size=\"sm\" @click=\"handleRemoveItems(row.item, row.name)\">\n          <i class=\"icon-close\"></i> Remove\n        </b-button>\n      </b-button-group>\n    </template>\n    <template slot=\"status\" slot-scope=\"row\">\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <b-button-group>\n          <b-button\n            size=\"sm\"\n            :variant=\"row.item.active && row.item.last_job.status !== 'running' && row.item.marketplaces.amazon_us ? 'warning':'secondary' \"\n            :disabled=\"!row.item.active || row.item.last_job.status === 'running'\n            || !getPermissions.module_enabled || !getPermissions.permissions.braexe || !row.item.marketplaces.amazon_us\"\n            @click=\"handleRunItem(row.item)\"\n          >\n            <i class=\"icon-control-play icons\"></i> Run\n          </b-button>\n        </b-button-group>\n        <div class=\"d-flex align-items-center\" v-if=\"row.item.last_job.status === 'running'\">\n          <b-spinner small class=\"custom_icon\" style=\"border-width: 1px;\"></b-spinner>\n          <span class=\"ml-1 small\">{{row.item.last_job.progress}}%</span>\n        </div>\n        <div class=\"d-flex align-items-center\" v-else>\n          <i class=\"icon-info icons custom_icon\" v-if=\"!row.item.last_job.status\"></i>\n          <i\n            class=\"icon-check icons rounded-circle bg-success custom_icon\"\n            v-if=\"row.item.last_job.status === 'success'\"\n          ></i>\n          <i\n            class=\"icon-close icons text-danger custom_icon\"\n            v-if=\"row.item.last_job.status === 'cancelled'\"\n          ></i>\n          <i\n            class=\"icon-ghost icons text-danger custom_icon\"\n            v-if=\"row.item.last_job.status === 'dead'\"\n          ></i>\n          <i\n            class=\"fa fa-frown-o text-danger custom_icon\"\n            v-if=\"row.item.last_job.status === 'error'\"\n          ></i>\n          <span class=\"ml-1 small\">\n            {{\n            !row.item.last_job.status ? 'No report'\n            : capitalize(row.item.last_job.status)\n            }}\n          </span>\n        </div>\n      </div>\n    </template>\n    <template slot=\"progress_today\" slot-scope=\"row\">\n      <div class=\"small\" v-if=\"typeof(row.item.number_processed_map) === 'number'\">\n        {{row.item.number_processed_map}} / {{row.item.number_total_map}}\n      </div>\n      <div class=\"small\" v-else>\n        N/A\n      </div>\n      <b-button\n              size=\"sm\"\n              :variant=\"'primary'\"\n              @click=\"handleExportForJob(row.item)\"\n              :disabled=\"row.item.isLoad\"\n              v-if=\"row.item.last_job.status === 'success' && row.item.number_processed_map && row.item.number_processed_map > 0\"\n      >\n        <i class=\"icon-cloud-download icons\"></i> Download\n        <b-spinner v-if=\"row.item.isLoad\" label=\"Spinning\" class=\"icon- btn-loader\"></b-spinner>\n      </b-button>\n    </template>\n  </b-table>\n  <nav\n    class=\"d-flex justify-content-center\"\n    v-if=\"dataSet.total > dataSet.page_size && dataSet.items.length > 0\"\n  >\n    <b-pagination\n      :total-rows=\"dataSet.total\"\n      :per-page=\"params.limit\"\n      v-model=\"params.page\"\n      prev-text=\"Prev\"\n      next-text=\"Next\"\n      hide-goto-end-buttons\n      @change=\"params.page = $event; paramsChange()\"\n    />\n  </nav>\n  <b-modal title=\"Please confirm\" centered v-model=\"dialog.run\" @ok=\"handleRun(selected.run)\">\n    Are you sure you want to start running the job to get a report?\n    <template slot=\"modal-footer\" slot-scope=\"{ ok, cancel }\">\n      <b-button size=\"md\" variant=\"warning\" @click=\"ok()\">\n        <i class=\"icon-check icons\"></i> Yes, I understand & confirm!\n      </b-button>\n      <b-button size=\"md\" variant=\"secondary\" @click=\"cancel()\">\n        <i class=\"icon-close icons\"></i> No\n      </b-button>\n    </template>\n  </b-modal>\n  <b-modal\n    title=\"Please confirm\"\n    centered\n    v-model=\"dialog.remove\"\n    @ok=\"removeBrands(selected.remove)\"\n    ok-variant=\"danger\"\n  >\n    Are you sure you want to delete this report?\n    <template slot=\"modal-footer\" slot-scope=\"{ok, cancel}\">\n      <b-button variant=\"warning\" @click=\"ok()\">\n        <i class=\"icon-check\"></i> Yes, I understand &amp; confirm!\n      </b-button>\n      <b-button variant @click=\"cancel()\">\n        <i class=\"icon-close\"></i> No\n      </b-button>\n    </template>\n  </b-modal>\n  <b-modal\n    title\n    modal-class=\"modal-primary mw-modal-custom\"\n    ok-title=\"YES\"\n    cancel-title=\"NO\"\n    v-model=\"dialog.cancel\"\n    @ok=\"handleRun(selected.run)\"\n    ok-variant=\"primary\"\n  >Are you sure you want to run data processing for this report?</b-modal>\n</b-card>\n",null]}