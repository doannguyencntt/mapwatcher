{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\brands\\TableReportMapJob.vue?vue&type=template&id=0e39dd24&scoped=true&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\brands\\TableReportMapJob.vue","mtime":1627611921460},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1620898436811},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1620898436811},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{attrs:{\"header\":_vm.caption},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('p',{staticClass:\"my-0 pull-left align-middle brand-list-title\"},[_c('i',{staticClass:\"icons icon-tag font-weight-bold\"}),_c('strong',[_vm._v(\" \"+_vm._s(_vm.caption))])]),(_vm.getPermissions.module_enabled && _vm.getPermissions.permissions.braman)?_c('div',{staticClass:\"pull-right align-middle\"},[_c('b-button-group',[_c('router-link',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"to\":{ name: 'MWAddBrands', params: { client_id: _vm.nav.clientId } },\"tag\":\"button\"}},[_c('i',{staticClass:\"icons icon-plus\"}),_vm._v(\" Add\\n        \")])],1)],1):_vm._e()]},proxy:true}])},[_c('b-row',[_c('b-col',{staticClass:\"my-0 mb-4\",attrs:{\"md\":\"4\",\"offset-md\":\"4\"}},[_c('b-form-group',{staticClass:\"mb-0\"},[_c('b-input-group',{staticClass:\"search cancel-action\"},[_c('b-form-input',{ref:\"inputSearch\",attrs:{\"placeholder\":\"Enter report name\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.params.page = 1\n              _vm.paramsChange()}},model:{value:(_vm.params.s),callback:function ($$v) {_vm.$set(_vm.params, \"s\", $$v)},expression:\"params.s\"}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.params.s),expression:\"params.s\"}],staticClass:\"icon-close cancel-icon\",on:{\"click\":function($event){_vm.params.s = ''\n              _vm.params.page = 1\n              _vm.paramsChange()}}}),_c('b-input-group-append',[_c('b-button',{on:{\"click\":function($event){_vm.params.page = 1\n                _vm.paramsChange()}}},[_c('i',{staticClass:\"icons icon-magnifier\"})])],1)],1)],1)],1)],1),_c('b-table',{attrs:{\"dark\":_vm.dark,\"hover\":_vm.hover,\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"small\":_vm.small,\"outlined\":\"\",\"responsive\":\"sm\",\"items\":_vm.dataSet.items,\"fields\":_vm.captions,\"show-empty\":\"\",\"thead-class\":\"thead-light\",\"no-local-sorting\":true},on:{\"sort-changed\":function($event){return _vm.sortChange($event)}},scopedSlots:_vm._u([{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"empty\"},[_vm._v(\"There is no data\")])]},proxy:true},{key:\"cell(name_in_dashboard)\",fn:function(data){return [_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(data.item.name_in_dashboard))]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"True MAP:\\n        \"),_c('i',{staticClass:\"icon-check icons rounded-circle icon_true_map\",class:data.item.true_map_report ? 'text-success' : 'text-secondary'})])]}},{key:\"cell(active)\",fn:function(row){return [_c('b-form-checkbox',{attrs:{\"disabled\":true,\"switch\":\"\"},model:{value:(row.item.active),callback:function ($$v) {_vm.$set(row.item, \"active\", $$v)},expression:\"row.item.active\"}})]}},{key:\"cell(updated)\",fn:function(row){return [_c('div',{staticClass:\"d-flex flex-column d-flex justify-content-center\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"moment\")(_vm._f(\"formatTime\")(row.item.updated),'from')))])])]}},(_vm.getPermissions.module_enabled && _vm.getPermissions.permissions.braman)?{key:\"cell(actions)\",fn:function(row){return [_c('b-dropdown',{attrs:{\"id\":\"manage-dropdown\",\"variant\":\"primary\",\"size\":\"sm\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"icon-settings\"}),_vm._v(\" Manage \")]},proxy:true}],null,true)},[_c('b-dropdown-item-button',{on:{\"click\":function($event){return _vm.handleEditBrand(row.item)}}},[_c('i',{staticClass:\"icon-note \"}),_vm._v(\" Edit \")]),_c('b-dropdown-item-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.handleRemoveItems(row.item)}}},[_c('i',{staticClass:\"icon-close \"}),_vm._v(\" Remove \")])],1)]}}:null,{key:\"cell(status)\",fn:function(row){return [(row.item.active)?_c('div',_vm._l((row.item.activeMarketplaces),function(item,indexActiveMarketplaces){return _c('div',{key:item.key,staticClass:\"alert-primary p-2 mt-2 mb-2\"},[_c('h6',{staticClass:\"report-marketplace-header\"},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n            \"),_c('div',{staticClass:\"report-marketplace-name\"},[_vm._v(\"(brand: \"+_vm._s(item.info.name)+\")\")])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\",attrs:{\"data-v-30d88980\":\"\"}},[_c('div',{staticClass:\"btn-group\",attrs:{\"data-v-30d88980\":\"\",\"role\":\"group\"}},[_c('button',{staticClass:\"btn btn-warning btn-sm\",attrs:{\"variant\":item.info.last_job_status && (item.info.last_job_status !== 'running') ? 'warning' : 'secondary',\"disabled\":(item.info.last_job_status && (item.info.last_job_status === 'running')) || !_vm.getPermissions.module_enabled || !_vm.getPermissions.permissions.braexe || _vm.isExceeded(row.item, item.key),\"data-v-30d88980\":\"\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.showModalRunJob(row.item, item.value)}}},[_c('i',{staticClass:\"icon-control-play icons\",attrs:{\"data-v-30d88980\":\"\"}}),_vm._v(\" Run\\n              \")])]),(item.info.last_job_status && item.info.last_job_status === 'running')?_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-spinner',{staticClass:\"custom_icon\",attrs:{\"small\":\"\"}}),_c('span',{staticClass:\"job-progress badge badge-secondary ml-1\"},[_vm._v(_vm._s(item.info.last_job_progress)+\"%\")])],1):_c('div',{staticClass:\"d-flex align-items-center\"},[(item.info.last_job_status && item.info.last_job_status === 'success')?_c('i',{staticClass:\"icon-check icons rounded-circle bg-success custom_icon\"}):_vm._e(),(item.info.last_job_status && item.info.last_job_status === 'cancelled')?_c('i',{staticClass:\"icon-close icons text-danger custom_icon\"}):_vm._e(),(item.info.last_job_status && item.info.last_job_status === 'dead')?_c('i',{staticClass:\"icon-ghost icons text-danger custom_icon\"}):_vm._e(),(item.info.last_job_status && item.info.last_job_status === 'error')?_c('i',{staticClass:\"fa fa-frown-o text-danger custom_icon\"}):_vm._e(),_c('span',{staticClass:\"ml-2 small\",attrs:{\"data-v-30d88980\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(!item.info.last_job_status ? 'No report' : _vm.capitalize(item.info.last_job_status))+\"\\n              \")])]),(item.info.last_job_status && typeof item.info.number_processed_map === 'number')?_c('div',{staticClass:\"small\"},[_vm._v(\"\\n              \"+_vm._s(item.info.number_processed_map)+\" / \"+_vm._s(item.info.number_total_map)+\"\\n            \")]):_c('div',{staticClass:\"small\"},[_vm._v(\"\\n              N/A\\n            \")]),_c('b-button-group',[(item.info.last_job_created && item.info.latest_job && item.info.latest_job.status !== 'running' && item.info.number_processed_map === item.info.number_total_map && (!item.info.all_seller_mode || item.info.all_seller_mode === _vm.AllSellerMode.NONE))?_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"variant\":'primary',\"disabled\":row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad,\"data-v-30d88980\":\"\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleExportForJob(row.item, row.index, item.value, indexActiveMarketplaces)}}},[(!row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad)?_c('i',{staticClass:\"icon-cloud-download icons\"}):_vm._e(),(row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad)?_c('b-spinner',{staticClass:\"icon- btn-loader\",attrs:{\"label\":\"Spinning\"}},[_vm._v(_vm._s(row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad))]):_vm._e(),_vm._v(\"\\n                Download\\n              \")],1):_vm._e(),(item.info.last_job_created && item.info.latest_job && item.info.latest_job.status !== 'running' && item.info.number_processed_map === item.info.number_total_map && (item.info.all_seller_mode && item.info.all_seller_mode !== _vm.AllSellerMode.NONE))?_c('b-dropdown',{attrs:{\"disabled\":row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad,\"id\":\"manage-dropdown\",\"variant\":\"primary\",\"size\":\"sm\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [(!row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad)?_c('i',{staticClass:\"icon-cloud-download icons\"}):_vm._e(),(row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad)?_c('b-spinner',{staticClass:\"icon- btn-loader\",attrs:{\"label\":\"Spinning\"}}):_vm._e(),_vm._v(\"\\n                  Download\\n                \")]},proxy:true}],null,true)},[_c('b-dropdown-item-button',{attrs:{\"disabled\":row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad},on:{\"click\":function($event){return _vm.handleExportForJob(row.item, row.index, item.value, indexActiveMarketplaces, _vm.DashboardFilterSourceType.VIOLATIONS)}}},[_vm._v(\"\\n                  Download Violations\\n                \")]),_c('b-dropdown-item-button',{attrs:{\"disabled\":row.item.activeMarketplaces[indexActiveMarketplaces].info.isLoad},on:{\"click\":function($event){return _vm.handleExportForJob(row.item, row.index, item.value, indexActiveMarketplaces, _vm.DashboardFilterSourceType.ALL_SELLERS)}}},[_vm._v(\"\\n                  Download All Items\\n                \")])],1):_vm._e(),_c('button',{staticClass:\"btn btn-secondary btn-sm\",attrs:{\"type\":\"button\",\"disabled\":_vm.isExceeded(row.item, item.key)},on:{\"click\":function($event){return _vm.handleNavToHistoryMarketplacePage(row.item._id, item.value, row.item.name_in_dashboard)}}},[_c('i',{staticClass:\"icon-clock icons rounded-circle\"}),_c('div',{staticClass:\"ml-1 d-inline\"},[_vm._v(\"History\")])])],1)],1)])}),0):_vm._e()]}}],null,true)}),(_vm.dataSet.total > _vm.dataSet.page_size && _vm.dataSet.items.length > 0)?_c('nav',{staticClass:\"d-flex justify-content-center\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.dataSet.total,\"per-page\":_vm.params.limit,\"prev-text\":\"Prev\",\"next-text\":\"Next\",\"hide-goto-end-buttons\":\"\",\"hide-ellipsis\":\"\"},on:{\"change\":function($event){_vm.params.page = $event\n        _vm.paramsChange()}},model:{value:(_vm.params.page),callback:function ($$v) {_vm.$set(_vm.params, \"page\", $$v)},expression:\"params.page\"}})],1):_vm._e(),_c('b-modal',{attrs:{\"title\":\"Please confirm\",\"centered\":\"\"},on:{\"ok\":function($event){return _vm.handleRunJob(_vm.selected.run)}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n        var ok = ref.ok;\n        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"size\":\"md\",\"variant\":\"warning\"},on:{\"click\":function($event){return ok()}}},[_c('i',{staticClass:\"icon-check icons\"}),_vm._v(\" Yes, I understand & confirm! \")]),_c('b-button',{attrs:{\"size\":\"md\",\"variant\":\"secondary\"},on:{\"click\":function($event){return cancel()}}},[_c('i',{staticClass:\"icon-close icons\"}),_vm._v(\" No \")])]}}]),model:{value:(_vm.dialog.run),callback:function ($$v) {_vm.$set(_vm.dialog, \"run\", $$v)},expression:\"dialog.run\"}},[_vm._v(\"\\n    Are you sure you want to start running the job to get a report?\\n    \"),_c('br'),_c('br'),_c('b-form-checkbox',{on:{\"checked\":_vm.dialog.force_run},model:{value:(_vm.dialog.force_run),callback:function ($$v) {_vm.$set(_vm.dialog, \"force_run\", $$v)},expression:\"dialog.force_run\"}},[_vm._v(\"\\n      Force re-run all MAP (cleanup all today violations and run again)\\n    \")]),_c('br'),_c('b-form-checkbox',{on:{\"checked\":_vm.dialog.ignore_cache},model:{value:(_vm.dialog.ignore_cache),callback:function ($$v) {_vm.$set(_vm.dialog, \"ignore_cache\", $$v)},expression:\"dialog.ignore_cache\"}},[_vm._v(\"\\n      Ignore cache (use the latest marketplace listing)\\n    \")])],1),_c('b-modal',{attrs:{\"title\":\"Please confirm\",\"centered\":\"\",\"ok-variant\":\"danger\"},on:{\"ok\":function($event){return _vm.removeBrands(_vm.selected.remove)}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n        var ok = ref.ok;\n        var cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return ok()}}},[_c('i',{staticClass:\"icon-check\"}),_vm._v(\" Yes, I understand & confirm! \")]),_c('b-button',{attrs:{\"variant\":\"\"},on:{\"click\":function($event){return cancel()}}},[_c('i',{staticClass:\"icon-close\"}),_vm._v(\" No \")])]}}]),model:{value:(_vm.dialog.remove),callback:function ($$v) {_vm.$set(_vm.dialog, \"remove\", $$v)},expression:\"dialog.remove\"}},[_vm._v(\"\\n    Are you sure you want to delete this report?\\n    \")]),_c('b-modal',{attrs:{\"title\":\"\",\"modal-class\":\"modal-primary mw-modal-custom\",\"ok-title\":\"YES\",\"cancel-title\":\"NO\",\"ok-variant\":\"primary\"},on:{\"ok\":function($event){return _vm.handleRun(_vm.selected.run)}},model:{value:(_vm.dialog.cancel),callback:function ($$v) {_vm.$set(_vm.dialog, \"cancel\", $$v)},expression:\"dialog.cancel\"}},[_vm._v(\"Are you sure you want to run data processing for this report?\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}