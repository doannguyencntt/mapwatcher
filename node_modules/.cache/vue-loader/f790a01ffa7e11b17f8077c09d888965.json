{"remainingRequest":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\sellerEnforcements\\Content.vue?vue&type=template&id=4521bc3c&scoped=true&","dependencies":[{"path":"C:\\Project\\CBPO\\plat-mw-web\\src\\components\\page\\sellerEnforcements\\Content.vue","mtime":1639556685420},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1620898436811},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626076743241},{"path":"C:\\Project\\CBPO\\plat-mw-web\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1620898436811}],"contextDependencies":[],"result":["\n<b-card :header=\"caption\" v-if=\"getPermissions.permissions\">\n  <template v-slot:header>\n    <p class=\"po-list-title my-0 pull-left align-middle map-list-title\">\n      <strong><i class=\"fa fa-user-circle-o\"></i>\n      {{ caption }}</strong>\n    </p>\n    <div v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview && getPermissions.permissions.secreate\" class=\"pull-right align-middle\">\n      <b-button-group>\n        <router-link :to=\"{ name: 'MWAddSellerEnforcements', params: { client_id: nav.clientId } }\" tag=\"button\" class=\"btn btn-primary btn-sm\">\n          <i class=\"icons icon-plus\"></i> Add\n        </router-link>\n      </b-button-group>\n    </div>\n  </template>\n  <b-row>\n    <b-col md=\"4\" offset-md=\"4\" class=\"my-0 mb-4\">\n      <b-form-group class=\"mb-0\" v-if=\"getPermissions.permissions.seview\">\n        <b-input-group class=\"search cancel-action\">\n          <b-form-input\n                  placeholder=\"Enter seller name\"\n                  ref=\"inputSearch\"\n                  v-model.trim=\"params.s\"\n                  @keyup.enter=\"\n              params.page = 1\n              paramsChange()\n            \"\n          ></b-form-input>\n          <i\n                  v-show=\"params.s\"\n                  @click=\"\n              params.s = ''\n              params.page = 1\n              paramsChange()\n            \"\n                  class=\"icon-close cancel-icon\"\n          ></i>\n          <b-input-group-append>\n            <b-button\n                    @click=\"\n                params.page = 1\n                paramsChange()\n              \"\n            >\n              <i class=\"icons icon-magnifier\"></i>\n            </b-button>\n          </b-input-group-append>\n        </b-input-group>\n      </b-form-group>\n    </b-col>\n  </b-row>\n  <b-table\n    :dark=\"dark\"\n    :hover=\"hover\"\n    striped\n    :small=\"small\"\n    outlined\n    responsive=\"sm\"\n    thead-class=\"thead-light text-nowrap\"\n    :items=\"getItems\"\n    :fields=\"captions\"\n    show-empty\n    class=\"overflow-auto\"\n    :class=\"'text-left'\"\n  >\n    <template v-slot:empty>\n      <LoadingSpinner :isLoading=\"sellerEnforcementLoading\" v-if=\"sellerEnforcementLoading\"/>\n      <div class=\"align-middle d-flex justify-content-center align-items-center\" v-else>No Sellers</div>\n    </template>\n    <template v-slot:cell(name)=\"data\">\n      <div>\n        {{ data.item.name }}\n      </div>\n    </template>\n    <template v-slot:cell(letter)=\"data\">\n      <button class=\"btn btn-primary btn-sm\" @click=\"handleEditLetter(data.item)\" :disabled=\"!getPermissions.module_enabled || !getPermissions.permissions.seedit\"><i class=\"fa fa-envelope\" aria-hidden=\"true\"></i><span class=\"ml-1\">Edit</span></button>\n    </template>\n    <template v-slot:cell(log)=\"data\">\n      <button v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview\" class=\"btn btn-primary btn-sm\" @click=\"handleGotoHistories(data.item)\"><i class=\"fa fa-history\" aria-hidden=\"true\"></i><span class=\"ml-1\">View</span></button>\n    </template>\n    <template v-slot:cell(frequency)=\"data\">\n      <button v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview && data.item.frequency === 'daily'\" @click=\"handleChangeFrequency(data.item)\" class=\"btn btn-primary btn-sm\" :disabled=\"!getPermissions.permissions.seedit\">Daily</button>\n      <button v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview && data.item.frequency === 'manual'\" class=\"btn bg-secondary btn-sm\" @click=\"handleChangeFrequency(data.item)\" :disabled=\"!getPermissions.permissions.seedit\">Manual</button>\n      <a href=\"javascript:void(0);\" v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview\" @click=\"handleSendMail(data.item)\" :class=\"{'disabled-icon': !getPermissions.permissions.sesend}\"><i class=\"fa fa-paper-plane pl-1\"></i></a>\n    </template>\n    <template v-slot:cell(sender)=\"data\">\n      <div v-if=\"data.item.sender_name || data.item.sender_email\" class=\"text-truncate\" :id=\"`sender-${data.item.name}`\">\n        <strong v-if=\"data.item.sender_name\">{{ data.item.sender_name }} </strong>\n        <span v-if=\"data.item.sender_email\">&lt;{{ data.item.sender_email }}&gt;</span>\n      </div>\n      <div v-else>\n        <b-badge variant=\"secondary\">empty</b-badge>\n      </div>\n      <b-popover\n        :target=\"`sender-${data.item.name}`\"\n        triggers=\"hover\"\n        placement=\"top\"\n        v-if=\"data.item.sender_email\"\n      >\n        <template v-slot:title>Email</template>\n        <div>\n          <a href=\"javascript:void(0);\"><i class=\"fa fa-envelope\" /></a>\n          {{ data.item.sender_email }}\n        </div>\n      </b-popover>\n    </template>\n    <template v-slot:cell(contacts)=\"data\">\n      <button v-if=\"getPermissions.module_enabled && getPermissions.permissions.seview\" @click=\"handleGotoEditContacts(data.item)\" class=\"btn btn-primary btn-sm text-nowrap\">({{data.item.contacts.length}}) <i class=\"fa fa-user-o\" aria-hidden=\"true\"></i><span class=\"ml-1\">View</span></button>\n    </template>\n    <template v-slot:cell(actions)=\"data\">\n      <!-- <b-dropdown variant=\"primary\" class=\"mr-1 small-dropdown\" size=\"sm\"\n        :disabled=\"!getPermissions.module_enabled || (!getPermissions.permissions.seedit && !getPermissions.permissions.sedelete)\">\n        <template v-slot:button-content>\n          <i class=\"icon-settings\"></i> Manage\n        </template>\n        <b-dropdown-item-button\n          v-if=\"getPermissions.permissions.seedit\"\n          @click=\"handleEditItem(data.item)\"\n        >\n          <i class=\"icon-note text-primary\"></i> Edit\n        </b-dropdown-item-button>\n        <b-dropdown-divider></b-dropdown-divider>\n        <b-dropdown-item-button\n          v-if=\"getPermissions.permissions.sedelete\"\n          @click=\"handleRemoveItem(data.item)\"\n        >\n          <i class=\"icon-close text-danger\"></i> Delete\n        </b-dropdown-item-button>\n      </b-dropdown> -->\n      <b-dropdown v-if=\"getPermissions.permissions.seedit\" variant=\"primary\" size=\"sm\" split text=\"Edit\" @click=\"handleEditItem(data.item)\" class=\"drp-actions\" :disabled=\"!getPermissions.module_enabled || (!getPermissions.permissions.seedit && !getPermissions.permissions.sedelete)\">\n        <b-dropdown-item v-if=\"getPermissions.permissions.sedelete\" variant=\"danger\" @click=\"handleRemoveItem(data.item)\">\n          <i class=\"icon-trash cls-icon-trash\"></i>Remove\n        </b-dropdown-item>\n      </b-dropdown>\n    </template>\n  </b-table>\n  <b-modal hide-footer size=\"lg\" title=\"Edit Email Template\" centered v-model=\"dialog.letter\" ok-variant=\"danger\">\n    <b-row>\n      <b-col md=\"2\">\n        <div>Send To </div>\n      </b-col>\n      <b-col md=\"10\" >\n        <b-col class=\"border\" v-if=\"selected.item && selected.item.contacts && selected.item.contacts.length > 0\">\n          <ul>\n            <li v-for=\"(item, _i) in selected.item.contacts\" v-bind:key=\"_i\">\n              {{item.contact_name}} &lt;{{item.email}}&gt; <div class=\"d-inline mr-1\" v-if=\"_i < (selected.item.contacts.length - 1)\">, </div>\n            </li>\n          </ul>\n        </b-col>\n      </b-col>\n    </b-row>\n    <br>\n    <b-row>\n      <b-col md=\"2\">\n        <div>Email Body </div>\n      </b-col>\n      <b-col md=\"10\">\n        <vue-editor :editorToolbar=\"vueEditorCustomToolbar\" v-model=\"selected.letter.body\"></vue-editor>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-3\">\n      <b-col md=\"2\">\n      </b-col>\n      <b-col md=\"5\">\n        <b-form-checkbox v-model=\"selected.letter.include_document\" class=\"mb-2 basicText font-weight-bold\" switch>Include MAP Pricing Policy Document</b-form-checkbox>\n      </b-col>\n      <b-col md=\"5\" class=\"text-right\">\n        <b-button variant=\"warning\" @click=\"handleUpdateLetter()\"> <i class=\"icon-check\"></i> Save</b-button>\n      </b-col>\n    </b-row>\n  </b-modal>\n  <b-modal title=\"Please confirm\" centered v-model=\"dialog.switch\" @ok=\"changeFrequencyMode()\" ok-variant=\"danger\">\n    Are you sure you want to change Frequency Mode of this seller?\n    <template v-slot:modal-footer=\"{ ok, cancel }\">\n      <b-button variant=\"warning\" @click=\"ok()\"> <i class=\"icon-check\"></i> Yes, I understand &amp; confirm! </b-button>\n      <b-button variant @click=\"cancel()\"> <i class=\"icon-close\"></i> No </b-button>\n    </template>\n  </b-modal>\n  <b-modal title=\"Please confirm\" centered v-model=\"dialog.remove\" @ok=\"removeItem()\" ok-variant=\"danger\">\n    Are you sure you want to delete this seller?\n    <template v-slot:modal-footer=\"{ ok, cancel }\">\n      <b-button variant=\"warning\" @click=\"ok()\"> <i class=\"icon-check\"></i> Yes, I understand &amp; confirm! </b-button>\n      <b-button variant @click=\"cancel()\"> <i class=\"icon-close\"></i> No </b-button>\n    </template>\n  </b-modal>\n  <b-modal hide-header centered v-model=\"dialog.update_sender\">\n    <strong class=\"d-block my-2\">Please update sender first to send the email.</strong>\n    <template v-slot:modal-footer=\"{ cancel }\">\n      <b-button variant=\"primary\" @click=\"cancel()\"> <i class=\"icon-check\"></i> OK </b-button>\n    </template>\n  </b-modal>\n  <b-modal title=\"Please confirm\" centered v-model=\"dialog.send_mail\" @ok=\"handleManualSendMail()\" ok-variant=\"danger\">\n    Are you sure you want to send violation report to this contact list:\n    <div v-if=\"selected.item && selected.item.contacts\" class=\"overflow-hidden\">\n      <div v-for=\"(item, index) in selected.item.contacts\" v-bind:key=\"index\"  class=\"float-left\" :class=\"index > 0 ? 'ml-1' : ''\">\n        {{item.contact_name}} &lt;{{item.email}}&gt;<span v-if=\"index < (selected.send_mail.total_contact - 1)\">, </span></div>\n    </div>\n    <p v-if=\"selected.item\" class=\"d-block mt-2 mb-0\">With the sender is:&nbsp;\n      <strong>{{ selected.item.sender_name || 'Channel Precision' }}</strong>\n      <strong>&nbsp;&lt;{{ selected.item.sender_email }}&gt;</strong>\n    </p>\n    <p v-if=\"selected.item\">Violation date:\n      <v-select class=\"w-50 ml-2 mt-2 d-inline-block\" :clearable=\"false\" v-model=\"selected.send_mail.date\" :options=\"selected.history_dates\">\n        <span slot=\"no-options\">No violation date.</span>\n      </v-select>\n    </p>\n    <template v-slot:modal-footer=\"{ ok, cancel }\">\n      <b-button variant=\"warning\" @click=\"ok()\"> <i class=\"icon-check\"></i> Yes, I understand &amp; confirm! </b-button>\n      <b-button variant @click=\"cancel()\"> <i class=\"icon-close\"></i> No </b-button>\n    </template>\n  </b-modal>\n  <nav\n    class=\"d-flex justify-content-center\"\n    v-if=\"listSellers.total > listSellers.page_size && listSellers.items.length > 0\"\n  >\n    <b-pagination\n            :total-rows=\"listSellers.total\"\n            :per-page=\"params.limit\"\n            v-model=\"params.page\"\n            prev-text=\"Prev\"\n            next-text=\"Next\"\n            hide-goto-end-buttons\n            @change=\"params.page = $event, paramsChange()\"\n            hide-ellipsis\n    />\n  </nav>\n</b-card>\n",null]}