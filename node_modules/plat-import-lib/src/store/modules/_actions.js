import sdkAxios from '@/services/sdkAxios'
import authSvc from '@/services/authSvc'
import { FETCH_PERMISSIONS } from '@/services/_constant'

export default {
  fetchPermissions: async ({ commit }) => {
    try {
      let clientId = await authSvc.getCurrentClientId()
      let { data } = await sdkAxios(FETCH_PERMISSIONS(clientId), { method: 'get' })
      commit('setPermissions', data)
    } catch (err) {
      return err.response.data.statusCode
    }
  }
}
