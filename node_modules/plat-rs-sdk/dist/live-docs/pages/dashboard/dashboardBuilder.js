const sdkDashBoardBuilderPage = Vue.component('sdkDashBoardBuilderPage', {
  template: `
    <div class="row">
      <div class="col-7">
        <div id="dashboard-drop-root">
        </div>
      </div>
      <div class="col-5">
        <div id="widget-drag-root">
        </div>
      </div>
      <div class="col-12 mt-2">
        <sdk-export-code :templates="getTemplate" />
      </div>
    </div>
  `,
  data() {
    return {
      templateDropLayout: '<cbpo-drop-layout-container config-ref="layoutConfig"></cbpo-drop-layout-container>',
      templateWidgetContainer: '<cbpo-widget-container config-ref="widgetsConfig"></cbpo-widget-container>',
      widgetsConfig: {
        scope: '70967d92-57fe-435e-9699-597d1b85619f',
        dragWidgets: {
          enabled: true
        },
        widgets: [{"screenshot_status":"success","deleted":false,"ds_id":"baae5ccb-34fa-4c98-81f2-e99888501ab8","name":"test 111","cf_object":{"config":{"dataSource":"baae5ccb-34fa-4c98-81f2-e99888501ab8","widgetConfig":{"grid":{"x":0,"y":0,"w":12,"h":4,"i":0},"autoHeight":false,"widget":{"title":{"text":"Widget Title","enabled":true}},"elements":[{"type":"cbpo-element-chart","config":{"dataSource":"baae5ccb-34fa-4c98-81f2-e99888501ab8","library":"chartjs","columns":[{"name":"ASIN Type","displayName":"ASIN Type","type":"string","format":null,"aggrFormats":null},{"name":"_id","displayName":"Id","type":"string","format":null,"aggrFormats":null}],"sizeSettings":{"defaultMinSize":250,"warningText":"The area is too small for this visualization."},"charts":[{"axis":{"x":[{"id":"x_id-95574a17-2dae-4143-8d96-90aa5aef2d56","type":"category","display":true,"format":null,"scaleLabel":{"display":false,"labelString":""},"ticks":{"fontColor":"#666","fontSize":11,"fontStyle":"bold"}}],"y":[{"id":"y_id-95574a17-2dae-4143-8d96-90aa5aef2d56","type":"linear","format":null,"position":"left","stack":false,"ticks":{"beginAtZero":true,"stepSize":"","maxTicksLimit":5,"fontColor":"#666","fontSize":11,"fontStyle":"bold"},"scaleLabel":{"display":false,"labelString":""}}]},"options":{"legend":{"position":"bottom"},"pie":{"type":"pie"},"borderWidth":0},"series":[{"type":"pie","name":"ASIN Type ( Count )","axis":{"x":"x_id-95574a17-2dae-4143-8d96-90aa5aef2d56","y":"y_id-95574a17-2dae-4143-8d96-90aa5aef2d56"},"data":{"x":"_id","y":"ASIN Type"},"id":"id-95574a17-2dae-4143-8d96-90aa5aef2d56"}]}],"sorting":[],"grouping":{"columns":[{"name":"_id"}],"aggregations":[{"column":"ASIN Type","aggregation":"count","alias":"ASIN Type_count_id-95574a17-2dae-4143-8d96-90aa5aef2d56"},{"column":"ASIN Type","aggregation":"count","alias":"ASIN Type_count_id-95574a17-2dae-4143-8d96-90aa5aef2d56"}]},"pagination":{"limit":5000,"current":1,"type":"buttons"},"color_scheme":"Google","messages":{"no_data_at_all":"No data","no_data_found":"No data found"},"id":"id-91427117-7c9b-43b0-a258-c6b2ffd85353"}}],"filter":{"form":{"config":{"controls":[]}},"builder":{"enabled":false,"config":{"trigger":{"label":"Setting Filter"},"modal":{"title":"Query Builder"},"format":{"temporal":{"date":"YYYY-MM-DD","datetime":"YYYY-MM-DD hh:mm"}},"query":{"id":null,"level":0,"type":"AND","conditions":[]}}}},"columnManager":{"enabled":false,"config":{"trigger":{"label":"Manage Columns"},"modal":{"title":"Manage Columns"},"managedColumns":[]}},"menu":{"enabled":true,"config":{"label":{"text":""},"icons":{"css":"fa fa-ellipsis-h"},"dataSource":null,"selection":{"options":[{"label":"Widget Settings","icon":"fa fa-cog","value":"widget-settings","type":"item"},{"label":"Element Settings","icon":"fa fa-cog","value":"element-settings","type":"item"},{"label":"Remove","icon":"fa fa-times","value":"remove","type":"item"},{"type":"divider"},{"label":"Download CSV","icon":"fa fa-download","value":"csv","type":"item"}]}}}},"id":"id-95660189-b53a-43db-801f-c0e5fbc35ec9"}},"client_id":"aa24004b-af00-4782-a156-9689fb9abf22","created":"2020-02-21T04:37:09.839Z","modified":"2020-02-21T04:37:09.839Z","__v":0,"screenshot":"https://storage.googleapis.com/precise/widget-2020-02-21T04:37:44.143Z","revisions":null,"id":"b112c247-bb8b-4827-baa6-8296bba49fb6"},{"screenshot_status":"success","deleted":false,"ds_id":"baae5ccb-34fa-4c98-81f2-e99888501ab8","name":"test 2","cf_object":{"config":{"dataSource":"baae5ccb-34fa-4c98-81f2-e99888501ab8","widgetConfig":{"grid":{"x":0,"y":0,"w":12,"h":4,"i":0},"widget":{"title":{"text":"Widget Title","enabled":true}},"elements":[{"type":"cbpo-element-chart","config":{"dataSource":"baae5ccb-34fa-4c98-81f2-e99888501ab8","library":"chartjs","columns":[{"name":"_id","type":"string","header":{"format":null},"cell":{"width":100,"format":null,"aggrFormats":null},"sortable":{"enabled":true},"visible":true,"displayName":"Id"},{"name":"ASIN Type","type":"string","header":{"format":null},"cell":{"width":100,"format":null,"aggrFormats":null},"sortable":{"enabled":true},"visible":true,"displayName":"ASIN Type"}],"charts":[{"axis":{"x":[],"y":[]},"options":{"legend":{"position":"bottom"},"stacking":"","isHorizontal":false},"series":[{"type":"bar","name":"Series 1","axis":{"x":null,"y":null},"data":{"x":"_id","y":"ASIN Type"}}]}],"sorting":[],"grouping":{"columns":[{"name":"_id"}],"aggregations":[{"column":"ASIN Type","aggregation":"count","alias":"ASIN Type"}]},"pagination":{"limit":5000,"current":1,"type":"buttons"},"color_scheme":"Google","messages":{"no_data_at_all":"No data","no_data_found":"No data found"},"id":"id-1be0af17-e242-4754-9328-b3cf14524305"}}],"filter":{"controls":[]},"queryBuilder":{"enabled":false,"config":{"trigger":{"label":"Setting Filter"},"modal":{"title":"Query Builder"},"format":{"temporal":{"date":"YYYY-MM-DD","datetime":"YYYY-MM-DD hh:mm"}},"filter":{"id":null,"level":0,"type":"AND","conditions":[]}}},"columnManager":{"enabled":false,"config":{"trigger":{"label":"Manage Columns"},"modal":{"title":"Manage Columns"},"managedColumns":[]}}},"id":"id-cd2a4634-d6c0-442c-8bb0-e4e988e2a6e3"}},"client_id":"aa24004b-af00-4782-a156-9689fb9abf22","created":"2020-02-25T07:11:58.582Z","modified":"2020-02-25T07:11:58.582Z","__v":0,"screenshot":"https://storage.googleapis.com/precise/widget-2020-02-25T07:12:45.928Z","revisions":null,"id":"10ff8a35-0250-45a9-9e65-8440eb5dd242"},{"screenshot_status":"success","deleted":false,"ds_id":"088c0bd2-51ac-4f7c-b969-2be052a06600","name":"test header","cf_object":{"config":{"dataSource":"088c0bd2-51ac-4f7c-b969-2be052a06600","widgetConfig":{"grid":{"x":0,"y":0,"w":12,"h":4,"i":0},"widget":{"title":{"text":"Widget Title","enabled":true}},"elements":[{"type":"cbpo-element-chart","config":{"dataSource":"088c0bd2-51ac-4f7c-b969-2be052a06600","library":"chartjs","columns":[{"name":"_id","type":"string","header":{"format":null},"cell":{"width":100,"format":null,"aggrFormats":null},"sortable":{"enabled":true},"visible":true,"displayName":"Id"},{"name":"OrderDate","type":"string","header":{"format":null},"cell":{"width":100,"format":null,"aggrFormats":null},"sortable":{"enabled":true},"visible":true,"displayName":"Order Date"}],"charts":[{"axis":{"x":[],"y":[]},"options":{"legend":{"position":"bottom"}},"series":[{"type":"line","name":"Series 1","axis":{"x":null,"y":null},"data":{"x":"_id","y":"OrderDate"}}]}],"sorting":[],"grouping":{"columns":[{"name":"_id"}],"aggregations":[{"column":"OrderDate","aggregation":"count","alias":"OrderDate"}]},"pagination":{"limit":5000,"current":1,"type":"buttons"},"color_scheme":"Google","messages":{"no_data_at_all":"No data","no_data_found":"No data found"},"id":"id-fbd7caf1-1b45-446f-b0f6-cc0d277a3b95"}}],"filter":{"controls":[]},"queryBuilder":{"enabled":false,"config":{"trigger":{"label":"Setting Filter"},"modal":{"title":"Query Builder"},"format":{"temporal":{"date":"YYYY-MM-DD","datetime":"YYYY-MM-DD hh:mm"}},"filter":{"id":null,"level":0,"type":"AND","conditions":[]}}},"columnManager":{"enabled":false,"config":{"trigger":{"label":"Manage Columns"},"modal":{"title":"Manage Columns"},"managedColumns":[]}}},"id":"id-504c8be1-4159-4b2b-aaf4-2cdf291979eb"}},"client_id":"aa24004b-af00-4782-a156-9689fb9abf22","created":"2020-02-27T10:06:27.184Z","modified":"2020-02-27T10:06:27.184Z","__v":0,"screenshot":"https://storage.googleapis.com/precise/widget-2020-02-27T10:06:51.414Z","revisions":null,"id":"7c9a5c86-9988-42f6-a7a5-5b73ce06ecb9"},{"screenshot_status":"success","deleted":false,"ds_id":"c8029937-7f98-468f-9211-c1dd7323ac99","name":"abc","cf_object":{"config":{"dataSource":"c8029937-7f98-468f-9211-c1dd7323ac99","widgetConfig":{"grid":{"x":0,"y":0,"w":12,"h":4,"i":0},"autoHeight":false,"widget":{"title":{"text":"Widget Title","enabled":true}},"action":{"elements":[]},"elements":[{"type":"cbpo-element-chart","config":{"dataSource":"c8029937-7f98-468f-9211-c1dd7323ac99","library":"chartjs","columns":[{"name":"ASIN","displayName":"ASIN","type":"string","format":null,"aggrFormats":null},{"name":"Product Title","displayName":"Product Title","type":"string","format":null,"aggrFormats":null}],"sizeSettings":{"defaultMinSize":250,"warningText":"The area is too small for this visualization."},"charts":[{"axis":{"x":[{"id":"x_id-a3688310-6fe0-4fd2-b50b-a380be3171e4","type":"category","display":true,"format":null,"scaleLabel":{"display":false,"labelString":""},"ticks":{"fontColor":"#666","fontSize":11,"fontStyle":"bold"}}],"y":[{"id":"y_id-a3688310-6fe0-4fd2-b50b-a380be3171e4","type":"linear","format":null,"position":"left","stack":false,"ticks":{"beginAtZero":true,"stepSize":"","maxTicksLimit":5,"fontColor":"#666","fontSize":11,"fontStyle":"bold"},"scaleLabel":{"display":false,"labelString":""}}]},"options":{"legend":{"position":"bottom"},"pie":{"type":"pie"},"borderWidth":0},"series":[{"type":"pie","name":"Product Title ( Count )","axis":{"x":"x_id-a3688310-6fe0-4fd2-b50b-a380be3171e4","y":"y_id-a3688310-6fe0-4fd2-b50b-a380be3171e4"},"data":{"x":"ASIN","y":"Product Title"},"id":"id-a3688310-6fe0-4fd2-b50b-a380be3171e4"}]}],"sorting":[],"grouping":{"columns":[{"name":"ASIN"}],"aggregations":[{"column":"Product Title","aggregation":"count","alias":"Product Title_count_id-a3688310-6fe0-4fd2-b50b-a380be3171e4"}]},"pagination":{"limit":5000,"current":1,"type":"buttons"},"color_scheme":"Google","messages":{"no_data_at_all":"No data","no_data_found":"No data found"},"id":"id-03b5b8df-2c08-4a01-9ade-284c9a4b9ba0"}}],"filter":{"form":{"config":{"controls":[]}},"builder":{"enabled":false,"config":{"trigger":{"label":"Setting Filter"},"modal":{"title":"Query Builder"},"format":{"temporal":{"date":"YYYY-MM-DD","datetime":"YYYY-MM-DD hh:mm"}},"threshold":{"maxLevel":5},"query":{"id":null,"level":0,"type":"AND","conditions":[]}}}},"columnManager":{"enabled":false,"config":{"trigger":{"label":"Manage Columns"},"modal":{"title":"Manage Columns"},"managedColumns":[]}},"menu":{"enabled":true,"config":{"label":{"text":""},"icons":{"css":"fa fa-ellipsis-h"},"dataSource":null,"selection":{"options":[{"label":"Widget Settings","icon":"fa fa-cog","value":"widget-settings","type":"item"},{"label":"Element Settings","icon":"fa fa-cog","value":"element-settings","type":"item"},{"label":"Remove","icon":"fa fa-times","value":"remove","type":"item"},{"type":"divider"},{"label":"Download CSV","icon":"fa fa-download","value":"csv","type":"item"}]}}}},"id":"id-b6898881-9552-4c18-b0dd-7e9e5e4993ee","templates":[]}},"client_id":"aa24004b-af00-4782-a156-9689fb9abf22","created":"2020-03-20T09:52:55.474Z","modified":"2020-03-20T09:52:55.474Z","__v":0,"screenshot":"https://storage.googleapis.com/precise/widget-2020-03-20T09:53:37.070Z","revisions":null,"id":"baf7ef24-adfc-4a87-a9a4-a9f848f70b9a"}]
      },
      layoutConfig: {
        scope: '70967d92-57fe-435e-9699-597d1b85619f',
        buildDashboard: {
          enabled: true
        },
        dashboardConfig: {
          widgetLayout: {
            widgets: [],
            gridConfig: {
              defaultHeight: 20,
              rowHeight: 10
            }
          }
        }
      }
    }
  },
  components: {
    'sdk-export-code': sdkExportCodeComponent
  },
  mixins: [configMixins, renderMixins],
  computed: {
    getTemplate() {
      return [
        {
          name: 'Dashboard Drop Layout',
          tag: this.templateDropLayout,
          config: this.layoutConfig
        },
        {
          name: 'Widget Drag Layout',
          tag: this.templateWidgetContainer,
          config: this.widgetsConfig
        }
      ]
    }
  },
  mounted() {
    this.render('#dashboard-drop-root', this.templateDropLayout, 'http://ds-api.dev.channelprecision.com/v1')
    this.render('#widget-drag-root', this.templateWidgetContainer, 'http://ds-api.dev.channelprecision.com/v1')
  },
  created() {
    window.layoutConfig = _.cloneDeep(this.layoutConfig)
    window.widgetsConfig = _.cloneDeep(this.widgetsConfig)
  }
})
