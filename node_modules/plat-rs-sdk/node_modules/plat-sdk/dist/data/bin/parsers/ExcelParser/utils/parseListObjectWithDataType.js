"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseListObjectsWithDataType = void 0;
var praseStringToCommonDataType_1 = require("../utils/praseStringToCommonDataType");
/**
 * parse list of objects along appropriate data type
 * @param listObjects
 * @param cols
 */
exports.parseListObjectsWithDataType = function (listObjects, cols) {
    var result = [];
    listObjects.forEach(function (item) {
        result.push(parseObjectWithDataType(item, cols));
    });
    return result;
};
/**
 * parse value of object along appropriate data type
 * @param obj
 * @param cols
 */
var parseObjectWithDataType = function (obj, cols) {
    var parsedObj = {};
    var _loop_1 = function (key, value) {
        var _a;
        var col = cols.find(function (item) {
            return item.name === key;
        });
        var type = void 0;
        if (col) {
            type = col.type;
        }
        else {
            type = 'string';
        }
        var parsedValue = praseStringToCommonDataType_1.parseStringToCommonDataType(value, type);
        Object.assign(parsedObj, (_a = {}, _a[key] = parsedValue, _a));
    };
    for (var _i = 0, _a = Object.entries(obj); _i < _a.length; _i++) {
        var _b = _a[_i], key = _b[0], value = _b[1];
        _loop_1(key, value);
    }
    return parsedObj;
};
